(()=>{var mV=Object.create;var Vg=Object.defineProperty,vV=Object.defineProperties,hV=Object.getOwnPropertyDescriptor,yV=Object.getOwnPropertyDescriptors,SV=Object.getOwnPropertyNames,Gg=Object.getOwnPropertySymbols,_V=Object.getPrototypeOf,O_=Object.prototype.hasOwnProperty,Fw=Object.prototype.propertyIsEnumerable;var N_=(e,t,r)=>t in e?Vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t)=>{for(var r in t||(t={}))O_.call(t,r)&&N_(e,r,t[r]);if(Gg)for(var r of Gg(t))Fw.call(t,r)&&N_(e,r,t[r]);return e},fi=(e,t)=>vV(e,yV(t));var Rw=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Hg=e=>typeof e=="symbol"?e:e+"",Lw=(e,t)=>{var r={};for(var n in e)O_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Gg)for(var n of Gg(e))t.indexOf(n)<0&&Fw.call(e,n)&&(r[n]=e[n]);return r};var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),D_=(e,t)=>{for(var r in t)Vg(e,r,{get:t[r],enumerable:!0})},CV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of SV(t))!O_.call(e,i)&&i!==r&&Vg(e,i,{get:()=>t[i],enumerable:!(n=hV(t,i))||n.enumerable});return e};var X=(e,t,r)=>(r=e!=null?mV(_V(e)):{},CV(t||!e||!e.__esModule?Vg(r,"default",{value:e,enumerable:!0}):r,e));var Uw=(e,t,r)=>N_(e,typeof t!="symbol"?t+"":t,r);var zg=k((RK,Mw)=>{"use strict";var kw=Object.getOwnPropertySymbols,EV=Object.prototype.hasOwnProperty,TV=Object.prototype.propertyIsEnumerable;function bV(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function IV(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Mw.exports=IV()?Object.assign:function(e,t){for(var r,n=bV(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)EV.call(r,a)&&(n[a]=r[a]);if(kw){i=kw(r);for(var s=0;s<i.length;s++)TV.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n}});var eN=k(Ge=>{"use strict";var F_=zg(),Gu=60103,Vw=60106;Ge.Fragment=60107;Ge.StrictMode=60108;Ge.Profiler=60114;var Hw=60109,zw=60110,jw=60112;Ge.Suspense=60113;var qw=60115,Yw=60116;typeof Symbol=="function"&&Symbol.for&&(kn=Symbol.for,Gu=kn("react.element"),Vw=kn("react.portal"),Ge.Fragment=kn("react.fragment"),Ge.StrictMode=kn("react.strict_mode"),Ge.Profiler=kn("react.profiler"),Hw=kn("react.provider"),zw=kn("react.context"),jw=kn("react.forward_ref"),Ge.Suspense=kn("react.suspense"),qw=kn("react.memo"),Yw=kn("react.lazy"));var kn,Bw=typeof Symbol=="function"&&Symbol.iterator;function xV(e){return e===null||typeof e!="object"?null:(e=Bw&&e[Bw]||e["@@iterator"],typeof e=="function"?e:null)}function qc(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ww={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kw={};function Vu(e,t,r){this.props=e,this.context=t,this.refs=Kw,this.updater=r||Ww}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(qc(85));this.updater.enqueueSetState(this,e,t,"setState")};Vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qw(){}Qw.prototype=Vu.prototype;function R_(e,t,r){this.props=e,this.context=t,this.refs=Kw,this.updater=r||Ww}var L_=R_.prototype=new Qw;L_.constructor=R_;F_(L_,Vu.prototype);L_.isPureReactComponent=!0;var U_={current:null},Jw=Object.prototype.hasOwnProperty,Xw={key:!0,ref:!0,__self:!0,__source:!0};function $w(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Jw.call(t,n)&&!Xw.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Gu,type:e,key:o,ref:a,props:i,_owner:U_.current}}function AV(e,t){return{$$typeof:Gu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gu}function wV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gw=/\/+/g;function P_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wV(""+e.key):t.toString(36)}function qg(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Gu:case Vw:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+P_(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(Gw,"$&/")+"/"),qg(i,t,r,"",function(l){return l})):i!=null&&(k_(i)&&(i=AV(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gw,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=n+P_(o,s);a+=qg(o,t,r,u,i)}else if(u=xV(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=n+P_(o,s++),a+=qg(o,t,r,u,i);else if(o==="object")throw t=""+e,Error(qc(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function jg(e,t,r){if(e==null)return e;var n=[],i=0;return qg(e,n,"","",function(o){return t.call(r,o,i++)}),n}function NV(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Zw={current:null};function Io(){var e=Zw.current;if(e===null)throw Error(qc(321));return e}var OV={ReactCurrentDispatcher:Zw,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:U_,IsSomeRendererActing:{current:!1},assign:F_};Ge.Children={map:jg,forEach:function(e,t,r){jg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!k_(e))throw Error(qc(143));return e}};Ge.Component=Vu;Ge.PureComponent=R_;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OV;Ge.cloneElement=function(e,t,r){if(e==null)throw Error(qc(267,e));var n=F_({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=U_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Jw.call(t,u)&&!Xw.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Gu,type:e.type,key:i,ref:o,props:n,_owner:a}};Ge.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:zw,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};Ge.createElement=$w;Ge.createFactory=function(e){var t=$w.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:jw,render:e}};Ge.isValidElement=k_;Ge.lazy=function(e){return{$$typeof:Yw,_payload:{_status:-1,_result:e},_init:NV}};Ge.memo=function(e,t){return{$$typeof:qw,type:e,compare:t===void 0?null:t}};Ge.useCallback=function(e,t){return Io().useCallback(e,t)};Ge.useContext=function(e,t){return Io().useContext(e,t)};Ge.useDebugValue=function(){};Ge.useEffect=function(e,t){return Io().useEffect(e,t)};Ge.useImperativeHandle=function(e,t,r){return Io().useImperativeHandle(e,t,r)};Ge.useLayoutEffect=function(e,t){return Io().useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Io().useMemo(e,t)};Ge.useReducer=function(e,t,r){return Io().useReducer(e,t,r)};Ge.useRef=function(e){return Io().useRef(e)};Ge.useState=function(e){return Io().useState(e)};Ge.version="17.0.2"});var Ve=k((UK,tN)=>{"use strict";tN.exports=eN()});var sN=k(qe=>{"use strict";var zu,Kc,Qg,j_;typeof performance=="object"&&typeof performance.now=="function"?(rN=performance,qe.unstable_now=function(){return rN.now()}):(M_=Date,nN=M_.now(),qe.unstable_now=function(){return M_.now()-nN});var rN,M_,nN;typeof window>"u"||typeof MessageChannel!="function"?(Hu=null,B_=null,G_=function(){if(Hu!==null)try{var e=qe.unstable_now();Hu(!0,e),Hu=null}catch(t){throw setTimeout(G_,0),t}},zu=function(e){Hu!==null?setTimeout(zu,0,e):(Hu=e,setTimeout(G_,0))},Kc=function(e,t){B_=setTimeout(e,t)},Qg=function(){clearTimeout(B_)},qe.unstable_shouldYield=function(){return!1},j_=qe.unstable_forceFrameRate=function(){}):(iN=window.setTimeout,oN=window.clearTimeout,typeof console<"u"&&(aN=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof aN!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Yc=!1,Wc=null,Yg=-1,V_=5,H_=0,qe.unstable_shouldYield=function(){return qe.unstable_now()>=H_},j_=function(){},qe.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V_=0<e?Math.floor(1e3/e):5},z_=new MessageChannel,Wg=z_.port2,z_.port1.onmessage=function(){if(Wc!==null){var e=qe.unstable_now();H_=e+V_;try{Wc(!0,e)?Wg.postMessage(null):(Yc=!1,Wc=null)}catch(t){throw Wg.postMessage(null),t}}else Yc=!1},zu=function(e){Wc=e,Yc||(Yc=!0,Wg.postMessage(null))},Kc=function(e,t){Yg=iN(function(){e(qe.unstable_now())},t)},Qg=function(){oN(Yg),Yg=-1});var Hu,B_,G_,iN,oN,aN,Yc,Wc,Yg,V_,H_,z_,Wg;function q_(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Kg(i,t))e[n]=t,e[r]=i,r=n;else break e}}function di(e){return e=e[0],e===void 0?null:e}function Jg(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(a!==void 0&&0>Kg(a,r))u!==void 0&&0>Kg(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else if(u!==void 0&&0>Kg(u,r))e[n]=u,e[s]=r,n=s;else break e}}return t}return null}function Kg(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var Gi=[],ca=[],DV=1,Mn=null,xr=3,Xg=!1,ys=!1,Qc=!1;function Y_(e){for(var t=di(ca);t!==null;){if(t.callback===null)Jg(ca);else if(t.startTime<=e)Jg(ca),t.sortIndex=t.expirationTime,q_(Gi,t);else break;t=di(ca)}}function W_(e){if(Qc=!1,Y_(e),!ys)if(di(Gi)!==null)ys=!0,zu(K_);else{var t=di(ca);t!==null&&Kc(W_,t.startTime-e)}}function K_(e,t){ys=!1,Qc&&(Qc=!1,Qg()),Xg=!0;var r=xr;try{for(Y_(t),Mn=di(Gi);Mn!==null&&(!(Mn.expirationTime>t)||e&&!qe.unstable_shouldYield());){var n=Mn.callback;if(typeof n=="function"){Mn.callback=null,xr=Mn.priorityLevel;var i=n(Mn.expirationTime<=t);t=qe.unstable_now(),typeof i=="function"?Mn.callback=i:Mn===di(Gi)&&Jg(Gi),Y_(t)}else Jg(Gi);Mn=di(Gi)}if(Mn!==null)var o=!0;else{var a=di(ca);a!==null&&Kc(W_,a.startTime-t),o=!1}return o}finally{Mn=null,xr=r,Xg=!1}}var PV=j_;qe.unstable_IdlePriority=5;qe.unstable_ImmediatePriority=1;qe.unstable_LowPriority=4;qe.unstable_NormalPriority=3;qe.unstable_Profiling=null;qe.unstable_UserBlockingPriority=2;qe.unstable_cancelCallback=function(e){e.callback=null};qe.unstable_continueExecution=function(){ys||Xg||(ys=!0,zu(K_))};qe.unstable_getCurrentPriorityLevel=function(){return xr};qe.unstable_getFirstCallbackNode=function(){return di(Gi)};qe.unstable_next=function(e){switch(xr){case 1:case 2:case 3:var t=3;break;default:t=xr}var r=xr;xr=t;try{return e()}finally{xr=r}};qe.unstable_pauseExecution=function(){};qe.unstable_requestPaint=PV;qe.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=xr;xr=e;try{return t()}finally{xr=r}};qe.unstable_scheduleCallback=function(e,t,r){var n=qe.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:DV++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,q_(ca,e),di(Gi)===null&&e===di(ca)&&(Qc?Qg():Qc=!0,Kc(W_,r-n))):(e.sortIndex=i,q_(Gi,e),ys||Xg||(ys=!0,zu(K_))),e};qe.unstable_wrapCallback=function(e){var t=xr;return function(){var r=xr;xr=t;try{return e.apply(this,arguments)}finally{xr=r}}}});var lN=k((MK,uN)=>{"use strict";uN.exports=sN()});var QD=k(jn=>{"use strict";var jm=Ve(),St=zg(),ar=lN();function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!jm)throw Error(Q(227));var EO=new Set,xf={};function Ns(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(xf[e]=t,e=0;e<t.length;e++)EO.add(t[e])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cN=Object.prototype.hasOwnProperty,fN={},dN={};function RV(e){return cN.call(dN,e)?!0:cN.call(fN,e)?!1:FV.test(e)?dN[e]=!0:(fN[e]=!0,!1)}function LV(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UV(e,t,r,n){if(t===null||typeof t>"u"||LV(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vr(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var nE=/[\-:]([a-z])/g;function iE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nE,iE);vr[t]=new Vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nE,iE);vr[t]=new Vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nE,iE);vr[t]=new Vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function oE(e,t,r,n){var i=vr.hasOwnProperty(t)?vr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(UV(t,r,i,n)&&(r=null),n||i===null?RV(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Os=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lf=60103,_s=60106,da=60107,aE=60108,gf=60114,sE=60109,uE=60110,qm=60112,mf=60113,Cm=60120,Ym=60115,lE=60116,cE=60121,fE=60128,TO=60129,dE=60130,hC=60131;typeof Symbol=="function"&&Symbol.for&&(Qt=Symbol.for,lf=Qt("react.element"),_s=Qt("react.portal"),da=Qt("react.fragment"),aE=Qt("react.strict_mode"),gf=Qt("react.profiler"),sE=Qt("react.provider"),uE=Qt("react.context"),qm=Qt("react.forward_ref"),mf=Qt("react.suspense"),Cm=Qt("react.suspense_list"),Ym=Qt("react.memo"),lE=Qt("react.lazy"),cE=Qt("react.block"),Qt("react.scope"),fE=Qt("react.opaque.id"),TO=Qt("react.debug_trace_mode"),dE=Qt("react.offscreen"),hC=Qt("react.legacy_hidden"));var Qt,pN=typeof Symbol=="function"&&Symbol.iterator;function Jc(e){return e===null||typeof e!="object"?null:(e=pN&&e[pN]||e["@@iterator"],typeof e=="function"?e:null)}var Q_;function cf(e){if(Q_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Q_=t&&t[1]||""}return"\n"+Q_+e}var J_=!1;function $g(e,t){if(!e||J_)return"";J_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{J_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cf(e):""}function kV(e){switch(e.tag){case 5:return cf(e.type);case 16:return cf("Lazy");case 13:return cf("Suspense");case 19:return cf("SuspenseList");case 0:case 2:case 15:return e=$g(e.type,!1),e;case 11:return e=$g(e.type.render,!1),e;case 22:return e=$g(e.type._render,!1),e;case 1:return e=$g(e.type,!0),e;default:return""}}function el(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case _s:return"Portal";case gf:return"Profiler";case aE:return"StrictMode";case mf:return"Suspense";case Cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uE:return(e.displayName||"Context")+".Consumer";case sE:return(e._context.displayName||"Context")+".Provider";case qm:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ym:return el(e.type);case cE:return el(e._render);case lE:t=e._payload,e=e._init;try{return el(e(t))}catch(r){}}return null}function ba(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MV(e){var t=bO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zg(e){e._valueTracker||(e._valueTracker=MV(e))}function IO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Em(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function yC(e,t){var r=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function gN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ba(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xO(e,t){t=t.checked,t!=null&&oE(e,"checked",t,!1)}function SC(e,t){xO(e,t);var r=ba(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_C(e,t.type,r):t.hasOwnProperty("defaultValue")&&_C(e,t.type,ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _C(e,t,r){(t!=="number"||Em(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function BV(e){var t="";return jm.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function CC(e,t){return e=St({children:void 0},t),(t=BV(t.children))&&(e.children=t),e}function tl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ba(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function EC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ba(r)}}function AO(e,t){var r=ba(t.value),n=ba(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var TC={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function wO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var em,NO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==TC.svg||"innerHTML"in e)e.innerHTML=t;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=em.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Af(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GV=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(e){GV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vf[t]=vf[e]})});function OO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vf.hasOwnProperty(e)&&vf[e]?(""+t).trim():t+"px"}function DO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=OO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var VV=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IC(e,t){if(t){if(VV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function xC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var AC=null,rl=null,nl=null;function yN(e){if(e=Vf(e)){if(typeof AC!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=$m(t),AC(e.stateNode,e.type,t))}}function PO(e){rl?nl?nl.push(e):nl=[e]:rl=e}function FO(){if(rl){var e=rl,t=nl;if(nl=rl=null,yN(e),t)for(e=0;e<t.length;e++)yN(t[e])}}function gE(e,t){return e(t)}function RO(e,t,r,n,i){return e(t,r,n,i)}function mE(){}var LO=gE,Cs=!1,X_=!1;function vE(){(rl!==null||nl!==null)&&(mE(),FO())}function HV(e,t,r){if(X_)return e(t,r);X_=!0;try{return LO(e,t,r)}finally{X_=!1,vE()}}function wf(e,t){var r=e.stateNode;if(r===null)return null;var n=$m(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var wC=!1;if(Do)try{ju={},Object.defineProperty(ju,"passive",{get:function(){wC=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch(e){wC=!1}var ju;function zV(e,t,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var hf=!1,Tm=null,bm=!1,NC=null,jV={onError:function(e){hf=!0,Tm=e}};function qV(e,t,r,n,i,o,a,s,u){hf=!1,Tm=null,zV.apply(jV,arguments)}function YV(e,t,r,n,i,o,a,s,u){if(qV.apply(this,arguments),hf){if(hf){var l=Tm;hf=!1,Tm=null}else throw Error(Q(198));bm||(bm=!0,NC=l)}}function Ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function UO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SN(e){if(Ds(e)!==e)throw Error(Q(188))}function WV(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return SN(i),e;if(o===n)return SN(i),t;o=o.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function kO(e){if(e=WV(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function _N(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var MO,hE,BO,GO,OC=!1,Vi=[],va=null,ha=null,ya=null,Nf=new Map,Of=new Map,Xc=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DC(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function EN(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Nf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(t.pointerId)}}function $c(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=DC(t,r,n,i,o),t!==null&&(t=Vf(t),t!==null&&hE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KV(e,t,r,n,i){switch(t){case"focusin":return va=$c(va,e,t,r,n,i),!0;case"dragenter":return ha=$c(ha,e,t,r,n,i),!0;case"mouseover":return ya=$c(ya,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Nf.set(o,$c(Nf.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Of.set(o,$c(Of.get(o)||null,e,t,r,n,i)),!0}return!1}function QV(e){var t=Es(e.target);if(t!==null){var r=Ds(t);if(r!==null){if(t=r.tag,t===13){if(t=UO(r),t!==null){e.blockedOn=t,GO(e.lanePriority,function(){ar.unstable_runWithPriority(e.priority,function(){BO(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=CE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Vf(r),t!==null&&hE(t),e.blockedOn=r,!1;t.shift()}return!0}function TN(e,t,r){fm(e)&&r.delete(t)}function JV(){for(OC=!1;0<Vi.length;){var e=Vi[0];if(e.blockedOn!==null){e=Vf(e.blockedOn),e!==null&&MO(e);break}for(var t=e.targetContainers;0<t.length;){var r=CE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Vi.shift()}va!==null&&fm(va)&&(va=null),ha!==null&&fm(ha)&&(ha=null),ya!==null&&fm(ya)&&(ya=null),Nf.forEach(TN),Of.forEach(TN)}function Zc(e,t){e.blockedOn===t&&(e.blockedOn=null,OC||(OC=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,JV)))}function VO(e){function t(i){return Zc(i,e)}if(0<Vi.length){Zc(Vi[0],e);for(var r=1;r<Vi.length;r++){var n=Vi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&Zc(va,e),ha!==null&&Zc(ha,e),ya!==null&&Zc(ya,e),Nf.forEach(t),Of.forEach(t),r=0;r<Xc.length;r++)n=Xc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xc.length&&(r=Xc[0],r.blockedOn===null);)QV(r),r.blockedOn===null&&Xc.shift()}function tm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ku={animationend:tm("Animation","AnimationEnd"),animationiteration:tm("Animation","AnimationIteration"),animationstart:tm("Animation","AnimationStart"),transitionend:tm("Transition","TransitionEnd")},$_={},HO={};Do&&(HO=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function Wm(e){if($_[e])return $_[e];if(!Ku[e])return e;var t=Ku[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HO)return $_[e]=t[r];return e}var zO=Wm("animationend"),jO=Wm("animationiteration"),qO=Wm("animationstart"),YO=Wm("transitionend"),WO=new Map,yE=new Map,XV=["abort","abort",zO,"animationEnd",jO,"animationIteration",qO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",YO,"transitionEnd","waiting","waiting"];function SE(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),yE.set(n,t),WO.set(n,i),Ns(i,[n])}}var $V=ar.unstable_now;$V();var rt=8;function Yu(e){if((1&e)!==0)return rt=15,1;if((2&e)!==0)return rt=14,2;if((4&e)!==0)return rt=13,4;var t=24&e;return t!==0?(rt=12,t):(e&32)!==0?(rt=11,32):(t=192&e,t!==0?(rt=10,t):(e&256)!==0?(rt=9,256):(t=3584&e,t!==0?(rt=8,t):(e&4096)!==0?(rt=7,4096):(t=4186112&e,t!==0?(rt=6,t):(t=62914560&e,t!==0?(rt=5,t):e&67108864?(rt=4,67108864):(e&134217728)!==0?(rt=3,134217728):(t=805306368&e,t!==0?(rt=2,t):(1073741824&e)!==0?(rt=1,1073741824):(rt=8,e))))))}function ZV(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function eH(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Q(358,e))}}function Df(e,t){var r=e.pendingLanes;if(r===0)return rt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(o!==0)n=o,i=rt=15;else if(o=r&134217727,o!==0){var u=o&~a;u!==0?(n=Yu(u),i=rt):(s&=o,s!==0&&(n=Yu(s),i=rt))}else o=r&~a,o!==0?(n=Yu(o),i=rt):s!==0&&(n=Yu(s),i=rt);if(n===0)return 0;if(n=31-Ia(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&a)===0){if(Yu(t),i<=rt)return t;rt=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ia(t),i=1<<r,n|=e[r],t&=~i;return n}function KO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Im(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Wu(24&~t),e===0?Im(10,t):e;case 10:return e=Wu(192&~t),e===0?Im(8,t):e;case 8:return e=Wu(3584&~t),e===0&&(e=Wu(4186112&~t),e===0&&(e=512)),e;case 2:return t=Wu(805306368&~t),t===0&&(t=268435456),t}throw Error(Q(358,e))}function Wu(e){return e&-e}function Z_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Km(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Ia(t),e[t]=r}var Ia=Math.clz32?Math.clz32:nH,tH=Math.log,rH=Math.LN2;function nH(e){return e===0?32:31-(tH(e)/rH|0)|0}var iH=ar.unstable_UserBlockingPriority,oH=ar.unstable_runWithPriority,dm=!0;function aH(e,t,r,n){Cs||mE();var i=_E,o=Cs;Cs=!0;try{RO(i,e,t,r,n)}finally{(Cs=o)||vE()}}function sH(e,t,r,n){oH(iH,_E.bind(null,e,t,r,n))}function _E(e,t,r,n){if(dm){var i;if((i=(t&4)===0)&&0<Vi.length&&-1<CN.indexOf(e))e=DC(null,e,t,r,n),Vi.push(e);else{var o=CE(e,t,r,n);if(o===null)i&&EN(e,n);else{if(i){if(-1<CN.indexOf(e)){e=DC(o,e,t,r,n),Vi.push(e);return}if(KV(o,e,t,r,n))return;EN(e,n)}sD(e,t,n,null,r)}}}}function CE(e,t,r,n){var i=pE(n);if(i=Es(i),i!==null){var o=Ds(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=UO(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return sD(e,t,n,i,r),null}var pa=null,EE=null,pm=null;function QO(){if(pm)return pm;var e,t=EE,r=t.length,n,i="value"in pa?pa.value:pa.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return pm=i.slice(e,1<n?1-n:void 0)}function gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rm(){return!0}function bN(){return!1}function _n(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rm:bN,this.isPropagationStopped=bN,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TE=_n(gl),Gf=St({},gl,{view:0,detail:0}),uH=_n(Gf),eC,tC,ef,Qm=St({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ef&&(ef&&e.type==="mousemove"?(eC=e.screenX-ef.screenX,tC=e.screenY-ef.screenY):tC=eC=0,ef=e),eC)},movementY:function(e){return"movementY"in e?e.movementY:tC}}),IN=_n(Qm),lH=St({},Qm,{dataTransfer:0}),cH=_n(lH),fH=St({},Gf,{relatedTarget:0}),rC=_n(fH),dH=St({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),pH=_n(dH),gH=St({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mH=_n(gH),vH=St({},gl,{data:0}),xN=_n(vH),hH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _H(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SH[e])?!!t[e]:!1}function bE(){return _H}var CH=St({},Gf,{key:function(e){if(e.key){var t=hH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bE,charCode:function(e){return e.type==="keypress"?gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EH=_n(CH),TH=St({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AN=_n(TH),bH=St({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bE}),IH=_n(bH),xH=St({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),AH=_n(xH),wH=St({},Qm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NH=_n(wH),OH=[9,13,27,32],IE=Do&&"CompositionEvent"in window,yf=null;Do&&"documentMode"in document&&(yf=document.documentMode);var DH=Do&&"TextEvent"in window&&!yf,JO=Do&&(!IE||yf&&8<yf&&11>=yf),wN=" ",NN=!1;function XO(e,t){switch(e){case"keyup":return OH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $O(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qu=!1;function PH(e,t){switch(e){case"compositionend":return $O(t);case"keypress":return t.which!==32?null:(NN=!0,wN);case"textInput":return e=t.data,e===wN&&NN?null:e;default:return null}}function FH(e,t){if(Qu)return e==="compositionend"||!IE&&XO(e,t)?(e=QO(),pm=EE=pa=null,Qu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JO&&t.locale!=="ko"?null:t.data;default:return null}}var RH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ON(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RH[e.type]:t==="textarea"}function ZO(e,t,r,n){PO(n),t=xm(t,"onChange"),0<t.length&&(r=new TE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sf=null,Pf=null;function LH(e){iD(e,0)}function Jm(e){var t=Xu(e);if(IO(t))return e}function UH(e,t){if(e==="change")return t}var eD=!1;Do&&(Do?(im="oninput"in document,im||(nC=document.createElement("div"),nC.setAttribute("oninput","return;"),im=typeof nC.oninput=="function"),nm=im):nm=!1,eD=nm&&(!document.documentMode||9<document.documentMode));var nm,im,nC;function DN(){Sf&&(Sf.detachEvent("onpropertychange",tD),Pf=Sf=null)}function tD(e){if(e.propertyName==="value"&&Jm(Pf)){var t=[];if(ZO(t,Pf,e,pE(e)),e=LH,Cs)e(t);else{Cs=!0;try{gE(e,t)}finally{Cs=!1,vE()}}}}function kH(e,t,r){e==="focusin"?(DN(),Sf=t,Pf=r,Sf.attachEvent("onpropertychange",tD)):e==="focusout"&&DN()}function MH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jm(Pf)}function BH(e,t){if(e==="click")return Jm(t)}function GH(e,t){if(e==="input"||e==="change")return Jm(t)}function VH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:VH,HH=Object.prototype.hasOwnProperty;function Ff(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!HH.call(t,r[n])||!Bn(e[r[n]],t[r[n]]))return!1;return!0}function PN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FN(e,t){var r=PN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PN(r)}}function rD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RN(){for(var e=window,t=Em();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=Em(e.document)}return t}function PC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zH=Do&&"documentMode"in document&&11>=document.documentMode,Ju=null,FC=null,_f=null,RC=!1;function LN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RC||Ju==null||Ju!==Em(n)||(n=Ju,"selectionStart"in n&&PC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_f&&Ff(_f,n)||(_f=n,n=xm(FC,"onSelect"),0<n.length&&(t=new TE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ju)))}SE("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);SE("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);SE(XV,2);for(iC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),om=0;om<iC.length;om++)yE.set(iC[om],0);var iC,om;cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ff));function UN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YV(n,t,void 0,e),e.currentTarget=null}function iD(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;UN(i,s,l),o=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;UN(i,s,l),o=u}}}if(bm)throw e=NC,bm=!1,NC=null,e}function pt(e,t){var r=lD(t),n=e+"__bubble";r.has(n)||(aD(t,e,2,!1),r.add(n))}var kN="_reactListening"+Math.random().toString(36).slice(2);function oD(e){e[kN]||(e[kN]=!0,EO.forEach(function(t){nD.has(t)||MN(t,!1,e,null),MN(t,!0,e,null)}))}function MN(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&nD.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=lD(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),aD(o,e,i,t),a.add(s))}function aD(e,t,r,n){var i=yE.get(t);switch(i===void 0?2:i){case 0:i=aH;break;case 1:i=sH;break;default:i=_E}r=i.bind(null,t,r,e),i=void 0,!wC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function sD(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Es(s),a===null)return;if(u=a.tag,u===5||u===6){n=o=a;continue e}s=s.parentNode}}n=n.return}HV(function(){var l=o,c=pE(r),f=[];e:{var d=WO.get(e);if(d!==void 0){var p=TE,v=e;switch(e){case"keypress":if(gm(r)===0)break e;case"keydown":case"keyup":p=EH;break;case"focusin":v="focus",p=rC;break;case"focusout":v="blur",p=rC;break;case"beforeblur":case"afterblur":p=rC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=IN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IH;break;case zO:case jO:case qO:p=pH;break;case YO:p=AH;break;case"scroll":p=uH;break;case"wheel":p=NH;break;case"copy":case"cut":case"paste":p=mH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=AN}var h=(t&4)!==0,g=!h&&e==="scroll",m=h?d!==null?d+"Capture":null:d;h=[];for(var y=l,S;y!==null;){S=y;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,m!==null&&(E=wf(y,m),E!=null&&h.push(Rf(y,E,S)))),g)break;y=y.return}0<h.length&&(d=new p(d,v,null,r,c),f.push({event:d,listeners:h}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&(t&16)===0&&(v=r.relatedTarget||r.fromElement)&&(Es(v)||v[ml]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=l,v=v?Es(v):null,v!==null&&(g=Ds(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=l),p!==v)){if(h=IN,E="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(h=AN,E="onPointerLeave",m="onPointerEnter",y="pointer"),g=p==null?d:Xu(p),S=v==null?d:Xu(v),d=new h(E,y+"leave",p,r,c),d.target=g,d.relatedTarget=S,E=null,Es(c)===l&&(h=new h(m,y+"enter",v,r,c),h.target=S,h.relatedTarget=g,E=h),g=E,p&&v)t:{for(h=p,m=v,y=0,S=h;S;S=qu(S))y++;for(S=0,E=m;E;E=qu(E))S++;for(;0<y-S;)h=qu(h),y--;for(;0<S-y;)m=qu(m),S--;for(;y--;){if(h===m||m!==null&&h===m.alternate)break t;h=qu(h),m=qu(m)}h=null}else h=null;p!==null&&BN(f,d,p,h,!1),v!==null&&g!==null&&BN(f,g,v,h,!0)}}e:{if(d=l?Xu(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var D=UH;else if(ON(d))if(eD)D=GH;else{D=MH;var P=kH}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(D=BH);if(D&&(D=D(e,l))){ZO(f,D,r,c);break e}P&&P(e,d,l),e==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&_C(d,"number",d.value)}switch(P=l?Xu(l):window,e){case"focusin":(ON(P)||P.contentEditable==="true")&&(Ju=P,FC=l,_f=null);break;case"focusout":_f=FC=Ju=null;break;case"mousedown":RC=!0;break;case"contextmenu":case"mouseup":case"dragend":RC=!1,LN(f,r,c);break;case"selectionchange":if(zH)break;case"keydown":case"keyup":LN(f,r,c)}var x;if(IE)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Qu?XO(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(JO&&r.locale!=="ko"&&(Qu||q!=="onCompositionStart"?q==="onCompositionEnd"&&Qu&&(x=QO()):(pa=c,EE="value"in pa?pa.value:pa.textContent,Qu=!0)),P=xm(l,q),0<P.length&&(q=new xN(q,e,null,r,c),f.push({event:q,listeners:P}),x?q.data=x:(x=$O(r),x!==null&&(q.data=x)))),(x=DH?PH(e,r):FH(e,r))&&(l=xm(l,"onBeforeInput"),0<l.length&&(c=new xN("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=x))}iD(f,t)})}function Rf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xm(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wf(e,r),o!=null&&n.unshift(Rf(e,o,i)),o=wf(e,t),o!=null&&n.push(Rf(e,o,i))),e=e.return}return n}function qu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BN(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=wf(r,o),u!=null&&a.unshift(Rf(r,u,s))):i||(u=wf(r,o),u!=null&&a.push(Rf(r,u,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function Am(){}var oC=null,aC=null;function uD(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function LC(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GN=typeof setTimeout=="function"?setTimeout:void 0,jH=typeof clearTimeout=="function"?clearTimeout:void 0;function xE(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function VN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sC=0;function qH(e){return{$$typeof:fE,toString:e,valueOf:e}}var Xm=Math.random().toString(36).slice(2),ga="__reactFiber$"+Xm,wm="__reactProps$"+Xm,ml="__reactContainer$"+Xm,HN="__reactEvents$"+Xm;function Es(e){var t=e[ga];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ml]||r[ga]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=VN(e);e!==null;){if(r=e[ga])return r;e=VN(e)}return t}e=r,r=e.parentNode}return null}function Vf(e){return e=e[ga]||e[ml],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function $m(e){return e[wm]||null}function lD(e){var t=e[HN];return t===void 0&&(t=e[HN]=new Set),t}var UC=[],$u=-1;function Na(e){return{current:e}}function gt(e){0>$u||(e.current=UC[$u],UC[$u]=null,$u--)}function It(e,t){$u++,UC[$u]=e.current,e.current=t}var xa={},Or=Na(xa),rn=Na(!1),xs=xa;function fl(e,t){var r=e.type.contextTypes;if(!r)return xa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function Nm(){gt(rn),gt(Or)}function zN(e,t,r){if(Or.current!==xa)throw Error(Q(168));It(Or,t),It(rn,r)}function cD(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,el(t)||"Unknown",i));return St({},r,n)}function mm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,xs=Or.current,It(Or,e),It(rn,rn.current),!0}function jN(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=cD(e,t,xs),n.__reactInternalMemoizedMergedChildContext=e,gt(rn),gt(Or),It(Or,e)):gt(rn),It(rn,r)}var AE=null,Is=null,YH=ar.unstable_runWithPriority,wE=ar.unstable_scheduleCallback,kC=ar.unstable_cancelCallback,WH=ar.unstable_shouldYield,qN=ar.unstable_requestPaint,MC=ar.unstable_now,KH=ar.unstable_getCurrentPriorityLevel,Zm=ar.unstable_ImmediatePriority,fD=ar.unstable_UserBlockingPriority,dD=ar.unstable_NormalPriority,pD=ar.unstable_LowPriority,gD=ar.unstable_IdlePriority,uC={},QH=qN!==void 0?qN:function(){},xo=null,vm=null,lC=!1,YN=MC(),wr=1e4>YN?MC:function(){return MC()-YN};function dl(){switch(KH()){case Zm:return 99;case fD:return 98;case dD:return 97;case pD:return 96;case gD:return 95;default:throw Error(Q(332))}}function mD(e){switch(e){case 99:return Zm;case 98:return fD;case 97:return dD;case 96:return pD;case 95:return gD;default:throw Error(Q(332))}}function As(e,t){return e=mD(e),YH(e,t)}function Lf(e,t,r){return e=mD(e),wE(e,t,r)}function Yi(){if(vm!==null){var e=vm;vm=null,kC(e)}vD()}function vD(){if(!lC&&xo!==null){lC=!0;var e=0;try{var t=xo;As(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),xo=null}catch(r){throw xo!==null&&(xo=xo.slice(e+1)),wE(Zm,Yi),r}finally{lC=!1}}}var JH=Os.ReactCurrentBatchConfig;function pi(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Om=Na(null),Dm=null,Zu=null,Pm=null;function NE(){Pm=Zu=Dm=null}function OE(e){var t=Om.current;gt(Om),e.type._context._currentValue=t}function hD(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function ol(e,t){Dm=e,Pm=Zu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gi=!0),e.firstContext=null)}function Hn(e,t){if(Pm!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Pm=e,t=1073741823),t={context:e,observedBits:t,next:null},Zu===null){if(Dm===null)throw Error(Q(308));Zu=t,Dm.dependencies={lanes:0,firstContext:t,responders:null}}else Zu=Zu.next=t;return e._currentValue}var fa=!1;function DE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _a(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function WN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Uf(e,t,r,n){var i=e.updateQueue;fa=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=e.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(f===null?c.firstBaseUpdate=l:f.next=l,c.lastBaseUpdate=u)}}if(o!==null){f=i.baseState,a=0,c=l=u=null;do{s=o.lane;var d=o.eventTime;if((n&s)===s){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(d,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=v.payload,s=typeof p=="function"?p.call(d,f,s):p,s==null)break e;f=St({},f,s);break e;case 2:fa=!0}}o.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=d,u=f):c=c.next=d,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(!0);c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,zf|=a,e.lanes=a,e.memoizedState=f}}function KN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var SD=new jm.Component().refs;function Fm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:St({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ev={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sn(),i=Ca(e),o=Sa(n,i);o.payload=t,r!=null&&(o.callback=r),_a(e,o),Ea(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sn(),i=Ca(e),o=Sa(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),_a(e,o),Ea(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sn(),n=Ca(e),i=Sa(r,n);i.tag=2,t!=null&&(i.callback=t),_a(e,i),Ea(e,n,r)}};function QN(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ff(r,n)||!Ff(i,o):!0}function _D(e,t,r){var n=!1,i=xa,o=t.contextType;return typeof o=="object"&&o!==null?o=Hn(o):(i=nn(t)?xs:Or.current,n=t.contextTypes,o=(n=n!=null)?fl(e,i):xa),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ev,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function JN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ev.enqueueReplaceState(t,t.state,null)}function BC(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=SD,DE(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Hn(o):(o=nn(t)?xs:Or.current,i.context=fl(e,o)),Uf(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fm(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ev.enqueueReplaceState(i,i.state,null),Uf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var am=Array.isArray;function tf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===SD&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function sm(e,t){if(e.type!=="textarea")throw Error(Q(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function CD(e){function t(g,m){if(e){var y=g.lastEffect;y!==null?(y.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=wa(g,m),g.index=0,g.sibling=null,g}function o(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags=2,m):y):(g.flags=2,m)):m}function a(g){return e&&g.alternate===null&&(g.flags=2),g}function s(g,m,y,S){return m===null||m.tag!==6?(m=gC(y,g.mode,S),m.return=g,m):(m=i(m,y),m.return=g,m)}function u(g,m,y,S){return m!==null&&m.elementType===y.type?(S=i(m,y.props),S.ref=tf(g,m,y),S.return=g,S):(S=_m(y.type,y.key,y.props,null,g.mode,S),S.ref=tf(g,m,y),S.return=g,S)}function l(g,m,y,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=mC(y,g.mode,S),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function c(g,m,y,S,E){return m===null||m.tag!==7?(m=ll(y,g.mode,S,E),m.return=g,m):(m=i(m,y),m.return=g,m)}function f(g,m,y){if(typeof m=="string"||typeof m=="number")return m=gC(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lf:return y=_m(m.type,m.key,m.props,null,g.mode,y),y.ref=tf(g,null,m),y.return=g,y;case _s:return m=mC(m,g.mode,y),m.return=g,m}if(am(m)||Jc(m))return m=ll(m,g.mode,y,null),m.return=g,m;sm(g,m)}return null}function d(g,m,y,S){var E=m!==null?m.key:null;if(typeof y=="string"||typeof y=="number")return E!==null?null:s(g,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lf:return y.key===E?y.type===da?c(g,m,y.props.children,S,E):u(g,m,y,S):null;case _s:return y.key===E?l(g,m,y,S):null}if(am(y)||Jc(y))return E!==null?null:c(g,m,y,S,null);sm(g,y)}return null}function p(g,m,y,S,E){if(typeof S=="string"||typeof S=="number")return g=g.get(y)||null,s(m,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lf:return g=g.get(S.key===null?y:S.key)||null,S.type===da?c(m,g,S.props.children,E,S.key):u(m,g,S,E);case _s:return g=g.get(S.key===null?y:S.key)||null,l(m,g,S,E)}if(am(S)||Jc(S))return g=g.get(y)||null,c(m,g,S,E,null);sm(m,S)}return null}function v(g,m,y,S){for(var E=null,D=null,P=m,x=m=0,q=null;P!==null&&x<y.length;x++){P.index>x?(q=P,P=null):q=P.sibling;var G=d(g,P,y[x],S);if(G===null){P===null&&(P=q);break}e&&P&&G.alternate===null&&t(g,P),m=o(G,m,x),D===null?E=G:D.sibling=G,D=G,P=q}if(x===y.length)return r(g,P),E;if(P===null){for(;x<y.length;x++)P=f(g,y[x],S),P!==null&&(m=o(P,m,x),D===null?E=P:D.sibling=P,D=P);return E}for(P=n(g,P);x<y.length;x++)q=p(P,g,x,y[x],S),q!==null&&(e&&q.alternate!==null&&P.delete(q.key===null?x:q.key),m=o(q,m,x),D===null?E=q:D.sibling=q,D=q);return e&&P.forEach(function(se){return t(g,se)}),E}function h(g,m,y,S){var E=Jc(y);if(typeof E!="function")throw Error(Q(150));if(y=E.call(y),y==null)throw Error(Q(151));for(var D=E=null,P=m,x=m=0,q=null,G=y.next();P!==null&&!G.done;x++,G=y.next()){P.index>x?(q=P,P=null):q=P.sibling;var se=d(g,P,G.value,S);if(se===null){P===null&&(P=q);break}e&&P&&se.alternate===null&&t(g,P),m=o(se,m,x),D===null?E=se:D.sibling=se,D=se,P=q}if(G.done)return r(g,P),E;if(P===null){for(;!G.done;x++,G=y.next())G=f(g,G.value,S),G!==null&&(m=o(G,m,x),D===null?E=G:D.sibling=G,D=G);return E}for(P=n(g,P);!G.done;x++,G=y.next())G=p(P,g,x,G.value,S),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?x:G.key),m=o(G,m,x),D===null?E=G:D.sibling=G,D=G);return e&&P.forEach(function(ue){return t(g,ue)}),E}return function(g,m,y,S){var E=typeof y=="object"&&y!==null&&y.type===da&&y.key===null;E&&(y=y.props.children);var D=typeof y=="object"&&y!==null;if(D)switch(y.$$typeof){case lf:e:{for(D=y.key,E=m;E!==null;){if(E.key===D){switch(E.tag){case 7:if(y.type===da){r(g,E.sibling),m=i(E,y.props.children),m.return=g,g=m;break e}break;default:if(E.elementType===y.type){r(g,E.sibling),m=i(E,y.props),m.ref=tf(g,E,y),m.return=g,g=m;break e}}r(g,E);break}else t(g,E);E=E.sibling}y.type===da?(m=ll(y.props.children,g.mode,S,y.key),m.return=g,g=m):(S=_m(y.type,y.key,y.props,null,g.mode,S),S.ref=tf(g,m,y),S.return=g,g=S)}return a(g);case _s:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=mC(y,g.mode,S),m.return=g,g=m}return a(g)}if(typeof y=="string"||typeof y=="number")return y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,y),m.return=g,g=m):(r(g,m),m=gC(y,g.mode,S),m.return=g,g=m),a(g);if(am(y))return v(g,m,y,S);if(Jc(y))return h(g,m,y,S);if(D&&sm(g,y),typeof y>"u"&&!E)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Q(152,el(g.type)||"Component"))}return r(g,m)}}var Rm=CD(!0),ED=CD(!1),Hf={},ji=Na(Hf),kf=Na(Hf),Mf=Na(Hf);function Ts(e){if(e===Hf)throw Error(Q(174));return e}function GC(e,t){switch(It(Mf,t),It(kf,e),It(ji,Hf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bC(t,e)}gt(ji),It(ji,t)}function pl(){gt(ji),gt(kf),gt(Mf)}function XN(e){Ts(Mf.current);var t=Ts(ji.current),r=bC(t,e.type);t!==r&&(It(kf,e),It(ji,r))}function PE(e){kf.current===e&&(gt(ji),gt(kf))}var bt=Na(0);function Lm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wo=null,ma=null,qi=!1;function TD(e,t){var r=Gn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function $N(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function VC(e){if(qi){var t=ma;if(t){var r=t;if(!$N(e,t)){if(t=il(r.nextSibling),!t||!$N(e,t)){e.flags=e.flags&-1025|2,qi=!1,wo=e;return}TD(wo,r)}wo=e,ma=il(t.firstChild)}else e.flags=e.flags&-1025|2,qi=!1,wo=e}}function ZN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wo=e}function um(e){if(e!==wo)return!1;if(!qi)return ZN(e),qi=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!LC(t,e.memoizedProps))for(t=ma;t;)TD(e,t),t=il(t.nextSibling);if(ZN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ma=il(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ma=null}}else ma=wo?il(e.stateNode.nextSibling):null;return!0}function cC(){ma=wo=null,qi=!1}var al=[];function FE(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var Cf=Os.ReactCurrentDispatcher,Vn=Os.ReactCurrentBatchConfig,Bf=0,Ft=null,Ar=null,gr=null,Um=!1,Ef=!1;function en(){throw Error(Q(321))}function RE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function LE(e,t,r,n,i,o){if(Bf=o,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cf.current=e===null||e.memoizedState===null?$H:ZH,e=r(n,i),Ef){o=0;do{if(Ef=!1,!(25>o))throw Error(Q(301));o+=1,gr=Ar=null,t.updateQueue=null,Cf.current=e4,e=r(n,i)}while(Ef)}if(Cf.current=Gm,t=Ar!==null&&Ar.next!==null,Bf=0,gr=Ar=Ft=null,Um=!1,t)throw Error(Q(300));return e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Ft.memoizedState=gr=e:gr=gr.next=e,gr}function Ps(){if(Ar===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=gr===null?Ft.memoizedState:gr.next;if(t!==null)gr=t,Ar=e;else{if(e===null)throw Error(Q(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},gr===null?Ft.memoizedState=gr=e:gr=gr.next=e}return gr}function Hi(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=Ps(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Ar,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=a=o=null,u=i;do{var l=u.lane;if((Bf&l)===l)s!==null&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};s===null?(a=s=c,o=n):s=s.next=c,Ft.lanes|=l,zf|=l}u=u.next}while(u!==null&&u!==i);s===null?o=n:s.next=a,Bn(n,t.memoizedState)||(gi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function nf(e){var t=Ps(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Bn(o,t.memoizedState)||(gi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function eO(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Bf&e)===e)&&(t._workInProgressVersionPrimary=n,al.push(t))),e)return r(t._source);throw al.push(t),Error(Q(350))}function bD(e,t,r,n){var i=Gr;if(i===null)throw Error(Q(349));var o=t._getVersion,a=o(t._source),s=Cf.current,u=s.useState(function(){return eO(i,t,r)}),l=u[1],c=u[0];u=gr;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var h=Ft;return e.memoizedState={refs:d,source:t,subscribe:n},s.useEffect(function(){d.getSnapshot=r,d.setSnapshot=l;var g=o(t._source);if(!Bn(a,g)){g=r(t._source),Bn(c,g)||(l(g),g=Ca(h),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,y=g;0<y;){var S=31-Ia(y),E=1<<S;m[S]|=g,y&=~E}}},[r,t,n]),s.useEffect(function(){return n(t._source,function(){var g=d.getSnapshot,m=d.setSnapshot;try{m(g(t._source));var y=Ca(h);i.mutableReadLanes|=y&i.pendingLanes}catch(S){m(function(){throw S})}})},[t,n]),Bn(p,r)&&Bn(v,t)&&Bn(f,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:c},e.dispatch=l=ME.bind(null,Ft,e),u.queue=e,u.baseQueue=null,c=eO(i,t,r),u.memoizedState=u.baseState=c),c}function ID(e,t,r){var n=Ps();return bD(n,e,t,r)}function of(e){var t=bs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},e=e.dispatch=ME.bind(null,Ft,e),[t.memoizedState,e]}function km(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tO(e){var t=bs();return e={current:e},t.memoizedState=e}function Mm(){return Ps().memoizedState}function HC(e,t,r,n){var i=bs();Ft.flags|=e,i.memoizedState=km(1|t,r,void 0,n===void 0?null:n)}function UE(e,t,r,n){var i=Ps();n=n===void 0?null:n;var o=void 0;if(Ar!==null){var a=Ar.memoizedState;if(o=a.destroy,n!==null&&RE(n,a.deps)){km(t,r,o,n);return}}Ft.flags|=e,i.memoizedState=km(1|t,r,o,n)}function rO(e,t){return HC(516,4,e,t)}function Bm(e,t){return UE(516,4,e,t)}function xD(e,t){return UE(4,2,e,t)}function AD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wD(e,t,r){return r=r!=null?r.concat([e]):null,UE(4,2,AD.bind(null,t,e),r)}function kE(){}function ND(e,t){var r=Ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&RE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function OD(e,t){var r=Ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&RE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XH(e,t){var r=dl();As(98>r?98:r,function(){e(!0)}),As(97<r?97:r,function(){var n=Vn.transition;Vn.transition=1;try{e(!1),t()}finally{Vn.transition=n}})}function ME(e,t,r){var n=Sn(),i=Ca(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ft||a!==null&&a===Ft)Ef=Um=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,Bn(u,s))return}catch(l){}finally{}Ea(e,i,n)}}var Gm={readContext:Hn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useOpaqueIdentifier:en,unstable_isNewReconciler:!1},$H={readContext:Hn,useCallback:function(e,t){return bs().memoizedState=[e,t===void 0?null:t],e},useContext:Hn,useEffect:rO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,HC(4,2,AD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return HC(4,2,e,t)},useMemo:function(e,t){var r=bs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=ME.bind(null,Ft,e),[n.memoizedState,e]},useRef:tO,useState:of,useDebugValue:kE,useDeferredValue:function(e){var t=of(e),r=t[0],n=t[1];return rO(function(){var i=Vn.transition;Vn.transition=1;try{n(e)}finally{Vn.transition=i}},[e]),r},useTransition:function(){var e=of(!1),t=e[0];return e=XH.bind(null,e[1]),tO(e),[e,t]},useMutableSource:function(e,t,r){var n=bs();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},bD(n,e,t,r)},useOpaqueIdentifier:function(){if(qi){var e=!1,t=qH(function(){throw e||(e=!0,r("r:"+(sC++).toString(36))),Error(Q(355))}),r=of(t)[1];return(Ft.mode&2)===0&&(Ft.flags|=516,km(5,function(){r("r:"+(sC++).toString(36))},void 0,null)),t}return t="r:"+(sC++).toString(36),of(t),t},unstable_isNewReconciler:!1},ZH={readContext:Hn,useCallback:ND,useContext:Hn,useEffect:Bm,useImperativeHandle:wD,useLayoutEffect:xD,useMemo:OD,useReducer:rf,useRef:Mm,useState:function(){return rf(Hi)},useDebugValue:kE,useDeferredValue:function(e){var t=rf(Hi),r=t[0],n=t[1];return Bm(function(){var i=Vn.transition;Vn.transition=1;try{n(e)}finally{Vn.transition=i}},[e]),r},useTransition:function(){var e=rf(Hi)[0];return[Mm().current,e]},useMutableSource:ID,useOpaqueIdentifier:function(){return rf(Hi)[0]},unstable_isNewReconciler:!1},e4={readContext:Hn,useCallback:ND,useContext:Hn,useEffect:Bm,useImperativeHandle:wD,useLayoutEffect:xD,useMemo:OD,useReducer:nf,useRef:Mm,useState:function(){return nf(Hi)},useDebugValue:kE,useDeferredValue:function(e){var t=nf(Hi),r=t[0],n=t[1];return Bm(function(){var i=Vn.transition;Vn.transition=1;try{n(e)}finally{Vn.transition=i}},[e]),r},useTransition:function(){var e=nf(Hi)[0];return[Mm().current,e]},useMutableSource:ID,useOpaqueIdentifier:function(){return nf(Hi)[0]},unstable_isNewReconciler:!1},t4=Os.ReactCurrentOwner,gi=!1;function tn(e,t,r,n){t.child=e===null?ED(t,null,r,n):Rm(t,e.child,r,n)}function nO(e,t,r,n,i){r=r.render;var o=t.ref;return ol(t,i),n=LE(e,t,r,n,o,i),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,No(e,t,i)):(t.flags|=1,tn(e,t,n,i),t.child)}function iO(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!jE(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,DD(e,t,a,n,i,o)):(e=_m(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&o)===0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Ff,r(i,n)&&e.ref===t.ref)?No(e,t,o):(t.flags|=1,e=wa(a,n),e.ref=t.ref,e.return=t,t.child=e)}function DD(e,t,r,n,i,o){if(e!==null&&Ff(e.memoizedProps,n)&&e.ref===t.ref)if(gi=!1,(o&i)!==0)(e.flags&16384)!==0&&(gi=!0);else return t.lanes=e.lanes,No(e,t,o);return zC(e,t,r,n,o)}function fC(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},cm(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},cm(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},cm(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,cm(t,n);return tn(e,t,i,r),t.child}function PD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function zC(e,t,r,n,i){var o=nn(r)?xs:Or.current;return o=fl(t,o),ol(t,i),r=LE(e,t,r,n,o,i),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,No(e,t,i)):(t.flags|=1,tn(e,t,r,i),t.child)}function oO(e,t,r,n,i){if(nn(r)){var o=!0;mm(t)}else o=!1;if(ol(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),_D(t,r,n),BC(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Hn(l):(l=nn(r)?xs:Or.current,l=fl(t,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&JN(t,a,n,l),fa=!1;var d=t.memoizedState;a.state=d,Uf(t,n,a,i),u=t.memoizedState,s!==n||d!==u||rn.current||fa?(typeof c=="function"&&(Fm(t,r,c,n),u=t.memoizedState),(s=fa||QN(t,r,s,n,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,yD(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:pi(t.type,s),a.props=l,f=t.pendingProps,d=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Hn(u):(u=nn(r)?xs:Or.current,u=fl(t,u));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&JN(t,a,n,u),fa=!1,d=t.memoizedState,a.state=d,Uf(t,n,a,i);var v=t.memoizedState;s!==f||d!==v||rn.current||fa?(typeof p=="function"&&(Fm(t,r,p,n),v=t.memoizedState),(l=fa||QN(t,r,l,n,d,v,u))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return jC(e,t,r,n,o,i)}function jC(e,t,r,n,i,o){PD(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&jN(t,r,!1),No(e,t,o);n=t.stateNode,t4.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Rm(t,e.child,null,o),t.child=Rm(t,null,s,o)):tn(e,t,s,o),t.memoizedState=n.state,i&&jN(t,r,!0),t.child}function aO(e){var t=e.stateNode;t.pendingContext?zN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zN(e,t.context,!1),GC(e,t.containerInfo)}var lm={dehydrated:null,retryLane:0};function sO(e,t,r){var n=t.pendingProps,i=bt.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),It(bt,i&1),e===null?(n.fallback!==void 0&&VC(t),e=n.children,i=n.fallback,o?(e=uO(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=lm,e):typeof n.unstable_expectedLoadTime=="number"?(e=uO(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=lm,t.lanes=33554432,e):(r=qE({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=cO(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=lm,n):(r=lO(e,t,n.children,r),t.memoizedState=null,r):o?(n=cO(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=lm,n):(r=lO(e,t,n.children,r),t.memoizedState=null,r)}function uO(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=qE(t,i,0,null),r=ll(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function lO(e,t,r,n){var i=e.child;return e=i.sibling,r=wa(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function cO(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return(o&2)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=wa(a,s),e!==null?n=wa(e,n):(n=ll(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function fO(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hD(e.return,t)}function dC(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function dO(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(tn(e,t,n.children,r),n=bt.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fO(e,r);else if(e.tag===19)fO(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(It(bt,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Lm(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dC(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Lm(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dC(t,!0,r,null,o,t.lastEffect);break;case"together":dC(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function No(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zf|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=wa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var FD,qC,RD,LD;FD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qC=function(){};RD=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ts(ji.current);var o=null;switch(r){case"input":i=yC(e,i),n=yC(e,n),o=[];break;case"option":i=CC(e,i),n=CC(e,n),o=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),o=[];break;case"textarea":i=EC(e,i),n=EC(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Am)}IC(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xf.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(xf.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&pt("scroll",e),o||s===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===fE?u.toString():(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};LD=function(e,t,r,n){r!==n&&(t.flags|=4)};function af(e,t){if(!qi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function r4(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return nn(t.type)&&Nm(),null;case 3:return pl(),gt(rn),gt(Or),FE(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(um(t)?t.flags|=4:n.hydrate||(t.flags|=256)),qC(t),null;case 5:PE(t);var i=Ts(Mf.current);if(r=t.type,e!==null&&t.stateNode!=null)RD(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return null}if(e=Ts(ji.current),um(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ga]=t,n[wm]=o,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(e=0;e<ff.length;e++)pt(ff[e],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":gN(n,o),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},pt("invalid",n);break;case"textarea":vN(n,o),pt("invalid",n)}IC(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):xf.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&pt("scroll",n));switch(r){case"input":Zg(n),mN(n,o,!0);break;case"textarea":Zg(n),hN(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Am)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===TC.html&&(e=wO(r)),e===TC.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ga]=t,e[wm]=n,FD(e,t,!1,!1),t.stateNode=e,a=xC(r,n),r){case"dialog":pt("cancel",e),pt("close",e),i=n;break;case"iframe":case"object":case"embed":pt("load",e),i=n;break;case"video":case"audio":for(i=0;i<ff.length;i++)pt(ff[i],e);i=n;break;case"source":pt("error",e),i=n;break;case"img":case"image":case"link":pt("error",e),pt("load",e),i=n;break;case"details":pt("toggle",e),i=n;break;case"input":gN(e,n),i=yC(e,n),pt("invalid",e);break;case"option":i=CC(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),pt("invalid",e);break;case"textarea":vN(e,n),i=EC(e,n),pt("invalid",e);break;default:i=n}IC(r,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?DO(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&NO(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Af(e,u):typeof u=="number"&&Af(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xf.hasOwnProperty(o)?u!=null&&o==="onScroll"&&pt("scroll",e):u!=null&&oE(e,o,u,a))}switch(r){case"input":Zg(e),mN(e,n,!1);break;case"textarea":Zg(e),hN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ba(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?tl(e,!!n.multiple,o,!1):n.defaultValue!=null&&tl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Am)}uD(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)LD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));r=Ts(Mf.current),Ts(ji.current),um(t)?(n=t.stateNode,r=t.memoizedProps,n[ga]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ga]=t,t.stateNode=n)}return null;case 13:return gt(bt),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&um(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(bt.current&1)!==0?mr===0&&(mr=3):((mr===0||mr===3)&&(mr=4),Gr===null||(zf&134217727)===0&&(hl&134217727)===0||sl(Gr,Nr))),(n||r)&&(t.flags|=4),null);case 4:return pl(),qC(t),e===null&&oD(t.stateNode.containerInfo),null;case 10:return OE(t),null;case 17:return nn(t.type)&&Nm(),null;case 19:if(gt(bt),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)af(n,!1);else{if(mr!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=Lm(e),a!==null){for(t.flags|=64,af(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return It(bt,bt.current&1|2),t.child}e=e.sibling}n.tail!==null&&wr()>XC&&(t.flags|=64,o=!0,af(n,!1),t.lanes=33554432)}else{if(!o)if(e=Lm(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),af(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!qi)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*wr()-n.renderingStartTime>XC&&r!==1073741824&&(t.flags|=64,o=!0,af(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=wr(),r.sibling=null,t=bt.current,It(bt,o?t&1|2:t&1),r):null;case 23:case 24:return zE(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(Q(156,t.tag))}function n4(e){switch(e.tag){case 1:nn(e.type)&&Nm();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(pl(),gt(rn),gt(Or),FE(),t=e.flags,(t&64)!==0)throw Error(Q(285));return e.flags=t&-4097|64,e;case 5:return PE(e),null;case 13:return gt(bt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return gt(bt),null;case 4:return pl(),null;case 10:return OE(e),null;case 23:case 24:return zE(),null;default:return null}}function BE(e,t){try{var r="",n=t;do r+=kV(n),n=n.return;while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function YC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var i4=typeof WeakMap=="function"?WeakMap:Map;function UD(e,t,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hm||(Hm=!0,$C=n),YC(e,t)},r}function kD(e,t,r){r=Sa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return YC(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(zi===null?zi=new Set([this]):zi.add(this),YC(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var o4=typeof WeakSet=="function"?WeakSet:Set;function pO(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ta(e,r)}else t.current=null}function a4(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:pi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&xE(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Q(163))}function s4(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(YD(r,e),m4(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:pi(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&KN(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}KN(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&uD(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&VO(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Q(163))}function gO(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=OO("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function mO(e,t){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(AE,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)YD(t,r);else{n=t;try{i()}catch(o){Ta(n,o)}}r=r.next}while(r!==e)}break;case 1:if(pO(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ta(t,o)}break;case 5:pO(t);break;case 4:MD(e,t)}}function vO(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function hO(e){return e.tag===5||e.tag===3||e.tag===4}function yO(e){e:{for(var t=e.return;t!==null;){if(hO(t))break e;t=t.return}throw Error(Q(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(Q(161))}r.flags&16&&(Af(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||hO(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?WC(e,r,t):KC(e,r,t)}function WC(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Am));else if(n!==4&&(e=e.child,e!==null))for(WC(e,t,r),e=e.sibling;e!==null;)WC(e,t,r),e=e.sibling}function KC(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(KC(e,t,r),e=e.sibling;e!==null;)KC(e,t,r),e=e.sibling}function MD(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Q(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,s=r,u=s;;)if(mO(a,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(a=i,s=r.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(mO(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function pC(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[wm]=n,e==="input"&&n.type==="radio"&&n.name!=null&&xO(r,n),xC(e,i),t=xC(e,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?DO(r,s):a==="dangerouslySetInnerHTML"?NO(r,s):a==="children"?Af(r,s):oE(r,a,s,t)}switch(e){case"input":SC(r,n);break;case"textarea":AO(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?tl(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?tl(r,!!n.multiple,n.defaultValue,!0):tl(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Q(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,VO(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(HE=wr(),gO(t.child,!0)),SO(t);return;case 19:SO(t);return;case 17:return;case 23:case 24:gO(t,t.memoizedState!==null);return}throw Error(Q(163))}function SO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new o4),t.forEach(function(n){var i=y4.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function u4(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var l4=Math.ceil,Vm=Os.ReactCurrentDispatcher,GE=Os.ReactCurrentOwner,Ce=0,Gr=null,Jt=null,Nr=0,ws=0,QC=Na(0),mr=0,tv=null,vl=0,zf=0,hl=0,VE=0,JC=null,HE=0,XC=1/0;function yl(){XC=wr()+500}var re=null,Hm=!1,$C=null,zi=null,Aa=!1,Tf=null,df=90,ZC=[],eE=[],Oo=null,bf=0,tE=null,hm=-1,Ao=0,ym=0,If=null,Sm=!1;function Sn(){return(Ce&48)!==0?wr():hm!==-1?hm:hm=wr()}function Ca(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return dl()===99?1:2;if(Ao===0&&(Ao=vl),JH.transition!==0){ym!==0&&(ym=JC!==null?JC.pendingLanes:0),e=Ao;var t=4186112&~ym;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=dl(),(Ce&4)!==0&&e===98?e=Im(12,Ao):(e=ZV(e),e=Im(e,Ao)),e}function Ea(e,t,r){if(50<bf)throw bf=0,tE=null,Error(Q(185));if(e=rv(e,t),e===null)return null;Km(e,t,r),e===Gr&&(hl|=t,mr===4&&sl(e,Nr));var n=dl();t===1?(Ce&8)!==0&&(Ce&48)===0?rE(e):(zn(e,r),Ce===0&&(yl(),Yi())):((Ce&4)===0||n!==98&&n!==99||(Oo===null?Oo=new Set([e]):Oo.add(e)),zn(e,r)),JC=e}function rv(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function zn(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ia(a),u=1<<s,l=o[s];if(l===-1){if((u&n)===0||(u&i)!==0){l=t,Yu(u);var c=rt;o[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}if(n=Df(e,e===Gr?Nr:0),t=rt,n===0)r!==null&&(r!==uC&&kC(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==uC&&kC(r)}t===15?(r=rE.bind(null,e),xo===null?(xo=[r],vm=wE(Zm,vD)):xo.push(r),r=uC):t===14?r=Lf(99,rE.bind(null,e)):(r=eH(t),r=Lf(r,BD.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function BD(e){if(hm=-1,ym=Ao=0,(Ce&48)!==0)throw Error(Q(327));var t=e.callbackNode;if(Oa()&&e.callbackNode!==t)return null;var r=Df(e,e===Gr?Nr:0);if(r===0)return null;var n=r,i=Ce;Ce|=16;var o=zD();(Gr!==e||Nr!==n)&&(yl(),ul(e,n));do try{d4();break}catch(s){HD(e,s)}while(!0);if(NE(),Vm.current=o,Ce=i,Jt!==null?n=0:(Gr=null,Nr=0,n=mr),(vl&hl)!==0)ul(e,0);else if(n!==0){if(n===2&&(Ce|=64,e.hydrate&&(e.hydrate=!1,xE(e.containerInfo)),r=KO(e),r!==0&&(n=pf(e,r))),n===1)throw t=tv,ul(e,0),sl(e,r),zn(e,wr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(Q(345));case 2:Ss(e);break;case 3:if(sl(e,r),(r&62914560)===r&&(n=HE+500-wr(),10<n)){if(Df(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Sn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GN(Ss.bind(null,e),n);break}Ss(e);break;case 4:if(sl(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-Ia(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=wr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l4(r/1960))-r,10<r){e.timeoutHandle=GN(Ss.bind(null,e),r);break}Ss(e);break;case 5:Ss(e);break;default:throw Error(Q(329))}}return zn(e,wr()),e.callbackNode===t?BD.bind(null,e):null}function sl(e,t){for(t&=~VE,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ia(t),n=1<<r;e[r]=-1,t&=~n}}function rE(e){if((Ce&48)!==0)throw Error(Q(327));if(Oa(),e===Gr&&(e.expiredLanes&Nr)!==0){var t=Nr,r=pf(e,t);(vl&hl)!==0&&(t=Df(e,t),r=pf(e,t))}else t=Df(e,0),r=pf(e,t);if(e.tag!==0&&r===2&&(Ce|=64,e.hydrate&&(e.hydrate=!1,xE(e.containerInfo)),t=KO(e),t!==0&&(r=pf(e,t))),r===1)throw r=tv,ul(e,0),sl(e,t),zn(e,wr()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e),zn(e,wr()),null}function c4(){if(Oo!==null){var e=Oo;Oo=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,zn(t,wr())})}Yi()}function GD(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(yl(),Yi())}}function VD(e,t){var r=Ce;Ce&=-2,Ce|=8;try{return e(t)}finally{Ce=r,Ce===0&&(yl(),Yi())}}function cm(e,t){It(QC,ws),ws|=t,vl|=t}function zE(){ws=QC.current,gt(QC)}function ul(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jH(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nm();break;case 3:pl(),gt(rn),gt(Or),FE();break;case 5:PE(n);break;case 4:pl();break;case 13:gt(bt);break;case 19:gt(bt);break;case 10:OE(n);break;case 23:case 24:zE()}r=r.return}Gr=e,Jt=wa(e.current,null),Nr=ws=vl=t,mr=0,tv=null,VE=hl=zf=0}function HD(e,t){do{var r=Jt;try{if(NE(),Cf.current=Gm,Um){for(var n=Ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Um=!1}if(Bf=0,gr=Ar=Ft=null,Ef=!1,GE.current=null,r===null||r.return===null){mr=1,tv=t,Jt=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=Nr,s.flags|=2048,s.firstEffect=s.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if((s.mode&2)===0){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(bt.current&1)!==0,d=a;do{var p;if(p=d.tag===13){var v=d.memoizedState;if(v!==null)p=v.dehydrated!==null;else{var h=d.memoizedProps;p=h.fallback===void 0?!1:h.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var g=d.updateQueue;if(g===null){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if((d.mode&2)===0){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var y=Sa(-1,1);y.tag=2,_a(s,y)}s.lanes|=1;break e}u=void 0,s=t;var S=o.pingCache;if(S===null?(S=o.pingCache=new i4,u=new Set,S.set(l,u)):(u=S.get(l),u===void 0&&(u=new Set,S.set(l,u))),!u.has(s)){u.add(s);var E=h4.bind(null,o,l,s);l.then(E,E)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(d!==null);u=Error((el(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}mr!==5&&(mr=2),u=BE(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t;var D=UD(d,o,t);WN(d,D);break e;case 1:o=u;var P=d.type,x=d.stateNode;if((d.flags&64)===0&&(typeof P.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zi===null||!zi.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t;var q=kD(d,o,t);WN(d,q);break e}}d=d.return}while(d!==null)}qD(r)}catch(G){t=G,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function zD(){var e=Vm.current;return Vm.current=Gm,e===null?Gm:e}function pf(e,t){var r=Ce;Ce|=16;var n=zD();Gr===e&&Nr===t||ul(e,t);do try{f4();break}catch(i){HD(e,i)}while(!0);if(NE(),Ce=r,Vm.current=n,Jt!==null)throw Error(Q(261));return Gr=null,Nr=0,mr}function f4(){for(;Jt!==null;)jD(Jt)}function d4(){for(;Jt!==null&&!WH();)jD(Jt)}function jD(e){var t=WD(e.alternate,e,ws);e.memoizedProps=e.pendingProps,t===null?qD(e):Jt=t,GE.current=null}function qD(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=r4(r,t,ws),r!==null){Jt=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(ws&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=n4(t),r!==null){r.flags&=2047,Jt=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);mr===0&&(mr=5)}function Ss(e){var t=dl();return As(99,p4.bind(null,e,t)),null}function p4(e,t){do Oa();while(Tf!==null);if((Ce&48)!==0)throw Error(Q(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Ia(o),l=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~l}if(Oo!==null&&(n&24)===0&&Oo.has(e)&&Oo.delete(e),e===Gr&&(Jt=Gr=null,Nr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ce,Ce|=32,GE.current=null,oC=dm,a=RN(),PC(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{s.nodeType,u.nodeType}catch(G){s=null;break e}var c=0,f=-1,d=-1,p=0,v=0,h=a,g=null;t:for(;;){for(var m;h!==s||o!==0&&h.nodeType!==3||(f=c+o),h!==u||l!==0&&h.nodeType!==3||(d=c+l),h.nodeType===3&&(c+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===a)break t;if(g===s&&++p===o&&(f=c),g===u&&++v===l&&(d=c),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}s=f===-1||d===-1?null:{start:f,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;aC={focusedElem:a,selectionRange:s},dm=!1,If=null,Sm=!1,re=n;do try{g4()}catch(G){if(re===null)throw Error(Q(330));Ta(re,G),re=re.nextEffect}while(re!==null);If=null,re=n;do try{for(a=e;re!==null;){var y=re.flags;if(y&16&&Af(re.stateNode,""),y&128){var S=re.alternate;if(S!==null){var E=S.ref;E!==null&&(typeof E=="function"?E(null):E.current=null)}}switch(y&1038){case 2:yO(re),re.flags&=-3;break;case 6:yO(re),re.flags&=-3,pC(re.alternate,re);break;case 1024:re.flags&=-1025;break;case 1028:re.flags&=-1025,pC(re.alternate,re);break;case 4:pC(re.alternate,re);break;case 8:s=re,MD(a,s);var D=s.alternate;vO(s),D!==null&&vO(D)}re=re.nextEffect}}catch(G){if(re===null)throw Error(Q(330));Ta(re,G),re=re.nextEffect}while(re!==null);if(E=aC,S=RN(),y=E.focusedElem,a=E.selectionRange,S!==y&&y&&y.ownerDocument&&rD(y.ownerDocument.documentElement,y)){for(a!==null&&PC(y)&&(S=a.start,E=a.end,E===void 0&&(E=S),"selectionStart"in y?(y.selectionStart=S,y.selectionEnd=Math.min(E,y.value.length)):(E=(S=y.ownerDocument||document)&&S.defaultView||window,E.getSelection&&(E=E.getSelection(),s=y.textContent.length,D=Math.min(a.start,s),a=a.end===void 0?D:Math.min(a.end,s),!E.extend&&D>a&&(s=a,a=D,D=s),s=FN(y,D),o=FN(y,a),s&&o&&(E.rangeCount!==1||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&(S=S.createRange(),S.setStart(s.node,s.offset),E.removeAllRanges(),D>a?(E.addRange(S),E.extend(o.node,o.offset)):(S.setEnd(o.node,o.offset),E.addRange(S)))))),S=[],E=y;E=E.parentNode;)E.nodeType===1&&S.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<S.length;y++)E=S[y],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}dm=!!oC,aC=oC=null,e.current=r,re=n;do try{for(y=e;re!==null;){var P=re.flags;if(P&36&&s4(y,re.alternate,re),P&128){S=void 0;var x=re.ref;if(x!==null){var q=re.stateNode;switch(re.tag){case 5:S=q;break;default:S=q}typeof x=="function"?x(S):x.current=S}}re=re.nextEffect}}catch(G){if(re===null)throw Error(Q(330));Ta(re,G),re=re.nextEffect}while(re!==null);re=null,QH(),Ce=i}else e.current=r;if(Aa)Aa=!1,Tf=e,df=t;else for(re=n;re!==null;)t=re.nextEffect,re.nextEffect=null,re.flags&8&&(P=re,P.sibling=null,P.stateNode=null),re=t;if(n=e.pendingLanes,n===0&&(zi=null),n===1?e===tE?bf++:(bf=0,tE=e):bf=0,r=r.stateNode,Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(AE,r,void 0,(r.current.flags&64)===64)}catch(G){}if(zn(e,wr()),Hm)throw Hm=!1,e=$C,$C=null,e;return(Ce&8)!==0||Yi(),null}function g4(){for(;re!==null;){var e=re.alternate;Sm||If===null||((re.flags&8)!==0?_N(re,If)&&(Sm=!0):re.tag===13&&u4(e,re)&&_N(re,If)&&(Sm=!0));var t=re.flags;(t&256)!==0&&a4(e,re),(t&512)===0||Aa||(Aa=!0,Lf(97,function(){return Oa(),null})),re=re.nextEffect}}function Oa(){if(df!==90){var e=97<df?97:df;return df=90,As(e,v4)}return!1}function m4(e,t){ZC.push(t,e),Aa||(Aa=!0,Lf(97,function(){return Oa(),null}))}function YD(e,t){eE.push(t,e),Aa||(Aa=!0,Lf(97,function(){return Oa(),null}))}function v4(){if(Tf===null)return!1;var e=Tf;if(Tf=null,(Ce&48)!==0)throw Error(Q(331));var t=Ce;Ce|=32;var r=eE;eE=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(u){if(o===null)throw Error(Q(330));Ta(o,u)}}for(r=ZC,ZC=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var s=i.create;i.destroy=s()}catch(u){if(o===null)throw Error(Q(330));Ta(o,u)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return Ce=t,Yi(),!0}function _O(e,t,r){t=BE(r,t),t=UD(e,t,1),_a(e,t),t=Sn(),e=rv(e,1),e!==null&&(Km(e,1,t),zn(e,t))}function Ta(e,t){if(e.tag===3)_O(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){_O(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zi===null||!zi.has(n))){e=BE(t,e);var i=kD(r,e,1);if(_a(r,i),i=Sn(),r=rv(r,1),r!==null)Km(r,1,i),zn(r,i);else if(typeof n.componentDidCatch=="function"&&(zi===null||!zi.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function h4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(Nr&r)===r&&(mr===4||mr===3&&(Nr&62914560)===Nr&&500>wr()-HE?ul(e,0):VE|=r),zn(e,t)}function y4(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=dl()===99?1:2:(Ao===0&&(Ao=vl),t=Wu(62914560&~Ao),t===0&&(t=4194304))),r=Sn(),e=rv(e,t),e!==null&&(Km(e,t,r),zn(e,r))}var WD;WD=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)gi=!0;else if((r&n)!==0)gi=(e.flags&16384)!==0;else{switch(gi=!1,t.tag){case 3:aO(t),cC();break;case 5:XN(t);break;case 1:nn(t.type)&&mm(t);break;case 4:GC(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;It(Om,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?sO(e,t,r):(It(bt,bt.current&1),t=No(e,t,r),t!==null?t.sibling:null);It(bt,bt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return dO(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(bt,bt.current),n)break;return null;case 23:case 24:return t.lanes=0,fC(e,t,r)}return No(e,t,r)}else gi=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fl(t,Or.current),ol(t,r),i=LE(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(n)){var o=!0;mm(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DE(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&Fm(t,n,a,e),i.updater=ev,t.stateNode=i,i._reactInternals=t,BC(t,n,e,r),t=jC(null,t,n,!0,o,r)}else t.tag=0,tn(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=_4(i),e=pi(i,e),o){case 0:t=zC(null,t,i,e,r);break e;case 1:t=oO(null,t,i,e,r);break e;case 11:t=nO(null,t,i,e,r);break e;case 14:t=iO(null,t,i,pi(i.type,e),n,r);break e}throw Error(Q(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pi(n,i),zC(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pi(n,i),oO(e,t,n,i,r);case 3:if(aO(t),n=t.updateQueue,e===null||n===null)throw Error(Q(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,yD(e,t),Uf(t,n,null,r),n=t.memoizedState.element,n===i)cC(),t=No(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(ma=il(t.stateNode.containerInfo.firstChild),wo=t,o=qi=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],al.push(o);for(r=ED(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else tn(e,t,n,r),cC();t=t.child}return t;case 5:return XN(t),e===null&&VC(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,LC(n,i)?a=null:o!==null&&LC(n,o)&&(t.flags|=16),PD(e,t),tn(e,t,a,r),t.child;case 6:return e===null&&VC(t),null;case 13:return sO(e,t,r);case 4:return GC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rm(t,null,n,r):tn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pi(n,i),nO(e,t,n,i,r);case 7:return tn(e,t,t.pendingProps,r),t.child;case 8:return tn(e,t,t.pendingProps.children,r),t.child;case 12:return tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(It(Om,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Bn(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!rn.current){t=No(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n&&(l.observedBits&o)!==0){s.tag===1&&(l=Sa(-1,r&-r),l.tag=2,_a(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),hD(s.return,r),u.lanes|=r;break}l=l.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}tn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,ol(t,r),i=Hn(i,o.unstable_observedBits),n=n(i),t.flags|=1,tn(e,t,n,r),t.child;case 14:return i=t.type,o=pi(i,t.pendingProps),o=pi(i.type,o),iO(e,t,i,o,n,r);case 15:return DD(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pi(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,nn(n)?(e=!0,mm(t)):e=!1,ol(t,r),_D(t,n,i),BC(t,n,i,r),jC(null,t,n,!0,e,r);case 19:return dO(e,t,r);case 23:return fC(e,t,r);case 24:return fC(e,t,r)}throw Error(Q(156,t.tag))};function S4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,r,n){return new S4(e,t,r,n)}function jE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _4(e){if(typeof e=="function")return jE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qm)return 11;if(e===Ym)return 14}return 2}function wa(e,t){var r=e.alternate;return r===null?(r=Gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _m(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")jE(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ll(r.children,i,o,t);case TO:a=8,i|=16;break;case aE:a=8,i|=1;break;case gf:return e=Gn(12,r,t,i|8),e.elementType=gf,e.type=gf,e.lanes=o,e;case mf:return e=Gn(13,r,t,i),e.type=mf,e.elementType=mf,e.lanes=o,e;case Cm:return e=Gn(19,r,t,i),e.elementType=Cm,e.lanes=o,e;case dE:return qE(r,i,o,t);case hC:return e=Gn(24,r,t,i),e.elementType=hC,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sE:a=10;break e;case uE:a=9;break e;case qm:a=11;break e;case Ym:a=14;break e;case lE:a=16,n=null;break e;case cE:a=22;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Gn(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function ll(e,t,r,n){return e=Gn(7,e,n,t),e.lanes=r,e}function qE(e,t,r,n){return e=Gn(23,e,n,t),e.elementType=dE,e.lanes=r,e}function gC(e,t,r){return e=Gn(6,e,null,t),e.lanes=r,e}function mC(e,t,r){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C4(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Z_(0),this.expirationTimes=Z_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z_(0),this.mutableSourceEagerHydrationData=null}function E4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zm(e,t,r,n){var i=t.current,o=Sn(),a=Ca(i);e:if(r){r=r._reactInternals;t:{if(Ds(r)!==r||r.tag!==1)throw Error(Q(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Q(171))}if(r.tag===1){var u=r.type;if(nn(u)){r=cD(r,u,s);break e}}r=s}else r=xa;return t.context===null?t.context=r:t.pendingContext=r,t=Sa(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),_a(i,t),Ea(i,a,o),a}function vC(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function YE(e,t){CO(e,t),(e=e.alternate)&&CO(e,t)}function T4(){return null}function WE(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new C4(e,t,r!=null&&r.hydrate===!0),t=Gn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,DE(t),e[ml]=r.current,oD(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}WE.prototype.render=function(e){zm(e,this._internalRoot,null,null)};WE.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zm(null,e,null,function(){t[ml]=null})};function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b4(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new WE(e,0,t?{hydrate:!0}:void 0)}function nv(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=vC(a);s.call(l)}}zm(t,a,e,i)}else{if(o=r._reactRootContainer=b4(r,n),a=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=vC(a);u.call(l)}}VD(function(){zm(t,a,e,i)})}return vC(a)}MO=function(e){if(e.tag===13){var t=Sn();Ea(e,4,t),YE(e,4)}};hE=function(e){if(e.tag===13){var t=Sn();Ea(e,67108864,t),YE(e,67108864)}};BO=function(e){if(e.tag===13){var t=Sn(),r=Ca(e);Ea(e,r,t),YE(e,r)}};GO=function(e,t){return t()};AC=function(e,t,r){switch(t){case"input":if(SC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=$m(n);if(!i)throw Error(Q(90));IO(n),SC(n,i)}}}break;case"textarea":AO(e,r);break;case"select":t=r.value,t!=null&&tl(e,!!r.multiple,t,!1)}};gE=GD;RO=function(e,t,r,n,i){var o=Ce;Ce|=4;try{return As(98,e.bind(null,t,r,n,i))}finally{Ce=o,Ce===0&&(yl(),Yi())}};mE=function(){(Ce&49)===0&&(c4(),Oa())};LO=function(e,t){var r=Ce;Ce|=2;try{return e(t)}finally{Ce=r,Ce===0&&(yl(),Yi())}};function KD(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(t))throw Error(Q(200));return E4(e,t,null,r)}var I4={Events:[Vf,Xu,$m,PO,FO,Oa,{current:!1}]},sf={findFiberByHostInstance:Es,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},x4={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kO(e),e===null?null:e.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||T4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(uf=__REACT_DEVTOOLS_GLOBAL_HOOK__,!uf.isDisabled&&uf.supportsFiber))try{AE=uf.inject(x4),Is=uf}catch(e){}var uf;jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I4;jn.createPortal=KD;jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):Error(Q(268,Object.keys(e)));return e=kO(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e,t){var r=Ce;if((r&48)!==0)return e(t);Ce|=1;try{if(e)return As(99,e.bind(null,t))}finally{Ce=r,Yi()}};jn.hydrate=function(e,t,r){if(!jf(t))throw Error(Q(200));return nv(null,e,t,!0,r)};jn.render=function(e,t,r){if(!jf(t))throw Error(Q(200));return nv(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!jf(e))throw Error(Q(40));return e._reactRootContainer?(VD(function(){nv(null,null,e,!1,function(){e._reactRootContainer=null,e[ml]=null})}),!0):!1};jn.unstable_batchedUpdates=GD;jn.unstable_createPortal=function(e,t){return KD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jf(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return nv(e,t,r,!1,n)};jn.version="17.0.2"});var $D=k((GK,XD)=>{"use strict";function JD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JD)}catch(e){console.error(e)}}JD(),XD.exports=QD()});var WP=k(id=>{"use strict";zg();var J4=Ve(),qP=60103;id.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(g0=Symbol.for,qP=g0("react.element"),id.Fragment=g0("react.fragment"));var g0,X4=J4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$4=Object.prototype.hasOwnProperty,Z4={key:!0,ref:!0,__self:!0,__source:!0};function YP(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)$4.call(t,n)&&!Z4.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:qP,type:e,key:o,ref:a,props:i,_owner:X4.current}}id.jsx=YP;id.jsxs=YP});var QP=k((NX,KP)=>{"use strict";KP.exports=WP()});var gb=k(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.JSON_ID_KEYNAME=Hr.JSON_SURVEY_KEYNAME=Hr.DOM_ID_TAGNAME=Hr.DOM_TYPE_VALUE=Hr.DOM_TYPE_TAGNAME=Hr.SurveyInfoBusinessLevel=void 0;var Zz;(function(e){e[e.None=0]="None",e[e.Critical=1]="Critical"})(Zz=Hr.SurveyInfoBusinessLevel||(Hr.SurveyInfoBusinessLevel={}));Hr.DOM_TYPE_TAGNAME="Type";Hr.DOM_TYPE_VALUE="Survey";Hr.DOM_ID_TAGNAME="SurveyID";Hr.JSON_SURVEY_KEYNAME="survey";Hr.JSON_ID_KEYNAME="surveyId"});var X1=k(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.ActivityName=void 0;var ej=function(){function e(){}return e.AppLaunch="AppLaunch",e.AppUsageTime="AppUsageTime",e.AppResume="AppResume",e}();Yh.ActivityName=ej});var mb=k(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.LAUNCHER_TYPE_DEFAULT=Gt.DOM_INTERCEPT_TAGNAME=Gt.DOM_NLQS_TAGNAME=Gt.DOM_FPS_TAGNAME=Gt.DOM_BPS_TAGNAME=Gt.DOM_PSAT_TAGNAME=Gt.DOM_NPS_TAGNAME=Gt.DOM_FEEDBACKSURVEY_TAGNAME=Gt.SurveyType=void 0;var tj;(function(e){e[e.Feedback=0]="Feedback",e[e.Nps=1]="Nps",e[e.Psat=2]="Psat",e[e.Bps=3]="Bps",e[e.Fps=4]="Fps",e[e.Nlqs=5]="Nlqs",e[e.Intercept=6]="Intercept",e[e.GenericMessagingSurface=12]="GenericMessagingSurface",e[e.Dialog=15]="Dialog"})(tj=Gt.SurveyType||(Gt.SurveyType={}));Gt.DOM_FEEDBACKSURVEY_TAGNAME="FeedbackSurvey";Gt.DOM_NPS_TAGNAME="Nps";Gt.DOM_PSAT_TAGNAME="Psat";Gt.DOM_BPS_TAGNAME="Bps";Gt.DOM_FPS_TAGNAME="Fps";Gt.DOM_NLQS_TAGNAME="Nlqs";Gt.DOM_INTERCEPT_TAGNAME="Intercept";Gt.LAUNCHER_TYPE_DEFAULT="survey"});var $1=k(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.JSON_SURVEYSPECIFICDATA_KEYNAME=ve.JSON_SURVEYSTRINGS_KEYNAME=ve.JSON_EXTENDEDMANIFESTDATA_KEYNAME=ve.JSON_APPLICATION_KEYNAME=ve.JSON_MULTIPLECHOICE_KEYNAME=ve.JSON_QUESTION_KEYNAME=ve.JSON_TITLE_KEYNAME=ve.JSON_CVSURVEYPLATFORM_KEYNAME=ve.JSON_CVSURVEYUIHOST_KEYNAME=ve.JSON_CVSURVEYPRODUCTNAME_KEYNAME=ve.JSON_RATINGOPTIONS_KEYNAME=ve.JSON_CVSURVEYTHEME_KEYNAME=ve.JSON_CVSURVEYFORMID_KEYNAME=ve.JSON_CVSURVEY_KEYNAME=ve.JSON_RATING_KEYNAME=ve.JSON_COMMENT_KEYNAME=ve.JSON_PROMPTNOTEXT_KEYNAME=ve.JSON_PROMPTYESTEXT_KEYNAME=ve.JSON_PROMPT_KEYNAME=ve.JSON_INTERCEPTURL_KEYNAME=ve.JSON_INTERCEPT_KEYNAME=ve.DOM_MULTIPLECHOICE_TAGNAME=ve.DOM_CVSURVEY_TAGNAME=ve.DOM_RATING_TAGNAME=ve.DOM_COMMENT_TAGNAME=ve.DOM_PROMPT_TAGNAME=void 0;ve.DOM_PROMPT_TAGNAME="Prompt";ve.DOM_COMMENT_TAGNAME="Comment";ve.DOM_RATING_TAGNAME="Rating";ve.DOM_CVSURVEY_TAGNAME="CVSurvey";ve.DOM_MULTIPLECHOICE_TAGNAME="MultipleChoice";ve.JSON_INTERCEPT_KEYNAME="intercept";ve.JSON_INTERCEPTURL_KEYNAME="url";ve.JSON_PROMPT_KEYNAME="prompt";ve.JSON_PROMPTYESTEXT_KEYNAME="yesButtonText";ve.JSON_PROMPTNOTEXT_KEYNAME="noButtonText";ve.JSON_COMMENT_KEYNAME="comment";ve.JSON_RATING_KEYNAME="rating";ve.JSON_CVSURVEY_KEYNAME="cvSurvey";ve.JSON_CVSURVEYFORMID_KEYNAME="formId";ve.JSON_CVSURVEYTHEME_KEYNAME="theme";ve.JSON_RATINGOPTIONS_KEYNAME="options";ve.JSON_CVSURVEYPRODUCTNAME_KEYNAME="productName";ve.JSON_CVSURVEYUIHOST_KEYNAME="uiHost";ve.JSON_CVSURVEYPLATFORM_KEYNAME="platform";ve.JSON_TITLE_KEYNAME="title";ve.JSON_QUESTION_KEYNAME="question";ve.JSON_MULTIPLECHOICE_KEYNAME="multipleChoice";ve.JSON_APPLICATION_KEYNAME="application";ve.JSON_EXTENDEDMANIFESTDATA_KEYNAME="extendedManifestData";ve.JSON_SURVEYSTRINGS_KEYNAME="surveyStrings";ve.JSON_SURVEYSPECIFICDATA_KEYNAME="surveySpecificData"});var eU=k(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0})});var tU=k(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.RoamingSettingIdMap=void 0;Wh.RoamingSettingIdMap={CampaignStates:1258,GovernedChannelStates:1257,SurveyActivationStats:1259}});var rU=k(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.FloodgateStorageProviderFileType=void 0;var rj;(function(e){e[e.FloodgateSettings=0]="FloodgateSettings",e[e.SurveyActivationStats=1]="SurveyActivationStats",e[e.SurveyEventActivityStats=2]="SurveyEventActivityStats",e[e.CampaignDefinitions=3]="CampaignDefinitions",e[e.CampaignStates=4]="CampaignStates",e[e.GovernedChannelStates=5]="GovernedChannelStates",e[e.TmsCache_MessageMetadata=6]="TmsCache_MessageMetadata",e[e.TmsCache_UserGovernance=7]="TmsCache_UserGovernance",e[e.TmsCache_CampaignContent=8]="TmsCache_CampaignContent",e[e.Tms_DynamicSettings=9]="Tms_DynamicSettings",e[e.LogLevelSettings=10]="LogLevelSettings",e[e.UserFacts=11]="UserFacts",e[e.DebugOverrides=12]="DebugOverrides",e[e.DynamicCampaignDefinitions=13]="DynamicCampaignDefinitions",e[e.FeatureGateOverrides=14]="FeatureGateOverrides"})(rj=ip.FloodgateStorageProviderFileType||(ip.FloodgateStorageProviderFileType={}))});var iU=k(nU=>{"use strict";Object.defineProperty(nU,"__esModule",{value:!0})});var aU=k(oU=>{"use strict";Object.defineProperty(oU,"__esModule",{value:!0})});var uU=k(sU=>{"use strict";Object.defineProperty(sU,"__esModule",{value:!0})});var cU=k(lU=>{"use strict";Object.defineProperty(lU,"__esModule",{value:!0})});var dU=k(fU=>{"use strict";Object.defineProperty(fU,"__esModule",{value:!0})});var gU=k(pU=>{"use strict";Object.defineProperty(pU,"__esModule",{value:!0})});var vU=k(mU=>{"use strict";Object.defineProperty(mU,"__esModule",{value:!0})});var hU=k(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.GovernanceServiceClientState=ja.GovernanceServiceSurveyType=void 0;var nj;(function(e){e[e.Unknown=0]="Unknown",e[e.Feedback=1]="Feedback",e[e.Nps=2]="Nps",e[e.Psat=4]="Psat",e[e.Bps=6]="Bps",e[e.Fps=8]="Fps",e[e.Nlqs=18]="Nlqs",e[e.GenericMessagingSurface=22]="GenericMessagingSurface",e[e.Intercept=24]="Intercept"})(nj=ja.GovernanceServiceSurveyType||(ja.GovernanceServiceSurveyType={}));var ij;(function(e){e[e.Disabled=0]="Disabled",e[e.InitializationFailed=1]="InitializationFailed",e[e.Enabled=2]="Enabled"})(ij=ja.GovernanceServiceClientState||(ja.GovernanceServiceClientState={}))});var yU=k(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.EcsConfigType=void 0;var oj;(function(e){e[e.Default=0]="Default",e[e.User=1]="User"})(oj=op.EcsConfigType||(op.EcsConfigType={}))});var vb=k(Nt=>{"use strict";var aj=Nt&&Nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fr=Nt&&Nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aj(t,e,r)};Object.defineProperty(Nt,"__esModule",{value:!0});Fr(gb(),Nt);Fr(X1(),Nt);Fr(mb(),Nt);Fr($1(),Nt);Fr(eU(),Nt);Fr(tU(),Nt);Fr(rU(),Nt);Fr(iU(),Nt);Fr(aU(),Nt);Fr(uU(),Nt);Fr(cU(),Nt);Fr(dU(),Nt);Fr(gU(),Nt);Fr(vU(),Nt);Fr(hU(),Nt);Fr(yU(),Nt)});var _U=k(SU=>{"use strict";Object.defineProperty(SU,"__esModule",{value:!0})});var EU=k(CU=>{"use strict";Object.defineProperty(CU,"__esModule",{value:!0})});var TU=k(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.QuestionType=void 0;var sj;(function(e){e.Comment="Comment",e.ContactMe="ContactMe",e.MultipleChoice="MultipleChoice",e.Label="Label",e.Rating="Rating",e.SingleSelect="SingleSelect",e.Likert="Likert"})(sj=ap.QuestionType||(ap.QuestionType={}))});var bU=k(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.BranchingTargetType=Ni.ConditionSourceType=Ni.ConditionType=void 0;var uj;(function(e){e.Equals="Equals",e.NotEquals="NotEquals",e.GreaterThan="GreaterThan",e.GreaterThanOrEqual="GreaterThanOrEqual",e.LessThan="LessThan",e.LessThanOrEqual="LessThanOrEqual",e.IsAnswered="IsAnswered"})(uj=Ni.ConditionType||(Ni.ConditionType={}));var lj;(function(e){e.Question="Question",e.Variable="Variable"})(lj=Ni.ConditionSourceType||(Ni.ConditionSourceType={}));var cj;(function(e){e.Page="Page",e.Override="Override"})(cj=Ni.BranchingTargetType||(Ni.BranchingTargetType={}))});var IU=k(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.IUxSchemaAdditionalCapabilitiesTypes=void 0;var fj;(function(e){e.Email="email",e.Screenshot="screenshot",e.Diagnostics="diagnostics"})(fj=sp.IUxSchemaAdditionalCapabilitiesTypes||(sp.IUxSchemaAdditionalCapabilitiesTypes={}))});var xU=k(Rr=>{"use strict";var hb;Object.defineProperty(Rr,"__esModule",{value:!0});Rr.SurveyRestrictions=Rr.MAX_HORIZONTAL_OPTIONS_LIKERT_QUESTIONS=Rr.MIN_HORIZONTAL_OPTIONS_LIKERT_QUESTIONS=Rr.MAX_VERTICAL_OPTIONS_LIKERT_QUESTIONS=Rr.MIN_VERTICAL_OPTIONS_LIKERT_QUESTIONS=Rr.MAX_OPTIONS_NON_LIKERT_QUESTIONS=Rr.MIN_OPTIONS_NON_LIKERT_QUESTIONS=void 0;var dj=mb();Rr.MIN_OPTIONS_NON_LIKERT_QUESTIONS=2;Rr.MAX_OPTIONS_NON_LIKERT_QUESTIONS=11;Rr.MIN_VERTICAL_OPTIONS_LIKERT_QUESTIONS=2;Rr.MAX_VERTICAL_OPTIONS_LIKERT_QUESTIONS=7;Rr.MIN_HORIZONTAL_OPTIONS_LIKERT_QUESTIONS=1;Rr.MAX_HORIZONTAL_OPTIONS_LIKERT_QUESTIONS=10;Rr.SurveyRestrictions=(hb={},hb[dj.SurveyType.Fps]={MinNumberOfPages:2,AllowedFirstTemplateIds:["0e19ac6f-d831-499c-9e83-a709e27784b6","51e6db44-1070-45e6-be30-8c14a5b9e55a"]},hb)});var AU=k(Oi=>{"use strict";var pj=Oi&&Oi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),up=Oi&&Oi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pj(t,e,r)};Object.defineProperty(Oi,"__esModule",{value:!0});up(EU(),Oi);up(TU(),Oi);up(bU(),Oi);up(IU(),Oi);up(xU(),Oi)});var wU=k(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.ICampaignDefinitions=void 0;var gj=function(){function e(){}return e}();Kh.ICampaignDefinitions=gj});var OU=k(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.GovernedChannelType=void 0;var NU;(function(e){e[e.Standard=0]="Standard",e[e.Urgent=1]="Urgent",e[e.Banner=2]="Banner",e[e.TeachingMessage=3]="TeachingMessage",e[e.BusinessBar=4]="BusinessBar",e[e.Dialog=8]="Dialog"})(NU=au.GovernedChannelType||(au.GovernedChannelType={}));(function(e){function t(){return e.Standard}e.getDefault=t})(NU=au.GovernedChannelType||(au.GovernedChannelType={}))});var PU=k(DU=>{"use strict";Object.defineProperty(DU,"__esModule",{value:!0})});var FU=k(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.IFloodgateHostPlatform=void 0;var mj;(function(e){e.Web="Web",e.Android="Android",e.Win32="Win32",e.iOS="iOS"})(mj=lp.IFloodgateHostPlatform||(lp.IFloodgateHostPlatform={}))});var RU=k(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.AlignmentType=void 0;var vj;(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"})(vj=cp.AlignmentType||(cp.AlignmentType={}))});var UU=k(LU=>{"use strict";Object.defineProperty(LU,"__esModule",{value:!0})});var kU=k(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.AuthenticationType=void 0;var hj;(function(e){e[e.MSA=0]="MSA",e[e.AAD=1]="AAD",e[e.Unauthenticated=2]="Unauthenticated"})(hj=fp.AuthenticationType||(fp.AuthenticationType={}))});var Ee=k(Ot=>{"use strict";var yj=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qa=Ot&&Ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yj(t,e,r)};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.IFloodgateHostPlatform=Ot.GovernedChannelType=Ot.ICampaignDefinitions=Ot.Api=void 0;qa(vb(),Ot);Ot.Api=vb();qa(gb(),Ot);qa(_U(),Ot);qa(AU(),Ot);var Sj=wU();Object.defineProperty(Ot,"ICampaignDefinitions",{enumerable:!0,get:function(){return Sj.ICampaignDefinitions}});var _j=OU();Object.defineProperty(Ot,"GovernedChannelType",{enumerable:!0,get:function(){return _j.GovernedChannelType}});qa(PU(),Ot);var Cj=FU();Object.defineProperty(Ot,"IFloodgateHostPlatform",{enumerable:!0,get:function(){return Cj.IFloodgateHostPlatform}});qa(RU(),Ot);qa(UU(),Ot);qa(kU(),Ot)});var Qo=k(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.config={exceptionsToConsole:!0,catchExceptions:!0,traceEnabled:!1,exceptionHandler:void 0,unhandledErrorHandler:function(e){throw e}};function Ej(e){var t=dp();return e.then(function(r){t.resolve(r)},function(r){t.reject(r)}),t.promise().thenAsync(function(r){return r})}Cr.fromThenable=Ej;function Qh(e){return e!=null&&typeof e.then=="function"}function Jh(e){return e!=null&&typeof e.cancel=="function"}function MU(e,t){if(Cr.config.catchExceptions)try{return e()}catch(r){return t(r)}else return e()}var Xh=[],Tj=typeof setImmediate<"u";function yb(e){Xh.push(e),Xh.length===1&&(Tj?setImmediate(BU):setTimeout(BU,0))}Cr.asyncCallback=yb;function BU(){var e=Xh;Xh=[];for(var t=0;t<e.length;t++)e[t]()}var su;(function(e){var t=function(){function r(){this._completedSuccess=!1,this._completedFail=!1,this._traceEnabled=!1,this._cancelCallbacks=[],this._wasCanceled=!1,this._wasExplicitlyCanceled=!1,this._resolving=!1,this._storedCallbackSets=[],this._mustHandleError=!0}return r.prototype._addCallbackSet=function(n,i){var o=this,a=new r;return a.onCancel(function(s){n.wasCanceled=!0,n.cancelContext=s,o._cancelInternal(s)}),n.task=a,this._storedCallbackSets.push(n),i?this._mustHandleError=!1:a._mustHandleError=!1,this._resolving||(this._completedSuccess?this._resolveSuccesses():this._completedFail&&this._resolveFailures()),a.promise()},r.prototype.onCancel=function(n){return!this._completedSuccess&&!this._completedFail&&(this._wasCanceled?n(this._cancelContext):this._cancelCallbacks.push(n)),this},r.prototype.then=function(n,i){return this._addCallbackSet({successFunc:n,failFunc:i},!0)},r.prototype.thenAsync=function(n,i){return this._addCallbackSet({successFunc:n,failFunc:i,asyncCallback:!0},!0)},r.prototype.catch=function(n){return this._addCallbackSet({failFunc:n},!0)},r.prototype.always=function(n){return this._addCallbackSet({successFunc:n,failFunc:n},!0)},r.prototype.setTracingEnabled=function(n){return this._traceEnabled=n,this},r.prototype.finally=function(n){return this._addCallbackSet({successFunc:n,failFunc:n},!1),this},r.prototype.done=function(n){return this._addCallbackSet({successFunc:n},!1),this},r.prototype.fail=function(n){return this._addCallbackSet({failFunc:n},!1),this},r.prototype.resolve=function(n){return this._checkState(!0),this._completedSuccess=!0,this._storedResolution=n,this._cancelCallbacks=[],this._resolveSuccesses(),this},r.prototype.reject=function(n){return this._checkState(!1),this._completedFail=!0,this._storedErrResolution=n,this._cancelCallbacks=[],this._resolveFailures(),r._enforceErrorHandled(this),this},r.prototype._checkState=function(n){if(this._completedSuccess||this._completedFail){this._completeStack&&console.error(this._completeStack.message,this._completeStack.stack);var i="Failed to "+(n?"resolve":"reject")+": the task is already "+(this._completedSuccess?"resolved":"rejected");throw new Error(i)}(Cr.config.traceEnabled||this._traceEnabled)&&(this._completeStack=new Error("Initial "+n?"resolve":"reject"))},r._enforceErrorHandled=function(n){n._mustHandleError&&(r._rejectedTasks.push(n),r._enforceErrorHandledTimer||(r._enforceErrorHandledTimer=setTimeout(function(){r._enforceErrorHandledTimer=void 0;var i=r._rejectedTasks;r._rejectedTasks=[],i.forEach(function(o,a){o._mustHandleError&&Cr.config.unhandledErrorHandler(o._storedErrResolution)})},0)))},r.prototype.cancel=function(n){if(this._wasExplicitlyCanceled)throw new Error("Already Canceled");this._wasExplicitlyCanceled=!0,this._cancelInternal(n)},r.prototype._cancelInternal=function(n){var i=this;if(!this._wasCanceled){this._wasCanceled=!0,this._cancelContext=n;var o=this._cancelCallbacks;this._cancelCallbacks=[],o.length>0&&o.forEach(function(a){!i._completedSuccess&&!i._completedFail&&a(i._cancelContext)})}},r.cancelOtherInternal=function(n,i){var o=n;o._storedCallbackSets&&o._cancelInternal?o._cancelInternal(i):n.cancel(i)},r.prototype.promise=function(){return this},r.prototype._resolveSuccesses=function(){var n=this;for(this._resolving=!0;this._storedCallbackSets.length;){var i=this._storedCallbackSets;this._storedCallbackSets=[],i.forEach(function(o){o.asyncCallback?yb(function(){return n._resolveSuccessCallback(o)}):n._resolveSuccessCallback(o)})}this._resolving=!1},r.prototype._resolveSuccessCallback=function(n){var i=this;n.successFunc?MU(function(){var o=n.successFunc(i._storedResolution);Jh(o)&&(n.wasCanceled?r.cancelOtherInternal(o,n.cancelContext):n.task.onCancel(function(a){return r.cancelOtherInternal(o,a)})),Qh(o)?o.then(function(a){n.task.resolve(a)},function(a){n.task.reject(a)}):n.task.resolve(o)},function(o){i._handleException(o,"SyncTask caught exception in success block: "+o.toString()),n.task.reject(o)}):n.task.resolve(this._storedResolution)},r.prototype._resolveFailures=function(){var n=this;for(this._resolving=!0;this._storedCallbackSets.length;){var i=this._storedCallbackSets;this._storedCallbackSets=[],i.forEach(function(o){o.asyncCallback?yb(function(){return n._resolveFailureCallback(o)}):n._resolveFailureCallback(o)})}this._resolving=!1},r.prototype._resolveFailureCallback=function(n){var i=this;n.failFunc?MU(function(){var o=n.failFunc(i._storedErrResolution);Jh(o)&&(n.wasCanceled?r.cancelOtherInternal(o,n.cancelContext):n.task.onCancel(function(a){return r.cancelOtherInternal(o,a)})),Qh(o)?o.then(function(a){n.task.resolve(a)},function(a){n.task.reject(a)}):n.task.resolve(o)},function(o){i._handleException(o,"SyncTask caught exception in failure block: "+o.toString()),n.task.reject(o)}):n.task.reject(this._storedErrResolution)},r.prototype._handleException=function(n,i){Cr.config.exceptionsToConsole&&console.error(i),Cr.config.exceptionHandler&&Cr.config.exceptionHandler(n)},r.prototype.toEs6Promise=function(){var n=this;return new Promise(function(i,o){return n.then(i,o)})},r._rejectedTasks=[],r}();e.SyncTask=t})(su||(su={}));function bj(e){if(e.length===0)return GU([]);var t=dp(),r=e.length,n,i=Array(e.length);t.onCancel(function(a){e.forEach(function(s){Jh(s)&&su.SyncTask.cancelOtherInternal(s,a)})});var o=function(){--r===0&&(n!==void 0?t.reject(n):t.resolve(i))};return e.forEach(function(a,s){if(Qh(a)){var u=a;u.then(function(l){i[s]=l,o()},function(l){n===void 0&&(n=l!==void 0?l:!0),o()})}else i[s]=a,o()}),t.promise()}Cr.all=bj;function dp(){return new su.SyncTask}Cr.Defer=dp;function GU(e){return new su.SyncTask().resolve(e).promise()}Cr.Resolved=GU;function Ij(e){return new su.SyncTask().reject(e).promise()}Cr.Rejected=Ij;function VU(e){var t=dp(),r=!1;return t.onCancel(function(n){e.forEach(function(i){Jh(i)&&su.SyncTask.cancelOtherInternal(i,n)})}),e.forEach(function(n){if(Qh(n)){var i=n;i.then(function(o){r||(r=!0,t.resolve(o))},function(o){r||(r=!0,t.reject(o))})}else r||(r=!0,t.resolve(n))}),t.promise()}Cr.race=VU;function xj(e,t){var r=dp(),n=setTimeout(function(){r.resolve({timedOut:!0})},t),i=e.then(function(o){return clearTimeout(n),{timedOut:!1,result:o}});return VU([i,r.promise()])}Cr.raceTimer=xj});var pp=k($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var HU=function(){function e(t,r){this._event=t,this._callback=r}return e.prototype.unsubscribe=function(){this._event.unsubscribe(this._callback)},e}();$h.SubscriptionToken=HU;var Aj=function(){function e(t){t===void 0&&(t=!1);var r=this;this._allowStopPropagation=t,this.fire=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=r._subscribers,a=o.length-1;a>=0;a--){var s=o[a].apply(null,n);if(r._allowStopPropagation&&s)return!0}return!1},this._subscribers=[]}return e.prototype.dispose=function(){this._subscribers=[]},e.prototype.subscribe=function(t){return this._subscribers=this._subscribers.concat(t),new HU(this,t)},e.prototype.unsubscribe=function(t){this._subscribers=this._subscribers.filter(function(r){return r!==t})},e}();$h.default=Aj});var jU=k(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});var zU=Qo(),wj=function(){function e(){this._isAllowed=!1}return e.prototype.putBackgroundFetchAllowed=function(t){if(this._isAllowed=t,this.isBackgroundFetchAllowed()&&this._isAllowedDeferral){var r=this._isAllowedDeferral;this._isAllowedDeferral=void 0,r.resolve(void 0)}},e.prototype.isBackgroundFetchAllowed=function(){return this._isAllowed},e.prototype.waitForBackgroundFetchAllowed=function(){return this.isBackgroundFetchAllowed()?zU.Resolved():(this._isAllowedDeferral||(this._isAllowedDeferral=zU.Defer()),this._isAllowedDeferral.promise())},e}();Sb.default=wj});var YU=k(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});var qU=Qo(),Nj=function(){function e(){this._isActive=!1}return e.prototype.putAppActive=function(t){if(this._isActive=t,this.isAppActive()&&this._appActiveDeferral){var r=this._appActiveDeferral;this._appActiveDeferral=void 0,r.resolve(void 0)}},e.prototype.isAppActive=function(){return this._isActive},e.prototype.waitForAppActive=function(){return this.isAppActive()?qU.Resolved():(this._appActiveDeferral||(this._appActiveDeferral=qU.Defer()),this._appActiveDeferral.promise())},e}();_b.default=Nj});var gp=k(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});var Oj;(function(e){e[e.Default=0]="Default",e[e.User=1]="User"})(Oj=Zh.EcsConfigType||(Zh.EcsConfigType={}))});var KU=k(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});var Dj=pp(),ey=Qo(),WU=gp(),Pj=function(){function e(t){this._config=t,this.configUpdated=new Dj.default,this._cachedConfigs={}}return e.prototype.initialize=function(){return this.updateConfigsToFetch()},e.prototype.updateConfigsToFetch=function(){var t=this,r=this._config.getConfig(),n=r.databaseInterface,i=r.configsToFetch;if(!n)return ey.Resolved();for(var o=[],a=function(f){if(s._cachedConfigs[f])return"continue";o.push(n.getData(f).then(function(d){d&&(t._cachedConfigs[f]=d)}).catch(function(){return ey.Resolved()}))},s=this,u=0,l=i;u<l.length;u++){var c=l[u];a(c)}return ey.all(o).then(function(){o.length>0&&t.configUpdated.fire()})},e.prototype.getEcsConfig=function(){return this._cachedConfigs[WU.EcsConfigType.User]||this._cachedConfigs[WU.EcsConfigType.Default]},e.prototype.getEcsConfigByType=function(t){return this._cachedConfigs[t]},e.prototype.putConfig=function(t){var r=this.getEcsConfig();this._cachedConfigs[t.configType]=t;var n=this.getEcsConfig();(n&&n.configType===t.configType||r&&n&&r.configType!==n.configType)&&this.configUpdated.fire();var i=this._config.getConfig().databaseInterface;return i?i.putData(t.configType,t):ey.Resolved()},e}();Cb.default=Pj});var QU=k(mp=>{"use strict";var lc=mp&&mp.__assign||function(){return lc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},lc.apply(this,arguments)};Object.defineProperty(mp,"__esModule",{value:!0});var Fj=function(){function e(){}return e.prototype.initialize=function(t){if(this._config)throw new Error("ECS Configuration already initialized");this._config=t},e.prototype.getConfig=function(){if(!this._config)throw new Error("ECS Configuration not yet initialized");return this._config},e.prototype.setConfigsToFetch=function(t){if(!this._config)throw new Error("ECS Configuration not yet initialized");this._config=lc(lc({},this._config),{configsToFetch:t})},e.prototype.setFetchTimeout=function(t){if(!this._config)throw new Error("ECS Configuration not yet initialized");this._config=lc(lc({},this._config),{fetchTimeout:t})},e}();mp.default=Fj});var ry=k(On=>{"use strict";var ty=On&&On.__assign||function(){return ty=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ty.apply(this,arguments)};Object.defineProperty(On,"__esModule",{value:!0});On.assert=function(e,t){if(!e)throw new Error(t)};On.isObject=function(e){return e!==null&&typeof e=="object"};On.isString=function(e){return typeof e=="string"};On.attempt=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];try{return e.apply(void 0,t)}catch(n){return new Error(n)}};On.remove=function(e,t){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)};On.clone=function(e){return Array.isArray(e)?e.map(On.clone):On.isObject(e)?Object.keys(e).reduce(function(t,r){var n;return ty(ty({},t),(n={},n[r]=On.clone(e[r]),n))},{}):e}});var Eb=k(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});var ny=ry();uu.DEFAULT_TIME_GROW_FACTOR=2.718281828459045;uu.DEFAULT_TIME_JITTER=.11962656472;var Rj=function(){function e(t,r,n,i){n===void 0&&(n=uu.DEFAULT_TIME_GROW_FACTOR),i===void 0&&(i=uu.DEFAULT_TIME_JITTER),this._initialTime=t,this._maxTime=r,this._growFactor=n,this._jitterFactor=i,ny.assert(this._initialTime>0,"Initial delay must be positive"),ny.assert(this._maxTime>0,"Delay upper bound must be positive"),ny.assert(this._growFactor>=0,"Ratio must be non-negative"),ny.assert(this._jitterFactor>=0,"Jitter factor must be non-negative"),this.reset()}return e.prototype.reset=function(){this._incrementCount=0,this._currentTime=Math.round(this._initialTime*(1+Math.random()*this._jitterFactor))},e.prototype.getTime=function(){return this._currentTime},e.prototype.getIncrementCount=function(){return this._incrementCount},e.prototype.calculateNext=function(){var t=this._currentTime*this._growFactor;return t>this._maxTime&&(t=this._maxTime),this._jitterFactor<1e-5?this._currentTime=t:this._currentTime=Math.round(Math.random()*t*this._jitterFactor+t),this._currentTime<this._initialTime&&(this._currentTime=this._initialTime),this._currentTime>this._maxTime&&(this._currentTime=this._maxTime),this._incrementCount++,this._currentTime},e.prototype.getTimeAndCalculateNext=function(){var t=this.getTime();return this.calculateNext(),t},e}();uu.ExponentialTime=Rj});var Ab=k(Ke=>{"use strict";var Lj=Ke&&Ke.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qn=Ke&&Ke.__assign||function(){return Qn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qn.apply(this,arguments)};Object.defineProperty(Ke,"__esModule",{value:!0});var bb=Qo(),fr=ry(),Uj=Eb(),xb;(function(e){e[e.DontCare=0]="DontCare",e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Critical=4]="Critical"})(xb=Ke.WebRequestPriority||(Ke.WebRequestPriority={}));var ao;(function(e){e[e.DoNotRetry=0]="DoNotRetry",e[e.RetryUncountedImmediately=1]="RetryUncountedImmediately",e[e.RetryUncountedWithBackoff=2]="RetryUncountedWithBackoff",e[e.RetryCountedWithBackoff=3]="RetryCountedWithBackoff",e[e.PauseUntilResumed=4]="PauseUntilResumed"})(ao=Ke.ErrorHandlingType||(Ke.ErrorHandlingType={}));function XU(e){return!!e&&e.indexOf("application/json")===0}function kj(e){return!!e&&e.indexOf("application/x-www-form-urlencoded")===0}function Mj(e){return!!e&&e.indexOf("multipart/form-data")===0}Ke.DefaultOptions={priority:xb.Normal};Ke.SimpleWebRequestOptions={MaxSimultaneousRequests:5,HungRequestCleanupIntervalMs:1e4,setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}};function $U(e,t){return t.canceled||!t.statusCode||t.statusCode>=400&&t.statusCode<600?ao.DoNotRetry:ao.RetryCountedWithBackoff}Ke.DefaultErrorHandler=$U;var Ya=[],Tb=[],Wa=[],cc,lu=0,JU=0,Ib=function(){function e(t,r,n,i,o){this._action=t,this._url=r,this.options=n,this._getHeaders=i,this._blockRequestUntil=o,this._aborted=!1,this._timedOut=!1,this._paused=!1,this._created=Date.now(),this._finishHandled=!1,this._retryExponentialTime=new Uj.ExponentialTime(1e3,3e5),this._options=Qn(Qn({},Ke.DefaultOptions),n)}return e.prototype.getPriority=function(){return this._options.priority||xb.DontCare},e.checkQueueProcessing=function(){for(var t=function(){var r=Ya.shift();Tb.push(r);var n=r._blockRequestUntil&&r._blockRequestUntil()||bb.Resolved();n.finally(function(){fr.remove(Tb,r)}).then(function(){Wa.length<Ke.SimpleWebRequestOptions.MaxSimultaneousRequests&&!r._aborted?(Wa.push(r),fc._scheduleHungRequestCleanupIfNeeded(),r._fire()):r._enqueue()},function(i){r._respond("_blockRequestUntil rejected: "+i)})};Ya.length>0&&Wa.length<Ke.SimpleWebRequestOptions.MaxSimultaneousRequests;)t()},e._scheduleHungRequestCleanupIfNeeded=function(){Wa.length>0&&cc===void 0?cc=Ke.SimpleWebRequestOptions.setTimeout(this._hungRequestCleanupTimerCallback,Ke.SimpleWebRequestOptions.HungRequestCleanupIntervalMs):Wa.length===0&&cc&&(Ke.SimpleWebRequestOptions.clearTimeout(cc),cc=void 0)},e.prototype._removeFromQueue=function(){fr.remove(Wa,this),fr.remove(Ya,this)},e.prototype._assertAndClean=function(t,r){t||(this._removeFromQueue(),console.error(r),fr.assert(t,r))},e.prototype._fire=function(){var t=this;this._xhr=new XMLHttpRequest,this._xhrRequestHeaders={};var r=fr.attempt(function(){t._xhr.open(t._action,t._url,!0)});if(r){this._respond(r.toString());return}if(this._options.timeout){var n=JU;n!==3&&(this._assertAndClean(!this._requestTimeoutTimer,"Double-fired requestTimeoutTimer"),this._requestTimeoutTimer=Ke.SimpleWebRequestOptions.setTimeout(function(){t._requestTimeoutTimer=void 0,t._timedOut=!0,t.abort()},this._options.timeout)),(n===3||n<=1)&&(this._xhr.timeout=this._options.timeout,this._xhr.ontimeout=function(){JU=3,n===3&&(t._timedOut=!0,t._aborted=!0,t._respond("TimedOut"))})}var i=lu;i!==3?(i===0&&(lu=1),this._xhr.onreadystatechange=function(){if(t._xhr){if(t._xhr.readyState===3&&t._options.streamingDownloadProgress&&!t._aborted){t._options.streamingDownloadProgress(t._xhr.responseText);return}t._xhr.readyState===4&&(i===0&&lu===1&&Ke.SimpleWebRequestOptions.setTimeout(function(){lu!==3&&(lu=2)},1e4),t._respond())}}):this._options.streamingDownloadProgress&&(this._xhr.onreadystatechange=function(){t._xhr&&t._xhr.readyState===3&&t._options.streamingDownloadProgress&&!t._aborted&&t._options.streamingDownloadProgress(t._xhr.responseText)}),i!==2&&(this._xhr.onload=function(){lu=3,i===3&&t._respond()},this._xhr.onerror=function(){lu=3,i===3&&t._respond()}),this._xhr.onabort=function(){t._aborted=!0,t._respond("Aborted")},this._xhr.upload&&this._options.onProgress&&(this._xhr.upload.onprogress=this._options.onProgress);var o=this._options.acceptType||"json",a=this._options.customResponseType||e._getResponseType(o),s=fr.attempt(function(){t._xhr.responseType=a});if(s&&a!=="json")throw s;fc._setRequestHeader(this._xhr,this._xhrRequestHeaders,"Accept",e.mapContentType(o)),this._xhr.withCredentials=!!this._options.withCredentials;var u=this.getRequestHeaders(),l={};if(Object.keys(u).forEach(function(d){var p=u[d],v=d.toLowerCase();if(v==="content-type"){t._assertAndClean(!1,"Don't set Content-Type with options.headers -- use it with the options.contentType property");return}if(v==="accept"){t._assertAndClean(!1,"Don't set Accept with options.headers -- use it with the options.acceptType property");return}if(t._assertAndClean(!l[v],"Setting duplicate header key: "+l[v]+" and "+d),p==null){console.warn('Tried to set header "'+d+'" on request with "'+p+'" value, header will be dropped');return}l[v]=!0,fc._setRequestHeader(t._xhr,t._xhrRequestHeaders,d,p)}),this._options.sendData){var c=e.mapContentType(this._options.contentType||"json");fc._setRequestHeader(this._xhr,this._xhrRequestHeaders,"Content-Type",c);var f=e.mapBody(this._options.sendData,c);this._xhr.send(f)}else this._xhr.send()},e._setRequestHeader=function(t,r,n,i){t.setRequestHeader(n,i),r[n]=i},e.mapContentType=function(t){return t==="json"?"application/json":t==="form"?"application/x-www-form-urlencoded":t},e.mapBody=function(t,r){if(XU(r)){if(!fr.isString(t))return JSON.stringify(t)}else if(kj(r)){if(!fr.isString(t)&&fr.isObject(t)){var n=t;return Object.keys(n).map(function(a){return encodeURIComponent(a)+(n[a]?"="+encodeURIComponent(n[a].toString()):"")}).join("&")}}else if(Mj(r))if(fr.isObject(t)){var i=new FormData,o=t;return Object.keys(o).forEach(function(a){return i.append(a,o[a])}),i}else fr.assert(!1,"contentType multipart/form-data must include an object as sendData");return t},e.prototype.setUrl=function(t){this._url=t},e.prototype.setHeader=function(t,r){this._options.augmentHeaders||(this._options.augmentHeaders={}),r?this._options.augmentHeaders[t]=r:delete this._options.augmentHeaders[t]},e.prototype.getRequestHeaders=function(){var t={};return this._getHeaders&&!this._options.overrideGetHeaders&&!this._options.headers&&(t=Qn(Qn({},t),this._getHeaders())),this._options.overrideGetHeaders&&(t=Qn(Qn({},t),this._options.overrideGetHeaders)),this._options.headers&&(t=Qn(Qn({},t),this._options.headers)),this._options.augmentHeaders&&(t=Qn(Qn({},t),this._options.augmentHeaders)),t},e.prototype.getOptions=function(){return fr.clone(this._options)},e.prototype.setPriority=function(t){this._options.priority!==t&&(this._options.priority=t,!this._paused&&(this._xhr||(fr.remove(Ya,this),this._enqueue())))},e.prototype.resumeRetrying=function(){if(!this._paused){fr.assert(!1,"resumeRetrying() called but not paused!");return}this._paused=!1,this._enqueue()},e.prototype._enqueue=function(){var t=this;if(!this._aborted&&!(Wa.indexOf(this)>=0||Tb.indexOf(this)>=0||Ya.indexOf(this)>=0)){var r=Ya.findIndex(function(n){return n.getPriority()===t.getPriority()&&n._created>t._created||n.getPriority()<t.getPriority()});r>-1?Ya.splice(r,0,this):Ya.push(this),e.checkQueueProcessing()}},e._getResponseType=function(t){return t==="blob"?"arraybuffer":t==="text/xml"||t==="application/xml"?"document":t==="text/plain"?"text":"json"},e._hungRequestCleanupTimerCallback=function(){cc=void 0,Wa.filter(function(t){return t._xhr&&t._xhr.readyState===4?(console.warn("SimpleWebRequests found a completed XHR that hasn't invoked it's callback functions, manually responding"),!0):!1}).forEach(function(t){t._respond()}),fc._scheduleHungRequestCleanupIfNeeded()},e}();Ke.SimpleWebRequestBase=Ib;var fc=function(e){Lj(t,e);function t(r,n,i,o,a){return e.call(this,r,n,i,o,a)||this}return t.prototype.abort=function(){if(this._aborted){fr.assert(!1,"Already aborted "+this._action+" request to "+this._url);return}if(this._aborted=!0,this._retryTimer&&(Ke.SimpleWebRequestOptions.clearTimeout(this._retryTimer),this._retryTimer=void 0),this._requestTimeoutTimer&&(Ke.SimpleWebRequestOptions.clearTimeout(this._requestTimeoutTimer),this._requestTimeoutTimer=void 0),!this._deferred){fr.assert(!1,"Haven't even fired start() yet -- can't abort");return}this._respond("Aborted"),this._xhr&&this._xhr.abort()},t.prototype.start=function(){var r=this;return this._deferred?(fr.assert(!1,"WebRequest already started"),bb.Rejected("WebRequest already started")):(this._deferred=bb.Defer(),this._deferred.onCancel(function(){r.abort()}),this._enqueue(),this._deferred.promise())},t.prototype._respond=function(r){var n=this;if(!this._finishHandled){this._finishHandled=!0,this._removeFromQueue(),this._retryTimer&&(Ke.SimpleWebRequestOptions.clearTimeout(this._retryTimer),this._retryTimer=void 0),this._requestTimeoutTimer&&(Ke.SimpleWebRequestOptions.clearTimeout(this._requestTimeoutTimer),this._requestTimeoutTimer=void 0);var i=0,o;if(this._xhr)try{i=this._xhr.status,o=this._xhr.statusText||r}catch(h){}else o=r||"Browser Error - Possible CORS or Connectivity Issue";var a={},s,u;if(this._xhr){var l=(this._xhr.getAllResponseHeaders()||"").split(/\r?\n/);if(l.forEach(function(h){if(h.length!==0){var g=h.indexOf(":");g===-1?a[h]="":a[h.substr(0,g).toLowerCase()]=h.substr(g+1).trim()}}),!a["content-type"]){var c=this._xhr.getResponseHeader("content-type");c&&(a["content-type"]=c)}if(s=this._xhr.response,a["content-type"]&&XU(a["content-type"])&&(!s||!fr.isObject(s))&&(this._xhr.responseType==="text"||this._xhr.responseType==="")&&this._xhr.responseText)try{s=JSON.parse(this._xhr.responseText)}catch(h){u=h,console.warn("Failed to parse XHR JSON response")}}if(this._xhr&&this._xhr.readyState===4&&(i>=200&&i<300||i===304)){var f={url:this._xhr.responseURL||this._url,method:this._action,requestOptions:this._options,requestHeaders:this._xhrRequestHeaders||{},statusCode:i,statusText:o,headers:a,body:s,responseParsingException:u};this._deferred.resolve(f)}else{var d={url:(this._xhr?this._xhr.responseURL:void 0)||this._url,method:this._action,requestOptions:this._options,requestHeaders:this._xhrRequestHeaders||{},statusCode:i,statusText:o,headers:a,body:s,canceled:this._aborted,timedOut:this._timedOut,responseParsingException:u};this._options.augmentErrorResponse&&this._options.augmentErrorResponse(d);var p=this._options.customErrorHandler?this._options.customErrorHandler(this,d):$U(this,d),v=p!==ao.DoNotRetry&&(this._options.retries&&this._options.retries>0||p===ao.PauseUntilResumed||p===ao.RetryUncountedImmediately||p===ao.RetryUncountedWithBackoff);v?(p===ao.RetryCountedWithBackoff&&this._options.retries--,this._requestTimeoutTimer&&(Ke.SimpleWebRequestOptions.clearTimeout(this._requestTimeoutTimer),this._requestTimeoutTimer=void 0),this._aborted=!1,this._timedOut=!1,this._finishHandled=!1,this._xhr&&(this._xhr.onabort=null,this._xhr.onerror=null,this._xhr.onload=null,this._xhr.onprogress=null,this._xhr.onreadystatechange=null,this._xhr.ontimeout=null,this._xhr=void 0,this._xhrRequestHeaders=void 0),p===ao.PauseUntilResumed?this._paused=!0:p===ao.RetryUncountedImmediately?this._enqueue():this._retryTimer=Ke.SimpleWebRequestOptions.setTimeout(function(){n._retryTimer=void 0,n._enqueue()},this._retryExponentialTime.getTimeAndCalculateNext())):this._deferred.reject(d)}Ib.checkQueueProcessing()}},t}(Ib);Ke.SimpleWebRequest=fc});var ZU=k(vp=>{"use strict";var iy=vp&&vp.__assign||function(){return iy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iy.apply(this,arguments)};Object.defineProperty(vp,"__esModule",{value:!0});var Bj=ry(),Gj=Ab(),Vj=function(){function e(t){this._defaultOptions={excludeEndpointUrl:!1,withCredentials:!1,retries:0},this._endpointUrl=t}return e.prototype._performApiCall=function(t,r,n,i){var o=this;i===void 0&&(i={});var a=iy(iy({},this._defaultOptions),i);n&&(a.sendData=n),a.eTag&&(a.augmentHeaders||(a.augmentHeaders={}),a.augmentHeaders["If-None-Match"]=a.eTag),a.contentType||(a.contentType=Bj.isString(a.sendData)?"form":"json");var s=a.excludeEndpointUrl?t:this._endpointUrl+t;return new Gj.SimpleWebRequest(r,s,a,function(){return o._getHeaders(a)},function(){return o._blockRequestUntil(a)}).start().then(function(u){return o._processSuccessResponse(u),u})},e.prototype._getHeaders=function(t){return{}},e.prototype._blockRequestUntil=function(t){},e.prototype._processSuccessResponse=function(t){},e.prototype.performApiGet=function(t,r){return this.performApiGetDetailed(t,r).then(function(n){return n.body})},e.prototype.performApiGetDetailed=function(t,r){return this._performApiCall(t,"GET",void 0,r)},e.prototype.performApiPost=function(t,r,n){return this.performApiPostDetailed(t,r,n).then(function(i){return i.body})},e.prototype.performApiPostDetailed=function(t,r,n){return this._performApiCall(t,"POST",r,n)},e.prototype.performApiPatch=function(t,r,n){return this.performApiPatchDetailed(t,r,n).then(function(i){return i.body})},e.prototype.performApiPatchDetailed=function(t,r,n){return this._performApiCall(t,"PATCH",r,n)},e.prototype.performApiPut=function(t,r,n){return this.performApiPutDetailed(t,r,n).then(function(i){return i.body})},e.prototype.performApiPutDetailed=function(t,r,n){return this._performApiCall(t,"PUT",r,n)},e.prototype.performApiDelete=function(t,r,n){return this.performApiDeleteDetailed(t,r,n).then(function(i){return i.body})},e.prototype.performApiDeleteDetailed=function(t,r,n){return this._performApiCall(t,"DELETE",r,n)},e}();vp.GenericRestClient=Vj});var ek=k(oy=>{"use strict";function wb(e){for(var t in e)oy.hasOwnProperty(t)||(oy[t]=e[t])}Object.defineProperty(oy,"__esModule",{value:!0});wb(Eb());wb(ZU());wb(Ab())});var rk=k((mse,tk)=>{tk.exports=ek()});var nk=k(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});var Hj=function(){function e(){}return e.prototype.getAttributes=function(){var t={Source:"ecs_client"};return t},e}();Nb.TelemetryEventBase=Hj});var ik=k(hp=>{"use strict";var zj=hp&&hp.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(hp,"__esModule",{value:!0});var jj=nk(),qj=function(e){zj(t,e);function t(r,n,i,o,a,s,u,l,c,f,d,p,v,h,g,m,y){var S=e.call(this)||this;return S._responseTime=r,S._responseCode=n,S._fetchAttempts=i,S._hasValidToken=o,S._serverEndpoint=a,S._fetchDurationValid=s,S._cacheAvailable=u,S._responseSize=l,S._configAge=c,S._configExpired=f,S._fetchStart=d,S._fetchEnd=p,S._isUserConfig=v,S._etag=h,S._timedOut=g,S._responseParsingException=m,S._errorMessage=y,S}return t.prototype.getEventName=function(){return"ecs_tsclient_fetch_config"},t.prototype.getAttributes=function(){var r=e.prototype.getAttributes.call(this);return r.fetch_delay_ms=this._responseTime,r.fetch_response_code=this._responseCode,r.fetch_attempts=this._fetchAttempts,r.authenticated_user=this._hasValidToken,r.url=this._serverEndpoint,r.fetch_duration_valid=this._fetchDurationValid,r.cache_available=this._cacheAvailable,r.response_size=this._responseSize,r.config_age=this._configAge,r.config_expired=this._configExpired,r.fetch_start=this._fetchStart,r.fetch_end=this._fetchEnd,r.is_user_config=this._isUserConfig,this._etag&&(r.fetched_etag=this._etag),this._timedOut!==void 0&&(r.fetch_timed_out=this._timedOut),this._responseParsingException&&(r.fetch_response_parsing_error=this._responseParsingException.message),this._errorMessage&&(r.fetch_error_message=this._errorMessage),r},t}(jj.TelemetryEventBase);hp.EcsConfigFetchResponse=qj});var uk=k(cu=>{"use strict";var Yj=cu&&cu.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ob=cu&&cu.__assign||function(){return Ob=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ob.apply(this,arguments)};Object.defineProperty(cu,"__esModule",{value:!0});var sk=rk(),yp=Qo(),ay=gp(),ok=ik(),Wj=48*60*60*1e3,Kj=30*60*1e3,Qj=365*24*60*60*1e3,ak=30*1e3,sy,Sp,Jj=function(e){Yj(t,e);function t(r,n,i,o,a,s,u,l){var c=e.call(this,r)||this;c._config=n,c._skypeTokenData=i,c._appActiveData=o,c._allowBackgroundFetchData=a,c._etag=s,c._getUserConfig=u;var f=c._config.getConfig();if(c._apiPath=f.clientTeam?"/config/v1/"+f.clientName+"/"+f.clientVersion+"/"+f.clientTeam:"/config/v1/"+f.clientName+"/"+f.clientVersion,l){var d=Object.keys(l).map(function(p){return encodeURIComponent(p)+"="+encodeURIComponent(l[p].toString())});d&&(c._apiPath+="?"+d.join("&"))}return c}return t.prototype._blockRequestUntil=function(r){var n=this;if(this._getUserConfig&&!this._skypeTokenData.isSkypeTokenValid()&&console.log("ECS - Delaying User config fetch until we have a valid SkypeToken"),!this._appActiveData.isAppActive()&&!this._allowBackgroundFetchData.isBackgroundFetchAllowed()){var i=this._getUserConfig?"User config":"config";console.log("ECS - Delaying "+i+" fetch until the app is active (or background fetch is allowed)")}return yp.race([this._appActiveData.waitForAppActive(),this._allowBackgroundFetchData.waitForBackgroundFetchAllowed()]).then(function(){if(n._getUserConfig)return n._skypeTokenData.waitForValidSkypeToken()}).then(function(){Sp=Date.now()})},t.prototype._getHeaders=function(){var r={};return this._etag&&(r["If-None-Match"]=this._etag),this._getUserConfig&&(r.Authorization=this._skypeTokenData.getSkypeToken()),r},t.prototype.getConfig=function(){var r=this._config.getConfig().fetchTimeout;return r!==void 0&&(r<0?r=0:r>0&&r<ak&&(r=ak)),e.prototype.performApiGetDetailed.call(this,this._apiPath,{timeout:r})},t}(sk.GenericRestClient),Xj=function(){function e(t,r,n,i,o){this._config=t,this._skypeTokenData=r,this._appActiveData=n,this._allowBackgroundFetchData=i,this._telemetryManager=o,this._ecsFailureBackoffTimer=new sk.ExponentialTime(1e3,3e5),this._cacheMaxAgeRegex=/.*max-age=(\d+).*/ig,this._serverIndex=NaN}return e.prototype.getConfig=function(t,r,n){var i=this,o=this._config.getConfig().hosts;if((isNaN(this._serverIndex)||this._serverIndex>o.length-1)&&(this._serverIndex=Math.floor(Math.random()*o.length)),!o||!o.length)return yp.Rejected(new Error("no configuration service endpoint"));var a=yp.Defer(),s=0,u=function(){var l=t&&t.eTag?t.eTag:void 0,c=new Jj(o[i._serverIndex],i._config,i._skypeTokenData,i._appActiveData,i._allowBackgroundFetchData,l,r,n);s++,c.getConfig().then(function(f){var d=f.headers.etag,p=f.headers.expires;f.body&&f.body.Headers&&(d||(d=f.body.Headers.ETag),p||(p=f.body.Headers.Expires));var v=i._calculateResponseTimeInfo(t);if(!d||!p)return console.warn("ECS - Service returned an empty ETag or Expiration header: "+JSON.stringify(f)),yp.Rejected({timedOut:!1,responseParsingException:new Error("ECS Service returned empty ETag or Expiration header"),responseCode:f.statusCode});var h=new Date(i._calculateExpirationDate(f.headers)).getTime(),g;if(f.statusCode===304&&t)g=Ob({},t),g.configType=r?ay.EcsConfigType.User:ay.EcsConfigType.Default,g.eTag=d,g.expiration=h,g.cacheUpdateTime=v.lastResponseTime,g.lastFetchTokenHash=i._skypeTokenData.getSkypeTokenHash(f.requestHeaders.Authorization);else{if(typeof f.body!="object")return console.warn("ECS - Service returned invalid response "+JSON.stringify(f)),yp.Rejected({timedOut:!1,responseParsingException:new Error("ECS Service returned invalid response body"),responseCode:f.statusCode});g={config:f.body,configType:r?ay.EcsConfigType.User:ay.EcsConfigType.Default,eTag:d,expiration:h,cacheUpdateTime:Sp,lastFetchTokenHash:i._skypeTokenData.getSkypeTokenHash(f.requestHeaders.Authorization),appVersion:i._config.getConfig().clientVersion}}i._telemetryManager.sendTelemetryEvent(new ok.EcsConfigFetchResponse(v.fetchDelayMs,f.statusCode,s,i._skypeTokenData.isSkypeTokenValid(),o[i._serverIndex],v.fetchDurationValid,!!l,JSON.stringify(f).length,v.cacheAge,!(t&&t.expiration-Date.now()>0),Sp,v.lastResponseTime,r,d)),i._ecsFailureBackoffTimer.reset(),a.resolve(g)}).catch(function(f){var d={timedOut:f&&f.timedOut||!1,responseParseError:f&&f.responseParsingException,responseCode:f&&f.statusCode||0,message:i._getErrorMessage(f)};console.error("ECS - Service request failed to return a response (timedOut: "+d.timedOut+", responseParseError: "+d.responseParseError+")");var p=i._calculateResponseTimeInfo(t);i._telemetryManager.sendTelemetryEvent(new ok.EcsConfigFetchResponse(p.fetchDelayMs,d.responseCode,s,i._skypeTokenData.isSkypeTokenValid(),o[i._serverIndex],p.fetchDurationValid,!!l,0,p.cacheAge,!(t&&t.expiration-Date.now()>0),Sp,p.lastResponseTime,r,void 0,d.timedOut,d.responseParseError,d.message));var v=i._config.getConfig().fetchAttemptMax;v&&s>v||setTimeout(function(){u()},i._ecsFailureBackoffTimer.getTimeAndCalculateNext())})};return u(),a.promise()},e.prototype._calculateExpirationDate=function(t){var r=Date.now()+Wj;if(t.date&&t.expires){var n=new Date(t.date).getTime(),i=Date.now()-n,o=new Date(t.expires).getTime();return isNaN(o)?r:Math.min(r,o+i)}var a=this._cacheMaxAgeRegex.exec(t["cache-control"]);return this._cacheMaxAgeRegex.lastIndex=0,a&&a.length===2?Math.min(r,Date.now()+Number(a[1])*1e3):Date.now()+Kj},e.prototype._calculateResponseTimeInfo=function(t){sy=Date.now();var r=sy-Sp;return{lastResponseTime:sy,fetchDelayMs:r,fetchDurationValid:!(r<0||r>Qj),cacheAge:t?sy-t.cacheUpdateTime:0}},e.prototype._getErrorMessage=function(t){if(t){if(typeof t=="string")return t;if(typeof t=="object"&&(t.statusText||t.message))return t.statusText||t.message}},e}();cu.default=Xj});var lk=k(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});var Db=gp(),$j=uk(),Zj=function(){function e(t,r,n,i,o,a){var s=this;this._config=t,this._skypeTokenData=r,this._cache=n,this._isFetchingSettings={},this._pendingFetch={},this._pendingTimers={},this._subscriptionToken=null,this._paused=!1,this._fetchEcsSettingsIfNeeded=function(u){var l,c=s._config.getConfig(),f=s._cache.getEcsConfigByType(u);if(c.configsToFetch.indexOf(u)!==-1&&!s._isFetchingSettings[u]){if(!f&&s._pendingFetch[u]){s._fetchSkypeEcsSettings(u);return}var d=f?f.expiration-Date.now():-1;if(d<=0){s._fetchSkypeEcsSettings(u);return}if(f&&u===Db.EcsConfigType.User&&s._skypeTokenData.isSkypeTokenValid()&&f.lastFetchTokenHash!==s._skypeTokenData.getSkypeTokenHash(s._skypeTokenData.getSkypeToken())){s._fetchSkypeEcsSettings(u);return}!((l=c.Killswitches)===null||l===void 0)&&l.isSkypeTokenDataLeakFixEnabled?(s._pendingTimers[u]>0&&clearTimeout(s._pendingTimers[u]),s._pendingTimers[u]=window.setTimeout(function(){return s._fetchEcsSettingsIfNeeded(u)},d)):window.setTimeout(function(){return s._fetchEcsSettingsIfNeeded(u)},d)}},this._fetchSkypeEcsSettings=function(u,l){if(l===void 0&&(l=!1),s._isFetchingSettings[u]||s._paused&&!l){s._pendingFetch[u]=!0;return}s._pendingFetch[u]=!1,s._isFetchingSettings[u]=!0;var c=s._config.getConfig();c.getEcsParameters().catch(function(){return console.warn("ECS - Failed to fetch ECS fetching parameters"),{}}).then(function(f){return s._ecsClient.getConfig(s._cache.getEcsConfig(),u===Db.EcsConfigType.User,f)}).then(function(f){console.log("ECS - Config fetch complete"),s._isFetchingSettings[u]=!1,s._cache.putConfig(f),s._fetchEcsSettingsIfNeeded(u)})},this._ecsClient=new $j.default(this._config,this._skypeTokenData,i,o,a)}return e.prototype.initialize=function(){var t=this;this.updateConfigsToFetch(),this._subscriptionToken=this._skypeTokenData.skypeTokenChanged.subscribe(function(){return t._fetchEcsSettingsIfNeeded(Db.EcsConfigType.User)})},e.prototype.dispose=function(){var t,r,n=this._config.getConfig();if(!((t=n.Killswitches)===null||t===void 0)&&t.isSkypeTokenDataLeakFixEnabled){for(var i=0,o=n.configsToFetch;i<o.length;i++){var a=o[i];clearTimeout(this._pendingTimers[a]),this._pendingTimers[a]=0}(r=this._subscriptionToken)===null||r===void 0||r.unsubscribe(),this._subscriptionToken=null,this._skypeTokenData.skypeTokenChanged.dispose()}},e.prototype.updateConfigsToFetch=function(){for(var t=this._config.getConfig(),r=0,n=t.configsToFetch;r<n.length;r++){var i=n[r];i in this._isFetchingSettings||(this._isFetchingSettings[i]=!1),i in this._isFetchingSettings||(this._pendingFetch[i]=!1)}for(var o=0,a=t.configsToFetch;o<a.length;o++){var i=a[o],s=this._cache.getEcsConfigByType(i);!s||s.appVersion&&s.appVersion!==t.clientVersion?this._fetchSkypeEcsSettings(i,!0):this._fetchEcsSettingsIfNeeded(i)}},e.prototype.requestUpdate=function(){for(var t=this._config.getConfig(),r=0,n=t.configsToFetch;r<n.length;r++){var i=n[r];this._fetchSkypeEcsSettings(i)}},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1;for(var t=this._config.getConfig(),r=0,n=t.configsToFetch;r<n.length;r++){var i=n[r];this._fetchEcsSettingsIfNeeded(i)}},e}();Pb.default=Zj});var fk=k(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});var eq=pp(),ck=Qo(),tq=function(){function e(){this.skypeTokenChanged=new eq.default}return e.prototype.putSkypeTokenData=function(t){if(this._data=t,this.isSkypeTokenValid()&&this.skypeTokenChanged.fire(),this.isSkypeTokenValid()&&this._validSkypeTokenDeferral){var r=this._validSkypeTokenDeferral;this._validSkypeTokenDeferral=void 0,r.resolve(void 0)}},e.prototype.isSkypeTokenValid=function(){var t=this._data;return!!t&&!!t.skypeToken&&t.skypeTokenExpiration>Date.now()},e.prototype.getSkypeToken=function(){var t=this._data;if(!t||!t.skypeToken)throw new Error("No Skype Token provided");return t.skypeToken},e.prototype.getSkypeTokenHash=function(t){return t===void 0?0:t.split("").reduce(function(r,n){return(r*101+n.charCodeAt(0))%999727999},t.length)},e.prototype.waitForValidSkypeToken=function(){return this.isSkypeTokenValid()?ck.Resolved():(this._validSkypeTokenDeferral||(this._validSkypeTokenDeferral=ck.Defer()),this._validSkypeTokenDeferral.promise())},e}();Fb.default=tq});var dk=k(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});var rq=pp(),nq=function(){function e(t){this._cache=t,this.telemetryEventAdded=new rq.default}return e.prototype.sendTelemetryEvent=function(t){var r=t.getEventName(),n=t.getAttributes(),i=!1,o=this._cache.getEcsConfig();if(!o)console.warn("No previously cached ECS telemetry config exists - fallback to sending event"),i=!0;else if(e._containsEcsClientTelemetryConfig(o.config)){var a=o.config.ECSCONFIG;a&&a.ecsClientTelemetry&&(i=!!a.ecsClientTelemetry[r])}i&&this.telemetryEventAdded.fire(r,n)},e._containsEcsClientTelemetryConfig=function(t){return!!t&&!!t.ECSCONFIG&&!!t.ECSCONFIG.ecsClientTelemetry},e}();Rb.default=nq});var pk=k(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});var iq=jU(),oq=YU(),aq=KU(),sq=QU(),uq=gp();uy.Models=uq;var lq=lk(),cq=fk(),fq=dk(),dq=function(){function e(){this._allowBackgroundFetchData=new iq.default,this._appActiveData=new oq.default,this._config=new sq.default,this._cache=new aq.default(this._config),this._skypeTokenData=new cq.default,this._telemetryManager=new fq.default(this._cache),this._scheduler=new lq.default(this._config,this._skypeTokenData,this._cache,this._appActiveData,this._allowBackgroundFetchData,this._telemetryManager),this.telemetryEventAdded=this._telemetryManager.telemetryEventAdded,this.configUpdated=this._cache.configUpdated}return e.prototype.initialize=function(t){var r=this;return this._config.initialize(t),this._skypeTokenData.putSkypeTokenData(t.initialSkypeTokenData),this._appActiveData.putAppActive(t.initialAppActiveState),this._cache.initialize().then(function(){r._scheduler.initialize()})},e.prototype.dispose=function(){var t,r=this._config.getConfig();!((t=r.Killswitches)===null||t===void 0)&&t.isSkypeTokenDataLeakFixEnabled&&this._scheduler.dispose()},e.prototype.getConfig=function(){return this._cache.getEcsConfig()},e.prototype.getConfigType=function(){var t=this._cache.getEcsConfig();if(t)return t.configType},e.prototype.requestUpdate=function(){this._scheduler.requestUpdate()},e.prototype.pause=function(){this._scheduler.pause()},e.prototype.resume=function(){this._scheduler.resume()},e.prototype.setAllowBackgroundFetch=function(t){this._allowBackgroundFetchData.putBackgroundFetchAllowed(t)},e.prototype.useSkypeToken=function(t,r){this._skypeTokenData.putSkypeTokenData({skypeToken:t,skypeTokenExpiration:r})},e.prototype.setAppActive=function(t){this._appActiveData.putAppActive(t)},e.prototype.setConfigsToFetch=function(t){var r=this;return this._config.setConfigsToFetch(t),this._cache.updateConfigsToFetch().then(function(){r._scheduler.updateConfigsToFetch()})},e.prototype.setFetchTimeout=function(t){this._config.setFetchTimeout(t)},e}();uy.default=dq});var je=k(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.findHighestPriorityDefinition=ae.safeParseObject=ae.isValidUserId=ae.fyShuffle=ae.dateToShortUtcString=ae.isUtcDatetimeString=ae.overrideValues=ae.stringToDate=ae.makeArrayFromObjectValuesSortedByKeyString=ae.guid=ae.extractLanguageSubtag=ae.isValidLanguageSubTag=ae.subtractSecondsWithoutOverflow=ae.addSecondsWithoutOverflow=ae.MIN_DATE_MILLISECONDS=ae.MAX_DATE_MILLISECONDS=ae.getDistantFuture=ae.getDistantPast=ae.isBoolean=ae.isString=ae.isArray=ae.isFunction=ae.isObject=ae.isNOU=ae.isNumber=ae.isEnumValue=ae.isDate=ae.timeAdd=void 0;function Cq(e,t,r){switch(t.toLowerCase()){case"h":case"hour":return new Date(e.getTime()+r*36e5);case"m":case"minute":return new Date(e.getTime()+r*6e4);case"s":case"second":return new Date(e.getTime()+r*1e3);default:throw new Error("Invalid interval value of "+t)}}ae.timeAdd=Cq;function Bb(e){return Object.prototype.toString.call(e)==="[object Date]"&&!isNaN(e.getTime())}ae.isDate=Bb;function Eq(e,t){return e in t}ae.isEnumValue=Eq;function Tq(e){return e!==null&&!isNaN(e)&&isFinite(e)}ae.isNumber=Tq;function Gb(e){return e==null}ae.isNOU=Gb;function bq(e){return e!=null&&typeof e=="object"}ae.isObject=bq;function Iq(e){return e!=null&&typeof e=="function"}ae.isFunction=Iq;function xq(e){return e!=null&&Array.isArray(e)}ae.isArray=xq;function py(e){return typeof e=="string"}ae.isString=py;function Aq(e){return typeof e=="boolean"}ae.isBoolean=Aq;function wq(){return new Date(-116444736e5)}ae.getDistantPast=wq;function Nq(){return new Date(640922112e5)}ae.getDistantFuture=Nq;ae.MAX_DATE_MILLISECONDS=864e13;ae.MIN_DATE_MILLISECONDS=-864e13;function Oq(e,t){if(!e)return null;if(t<0)return Ek(e,-1*t);var r=e.getTime()+t*1e3;return r<ae.MAX_DATE_MILLISECONDS?new Date(r):new Date(ae.MAX_DATE_MILLISECONDS)}ae.addSecondsWithoutOverflow=Oq;function Ek(e,t){if(!e)return null;if(t<0)return t=-t,this.addSecondsWithoutOverflow(e,t);var r=e.getTime()-t*1e3;return r>ae.MIN_DATE_MILLISECONDS?new Date(r):new Date(ae.MIN_DATE_MILLISECONDS)}ae.subtractSecondsWithoutOverflow=Ek;var Dq="^((?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})|(?:[a-zA-Z]{4,8}))(?:-([a-zA-Z]{4}))?(?:-([a-zA-Z]{2}|[0-9]{3}))?(-.*)?$";function Pq(e){if(!e)return!1;var t=Tk(e);return t?t===e:!1}ae.isValidLanguageSubTag=Pq;function Tk(e){if(!e)return null;var t=e.match(Dq);return!t||t.length<1||!Gb(t[4])?null:t[0]}ae.extractLanguageSubtag=Tk;function Fq(){return(Ka()+Ka()+"-"+Ka()+"-4"+Ka().substr(0,3)+"-"+Ka()+"-"+Ka()+Ka()+Ka()).toLowerCase()}ae.guid=Fq;function Ka(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function Rq(e){var t=Object.keys(e);t.sort();var r=[];for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];r.push(e[i])}return r}ae.makeArrayFromObjectValuesSortedByKeyString=Rq;function Lq(e){if(!py(e))return null;var t=e?new Date(e):null;return Bb(t)?t:null}ae.stringToDate=Lq;function Uq(e,t){if(!t)return t;var r=t;if(e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}ae.overrideValues=Uq;function kq(e){if(!py(e))return!1;var t=/^(\d{4}\-\d\d\-\d\dT\d\d:\d\d:\d\d(\.\d\d\d)?Z)$/;return t.test(e)}ae.isUtcDatetimeString=kq;function Mq(e){if(!Bb(e))return null;function t(r){return r<10?"0"+r:r.toString()}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"}ae.dateToShortUtcString=Mq;function Bq(e){if(!Gb(e)){if(e.length===0||e.length===1)return e;for(var t=e.length-1;t>0;){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n,t--}return e}}ae.fyShuffle=Bq;function Gq(e){if(!py(e))return!1;var t=/^([a-z]{1,2}):\w+/;return t.test(e)}ae.isValidUserId=Gq;function Vq(e,t){try{var r=e&&(e[0]==="{"||e[0]==="[")?JSON.parse(e):void 0;return r!=null?r:t}catch(n){}return t}ae.safeParseObject=Vq;function Hq(e){var t=!1,r=e.reduce(function(n,i){var o=i.primaryPriority||0,a=n.primaryPriority||0;return o!==a&&(t=!0),o<a?i:n});return[r,t]}ae.findHighestPriorityDefinition=Hq});var ln=k(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});gy.TelemetryEvent=void 0;var zq=function(){function e(){}var t,r,n,i,o,a,s,u,l,c,f,d,p,v,h,g,m,y,S,E,D,P,x,q,G,se,ue,Se,Te,fe,le,$e,ir,Et,Yt,et,Ae,V,K,te,$,ge,ke,We,tt,ct,ft,Wt,Pt;return e.CampaignState=(t=function(){function M(){}return M}(),t.Deserialize=(r=function(){function M(){}return M}(),r.Failed="FloodgateCore_CampaignState_Deserialize_Failed",r),t),e.FileBasedCampaignStateProvider=(n=function(){function M(){}return M}(),n.Load=(i=function(){function M(){}return M}(),i.Failed="FloodgateCore_FileBasedCampaignStateProvider_Load_Failed",i),n),e.HostBasedCampaignStateProvider=(o=function(){function M(){}return M}(),o.GetStatesFromHost=(a=function(){function M(){}return M}(),a.Failed="FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed",a),o),e.Floodgate=(s=function(){function M(){}return M}(),s.Initialize=(u=function(){function M(){}return M}(),u.Failed="FloodgateCore_Floodgate_Initialize_Failed",u),s.Start=(l=function(){function M(){}return M}(),l.Failed="FloodgateCore_Floodgate_Start_Failed",l.Warning="FloodgateCore_Floodgate_Start_Warning",l.SurveysDisabled="FloodgateCore_Floodgate_Start_SurveysDisabled",l.MessagingDisabled="FloodgateCore_Floodgate_Start_MessagingDisabled",l.DynamicCampaignEnabled="FloodgateCore_Floodgate_Start_DynamicCampaignEnabled",l.DynamicCampaignClientUndefined="FloodgateCore_Floodgate_Start_DynamicCampaignClientUndefined",l),s.UserFactsLoad=(c=function(){function M(){}return M}(),c.Failed="FloodgateCore_Floodgate_UserFactsLoad_Failed",c),s.UserFactsSpecDeserialization=(f=function(){function M(){}return M}(),f.Failed="FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed",f),s.UserFactsSpecIsAMatch=(d=function(){function M(){}return M}(),d.Failed="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed",d.Mismatch="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Mismatch",d.Summary="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Summary",d),s.RenderSurvey=(p=function(){function M(){}return M}(),p.Unsupported="FloodgateCore_Floodgate_RenderSurvey_Unsupported",p),s),e.FloodgateEngine=(v=function(){function M(){}return M}(),v.Make=(h=function(){function M(){}return M}(),h.Failed="FloodgateCore_FloodgateEngine_Make_Failed",h),v.Common=(g=function(){function M(){}return M}(),g.Error="FloodgateCore_FloodgateEngine_Common_Error",g.ActiveSurveys="FloodgateCore_FloodgateEngine_Common_ActiveSurveys",g),v.Start=(m=function(){function M(){}return M}(),m.Failed="FloodgateCore_FloodgateEngine_Start_Failed",m),v.StartAsync=(y=function(){function M(){}return M}(),y.Failed="FloodgateCore_FloodgateEngine_StartAsync_Failed",y.Stopped="FloodgateCore_FloodgateEngine_StartAsync_Stopped",y),v.InitialLoadedDefinitions="FloodgateCore_FloodgateEngine_InitialLoadedDefinitions",v.CampaignTypeDisabledDefinitions="FloodgateCore_FloodgateEngine_CampaignTypeDisabledDefinitions",v.CampaignInitialTriggerMet="FloodgateCore_FloodgateEngine_CampaignInitialTriggerMet",v.GetActiveSurveys="FloodgateCore_FloodgateEngine_GetActiveSurveys",v.OnSurveyActivated=(S=function(){function M(){}return M}(),S.ActivationStatsSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey",S.ClosedChannelType="FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType",S.SurveyNotDefined="FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined",S.SessionSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_SessionSuppressedSurvey",S.ActivationExpiredSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationExpiredSurvey",S.ActivationIrrelevantSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationIrrelevantSurvey",S.Error="FloodgateCore_FloodgateEngine_OnSurveyActivated_Error",S),v.CheckGovernanceServiceAndActivateSurvey=(E=function(){function M(){}return M}(),E.GovernanceServiceForceToDisplay="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceForceToDisplay",E.GovernanceServiceClientCompleted="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceClientCompleted",E.GovernanceServiceSurveyInCooldown="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceSurveyInCooldown",E),v.QueryTriggerMetApisAsync=(D=function(){function M(){}return M}(),D.Exception="FloodgateCore_FloodgateEngine_QueryTriggerMetApisAsync_Exception",D.QueryTriggerMetApisAsync="FloodgateCore_FloodgateEngine_QueryTriggerMetApisAsync",D.SurveyCdnFailureConcurrently="FloodgateCore_FloodgateEngine_QueryTriggerMetApisAsync_SurveyCdnFailureConcurrently",D.SurveyCdnFailureSequentially="FloodgateCore_FloodgateEngine_QueryTriggerMetApisAsync_SurveyCdnFailureSequentially",D),v),e.GovernedChannelState=(P=function(){function M(){}return M}(),P.Deserialize=(x=function(){function M(){}return M}(),x.Failed="FloodgateCore_GovernedChannelState_Deserialize_Failed",x),P),e.FileBasedGovernedChannelStateProvider=(q=function(){function M(){}return M}(),q.Load=(G=function(){function M(){}return M}(),G.Failed="FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed",G),q),e.HostBasedGovernedChannelStateProvider=(se=function(){function M(){}return M}(),se.GetStatesFromHost=(ue=function(){function M(){}return M}(),ue.Failed="FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed",ue),se),e.SurveyStatCollectionActivation=(Se=function(){function M(){}return M}(),Se.FromJson=(Te=function(){function M(){}return M}(),Te.Failed="FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed",Te),Se.ToJson=(fe=function(){function M(){}return M}(),fe.Failed="FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed",fe),Se),e.HostBasedSurveyActivationStatsProvider=(le=function(){function M(){}return M}(),le.GetSurveyStatsFromHost=($e=function(){function M(){}return M}(),$e.Failed="FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed",$e),le),e.SurveyStatCollectionEventActivity=(ir=function(){function M(){}return M}(),ir.FromJson=(Et=function(){function M(){}return M}(),Et.Failed="FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed",Et),ir.ToJson=(Yt=function(){function M(){}return M}(),Yt.Failed="FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed",Yt),ir),e.SurveyActivity=(et=function(){function M(){}return M}(),et.LogActivity=(Ae=function(){function M(){}return M}(),Ae.EventsReprocessed="FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed",Ae.SurveysReprocessed="FloodgateCore_SurveyActivity_LogActivity_SurveysReprocessed",Ae),et.SetActivityTrackingContracts=(V=function(){function M(){}return M}(),V.DuplicateSurveyID="FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID",V),et),e.DynamicCampaignDefinitionProvider=(K=function(){function M(){}return M}(),K.Load=(te=function(){function M(){}return M}(),te.EmptyEcsConfig="FloodgateCore_DynamicCampaignDefinitionProvider_Load_EmptyEcsConfig",te.InvalidEcsConfig="FloodgateCore_DynamicCampaignDefinitionProvider_Load_InvalidEcsConfig",te),K),e.CampaignDefinitionProvider=($=function(){function M(){}return M}(),$.CampaignSurveyTemplate=(ge=function(){function M(){}return M}(),ge.SchemaValidationError="FloodgateCore_CampaignDefinitionProvider_CampaignSurveyTemplate_validate",ge),$),e.CampaignGovernance=(ke=function(){function M(){}return M}(),ke.LogExperimentTrigger=(We=function(){function M(){}return M}(),We.Undefined="FloodgateCore_CampaignGovernance_LogExperimentTrigger_Undefined",We.Failed="FloodgateCore_CampaignGovernance_LogExperimentTrigger_Failed",We),ke.RetrieveTriggerEventDetail=(tt=function(){function M(){}return M}(),tt.Failed="FloodgateCore_CampaignGovernance_RetrieveTriggerEventDetail_Failed",tt),ke.NominationCheckCampaigns="FloodgateCore_CampaignGovernance_NominationCheckCampaigns",ke),e.HttpTransport=(ct=function(){function M(){}return M}(),ct.GET=(ft=function(){function M(){}return M}(),ft.Success="HttpTransport_Get_Success",ft.Error="HttpTransport_Get_Error",ft),ct),e.FloodgateSurveyCdnClient=(Wt=function(){function M(){}return M}(),Wt.loadCdnStringResource=(Pt=function(){function M(){}return M}(),Pt.Request_Failed="Floodgate_Survey_CDN_Request_Failed",Pt.Request_Success="Floodgate_Survey_CDN_Request_Success",Pt.Exception="Floodgate_Survey_CDN_Exception",Pt.Completed="Floodgate_Survey_CDN_Completed",Pt),Wt),e}();gy.TelemetryEvent=zq});var Jn=k(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});my.TelemetryLogger=void 0;var jq=function(){function e(){}return e.prototype.log_TriggerMet=function(t,r,n,i,o,a,s){},e.prototype.log_UserSelected=function(t,r,n,i,o){},e.prototype.log_CampaignLoad_Failed=function(t){},e.prototype.log_Error=function(t,r){},e.prototype.log_Event=function(t,r){},e.prototype.log_LocalError=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]},e}(),qq=function(){function e(){}return e.getTelemetryLogger=function(){return e.telemetryLogger},e.setTelemetryLogger=function(t){if(!t)throw new Error("TelemetryLogger must not be null");e.telemetryLogger=t},e.telemetryLogger=new jq,e}();my.TelemetryLogger=qq});var Ak=k(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});yy.UserFact=void 0;var cn=ln(),Vb=je(),fn=Jn(),fu=Vb.isNOU,xk=Vb.isNumber,bk=Vb.isArray,Ik=[0,1,2,3,4,5],Yq=function(){function e(t){this.input=t}return e.deserialize=function(t){return this.validate(t)?new e(t):null},e.validate=function(t){if(!t)return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Input is null or undefined for user fact"),!1;if(!t.Value&&t.Values&&(t.Value=t.Values),fu(t.Name)||fu(t.Type)||fu(t.Value))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Either of the required parameters Name: "+t.Name+", Type: "+t.Type+" or Value: "+t.Value+" are not provided for the user fact"),!1;if(!this.validateUserFactType(t.Type))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid UserFactType value "+t.Type+" is provided for user fact"),!1;if(t.Type===6)return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Unsupported UserFactType value "+t.Type+" is provided for user fact"),!1;if(t.LatencyType&&!this.validateLatencyType(t.LatencyType))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyType value "+t.LatencyType+" is provided for user fact of type "+t.Type),!1;if(t.LatencyType&&t.LatencyType!==0&&fu(t.LatencyDurationInSeconds))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"LatencyDurationInSeconds value "+t.LatencyDurationInSeconds+" is not provided for user fact of type "+t.Type),!1;if(t.LatencyDurationInSeconds&&!xk(t.LatencyDurationInSeconds))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyDurationInSeconds value "+t.LatencyDurationInSeconds+" is provided for user fact of type "+t.Type),!1;if(t.Type===1&&fu(t.IntervalType))return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Required parameter intervalType is not provided for user fact of type "+t.Type),!1;var r=this.getComparatorTypes(t.Type);return t.Comparator&&!eY(t.Comparator,r)?(fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported comparator type for user fact of type "+t.Type),!1):!0},e.getComparatorTypes=function(t){switch(t){case 0:return[0,1];case 4:return[0,1,6,7,8,9];case 5:return[6,7,8,9];case 1:case 2:case 3:case 6:return Ik;default:_p(t)}return Ik},e.validateLatencyType=function(t){return t===0||t===3||t===1||t===2?!0:_p(t)},e.validateUserFactType=function(t){return t===0||t===2||t===3||t===4||t===1||t===5||t===6?!0:_p(t)},e.prototype.isAMatch=function(t){if(!t||!t.userFactValue||!this.isLatencyAcceptable(t))return!1;try{var r=this.getType();return r===0?Kq(this.getValue(),t,this.getComparator()):r===2?Qq(this.getValue(),t,this.getComparator()):r===3?Jq(this.getValue(),t,this.getComparator()):r===4?Xq(this.getValue(),t,this.getComparator()):r===1?$q(this.getValue(),t,this.getComparator(),this.getIntervalType()):r===5?Zq(this.getValue(),t,this.getComparator()):(fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported type of user fact was provided "+r),!1)}catch(n){return fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,n),!1}},e.prototype.getType=function(){return this.input.Type},e.prototype.getName=function(){return this.input.Name},e.prototype.getValue=function(){return this.input.Value},e.prototype.getComparator=function(){return this.input.Comparator||0},e.prototype.getLatencyType=function(){return this.input.LatencyType||0},e.prototype.getLatencyDurationInSeconds=function(){return this.input.LatencyDurationInSeconds},e.prototype.getIntervalType=function(){return this.input.IntervalType},e.prototype.isLatencyAcceptable=function(t){var r=this.getType();return!fu(this.getLatencyDurationInSeconds())&&!Wq(this.getLatencyType(),this.getLatencyDurationInSeconds(),t)?(fn.TelemetryLogger.getTelemetryLogger().log_Event(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:'Latency duration not acceptable - { Name: "'+t.userFactName+'" }',TimeMilliseconds:this.getLatencyDurationInSeconds(),Type:""+r}),!1):!0},e}();yy.UserFact=Yq;function Wq(e,t,r){var n;switch(e){case 0:break;case 1:n=r.sourceDateTime;break;case 2:n=r.storageDateTime;break;case 3:n=r.clientIngestionDateTime;break;default:_p(e)}if(!fu(n)){var i=Date.parse(n),o=Date.now();return o-i<=t*1e3}return!0}function Kq(e,t,r){var n=JSON.parse(t.userFactValue.toLowerCase());return dc(!!e,!!n,r)}function Qq(e,t,r){var n=Date.parse(t.userFactValue);if(!hy(n,t.userFactValue,t.userFactName))return!1;var i=Date.parse(e);return hy(i,e,null,2)?dc(i,n,r):!1}function Jq(e,t,r){var n=parseInt(t.userFactValue,10);return hy(n,t.userFactValue,t.userFactName)?dc(e,n,r):!1}function Xq(e,t,r){return dc(e.toLowerCase(),t.userFactValue.toLowerCase(),r)}function $q(e,t,r,n){var i=Date.parse(t.userFactValue);if(!hy(i,t.userFactValue,t.userFactName))return!1;var o=Date.now(),a=n===0?o-i:i-o;if(a<0)return fn.TelemetryLogger.getTelemetryLogger().log_Event(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:"Interval type not acceptable - { Spec: "+e+', Name: "'+t.userFactName+'" }',TimeMilliseconds:a,Type:""+n}),!1;var s=1e3,u=e*s;return dc(u,a,r)}function Zq(e,t,r){return dc(e,t.userFactValue,r)}function eY(e,t){return t.indexOf(e)!==-1}function dc(e,t,r){switch(r){case 0:return t===e;case 1:return t!==e;case 2:return t>e;case 3:return t>=e;case 4:return t<e;case 5:return t<=e;case 6:return vy(e,t);case 7:return!vy(e,t);case 8:return vy(t,e);case 9:return!vy(t,e);default:_p(r)}}function _p(e){return!1}function vy(e,t){if(typeof t=="string"){var r=t.toLowerCase();if(typeof e=="string")return e.toLowerCase().indexOf(r)!==-1;if(bk(e)){var n=e;return n.some(function(i){return i&&i.toString().toLowerCase()===r})}}return bk(e)?e.indexOf(t)!==-1:!1}function hy(e,t,r,n){if(!xk(e)){var i="User fact "+r+" has invalid value "+t;return n&&(i="Invalid value "+t+" was provided for user fact of type "+n),fn.TelemetryLogger.getTelemetryLogger().log_Error(cn.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,i),!1}return!0}});var wk=k(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.validateUserFacts=pc.deserializeUserFacts=void 0;var tY=Ak();pc.deserializeUserFacts=function(e){var t=[];for(var r in e.UserFacts)if(Object.prototype.hasOwnProperty.call(e.UserFacts,r)){var n=e.UserFacts[r];n&&t.push(tY.UserFact.deserialize(n))}return t.length===0&&(t=null),t};pc.validateUserFacts=function(e){if(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!e[t])return!1}return!0}});var du=k(J=>{"use strict";var Zt=J&&J.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rY=J&&J.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(J,"__esModule",{value:!0});J.setDynamicUxSchemaVariables=J.DynamicCampaignDefinitionProvider=J.FileSystemCampaignDefinitionProvider=J.FilterValidCampaignDefinitions=J.CampaignDefinition=J.CampaignSurveyTemplateIntercept=J.CampaignSurveyTemplateDialog=J.CampaignSurveyTemplateGenericMessagingSurface=J.CampaignSurveyTemplateNps11PointStatic=J.CampaignSurveyTemplateNps5PointStatic=J.CampaignSurveyTemplateNps=J.CampaignSurveyTemplateNlqs=J.CampaignSurveyTemplateFps=J.CampaignSurveyTemplate=J.CampaignSurveyMetadata=J.CampaignSurveyContentComment=J.CampaignSurveyContentRating=J.CampaignSurveyContentIntercept=J.CampaignSurveyContentPrompt=J.CampaignSurveyContentCVSurvey=J.CampaignSurveyContentMultipleChoice=J.CampaignSurveyContent=J.CampaignSurveyEventCountedActivitySequence=J.CampaignSurveyEventCountedActivity=J.CampaignSurveyEvent=J.CampaignNominationSchemeRatioPercentage=J.CampaignNominationScheme=J.CampaignDistributionRamp=J.CampaignDistribution=J.CampaignAdditionalDataRequested=J.CampaignDurationSingleBuildChange=J.CampaignDurationTimeInterval=J.CampaignDuration=J.CampaignScopeUserFactAll=J.CampaignScopeUserFactAny=J.CampaignScopeEnvironmentCrossProduct=J.CampaignScopeAny=J.CampaignScope=J.CampaignLanguageRangeLanguageSubtag=J.CampaignLanguageRange=void 0;var Di=Ee(),Cp=ln(),Sy=wk(),zr=je(),Dn=Jn(),Nk=zr.getDistantFuture,Pk=zr.isBoolean,z=zr.isNOU,Vt=zr.isNumber,$t=zr.isString,Ok=zr.isUtcDatetimeString,Dk=zr.stringToDate,Hb={},zb=function(){function e(){}return e.deserialize=function(t){var r;return t&&t.Type===0&&(r=Fk.deserialize(t)),r===void 0?null:r},e.prototype.validate=function(){return!0},e}();J.CampaignLanguageRange=zb;var Fk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return r&&(n.languageSubTag=r.Value),n.validate()?n:null},t.prototype.isInRange=function(r){if(z(r))return!1;var n=zr.extractLanguageSubtag(r);return z(n)?!1:n.toLocaleUpperCase()===this.languageSubTag.toLocaleUpperCase()},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||z(this.languageSubTag)||!$t(this.languageSubTag)||!zr.isValidLanguageSubTag(this.languageSubTag))},t}(zb);J.CampaignLanguageRangeLanguageSubtag=Fk;var gc=function(){function e(){}return e.deserialize=function(t){var r;if(z(t))return null;switch(t.Type){case 0:r=jb.deserialize(t);break;case 1:r=Rk.deserialize(t);break;case 2:r=Lk.deserialize(t);break;case 3:r=Uk.deserialize(t);break}return r===void 0?null:r},e.prototype.validate=function(){return!0},e}();J.CampaignScope=gc;var jb=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){return new t},t.prototype.isInScope=function(){return!0},t.prototype.validate=function(){return!!e.prototype.validate.call(this)},t}(gc);J.CampaignScopeAny=jb;var Rk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t,i=[];if(z(r))return null;for(var o in r.Languages)if(Object.prototype.hasOwnProperty.call(r.Languages,o)){var a=r.Languages[o];a&&i.push(zb.deserialize(a))}return i.length===0&&(i=null),n.languageRanges=i,n.validate()?n:null},t.prototype.setEnvironmentProvider=function(r){this.environmentProvider=r},t.prototype.isInScope=function(){if(z(this.languageRanges))return!0;if(z(this.environmentProvider)||!this.environmentProvider.getLanguage())return!1;var r=this.environmentProvider.getLanguage();for(var n in this.languageRanges)if(Object.prototype.hasOwnProperty.call(this.languageRanges,n)){var i=this.languageRanges[n];if(i.isInRange(r))return!0}return!1},t.prototype.validate=function(){if(!e.prototype.validate.call(this))return!1;if(this.languageRanges){for(var r in this.languageRanges)if(Object.prototype.hasOwnProperty.call(this.languageRanges,r)&&!this.languageRanges[r])return!1}return!0},t}(gc);J.CampaignScopeEnvironmentCrossProduct=Rk;var Lk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return n.userFacts=Sy.deserializeUserFacts(r),n.validate()?n:null},t.prototype.setUserFactsProvider=function(r){this.userFactsProvider=r},t.prototype.isInScope=function(){var r=this;return z(this.userFacts)?!0:this.userFactsProvider?this.userFacts.some(function(n){var i=r.userFactsProvider.getUserFact(n.getName());return n.isAMatch(i)}):!1},t.prototype.validate=function(){return e.prototype.validate.call(this)?Sy.validateUserFacts(this.userFacts):!1},t}(gc);J.CampaignScopeUserFactAny=Lk;var Uk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return n.userFacts=Sy.deserializeUserFacts(r),n.validate()?n:null},t.prototype.setUserFactsProvider=function(r){this.userFactsProvider=r},t.prototype.isInScope=function(){var r=this;if(z(this.userFacts))return!0;if(!this.userFactsProvider)return!1;var n=this.userFacts.filter(function(o){var a=r.userFactsProvider.getUserFact(o.getName());return!o.isAMatch(a)});if(n.length>0){var i=n.map(function(o){return o.getName()});return Dn.TelemetryLogger.getTelemetryLogger().log_Event(Cp.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Summary,{Count:n.length,Message:i.toString()}),!1}return!0},t.prototype.validate=function(){return e.prototype.validate.call(this)?Sy.validateUserFacts(this.userFacts):!1},t}(gc);J.CampaignScopeUserFactAll=Uk;var Ep=function(){function e(){}return e.deserialize=function(t){var r;if(z(t))return null;switch(t.Type){case 0:r=kk.deserialize(t);break;case 1:r=Mk.deserialize(t);break}return r===void 0?null:r},e.prototype.validate=function(){return!0},e}();J.CampaignDuration=Ep;var kk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return r&&(n.intervalSeconds=r.IntervalSeconds),n.validate()?n:null},t.prototype.asTimeIntervalSeconds=function(){return this.intervalSeconds},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||!Vt(this.intervalSeconds))},t}(Ep);J.CampaignDurationTimeInterval=kk;var Mk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){return new t},t.prototype.asTimeIntervalSeconds=function(){return null},t}(Ep);J.CampaignDurationSingleBuildChange=Mk;var Bk=function(){function e(){}return e.deserialize=function(t){var r=new e;if(!z(t)){r.additionalData=[];for(var n=0,i=t;n<i.length;n++){var o=i[n];o==="EmailAddress"&&r.additionalData.push(0)}}return r.validate()?r:null},e.prototype.validate=function(){return!z(this.additionalData)},e}();J.CampaignAdditionalDataRequested=Bk;var qb=function(){function e(){}return e.deserialize=function(t){var r;return t&&t.Type===0&&(r=Gk.deserialize(t)),r===void 0?null:r},e.prototype.validate=function(){return!0},e}();J.CampaignDistribution=qb;var Gk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return r&&(n.maxDelaySeconds=r.MaxDelaySeconds,n.chunks=r.Chunks),n.validate()?n:null},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||!Vt(this.maxDelaySeconds)||this.maxDelaySeconds<0||!Vt(this.chunks)||this.chunks<0)},t}(qb);J.CampaignDistributionRamp=Gk;var Yb=function(){function e(){}return e.deserialize=function(t){var r;return t&&t.Type===0&&(r=Vk.deserialize(t)),r===void 0?null:r},e.prototype.getActiveSurveyTimeIntervalSeconds=function(){var t=this.nominationPeriod.asTimeIntervalSeconds();return Vt(t)?t:this.fallbackSurveyDurationSeconds},e.prototype.calculateSurveyStartTimeFromDate=function(t){return t||new Date},e.prototype.calculateSurveyExpirationTimeFromSurveyStartTime=function(t){return t=t||new Date,zr.addSecondsWithoutOverflow(t,this.getActiveSurveyTimeIntervalSeconds())},e.prototype.getCampaignCooldown=function(t){return t?this.cooldownPeriod:this.nominationPeriod},e.prototype.validate=function(){return!(z(this.nominationPeriod)||(z(this.cooldownPeriod)&&(this.cooldownPeriod=this.nominationPeriod),!Vt(this.nominationPeriod.asTimeIntervalSeconds())&&(!Vt(this.fallbackSurveyDurationSeconds)||this.fallbackSurveyDurationSeconds<=0)))},e}();J.CampaignNominationScheme=Yb;var Vk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return z(r)||(r.DistributionModel&&(n.distributionModel=qb.deserialize(r.DistributionModel)),r.CooldownPeriod&&(n.cooldownPeriod=Ep.deserialize(r.CooldownPeriod)),r.NominationPeriod&&(n.nominationPeriod=Ep.deserialize(r.NominationPeriod)),n.fallbackSurveyDurationSeconds=r.FallbackSurveyDurationSeconds,n.percentageDenominator=r.PercentageDenominator,n.percentageNumerator=r.PercentageNumerator,!n.validate())?null:n},t.prototype.evaluateNominationRules=function(){var r=Math.random();return Math.floor(r*this.percentageDenominator)<this.percentageNumerator},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||!Vt(this.percentageDenominator)||!Vt(this.percentageNumerator)||this.percentageDenominator<=0||this.percentageNumerator<0||this.percentageNumerator>this.percentageDenominator)},t}(Yb);J.CampaignNominationSchemeRatioPercentage=Vk;var Pi=function(){function e(){}return e.deserialize=function(t){var r;if(z(t))return null;switch(t.Type){case 0:r=Wb.deserialize(t);break;case 1:r=Hk.deserialize(t);break}return r===void 0?null:r},e.prototype.validate=function(){return!0},e}();J.CampaignSurveyEvent=Pi;var Wb=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;return z(r)||(n.activity=r.Activity,n.count=r.Count,n.isAggregate=r.IsAggregate,!n.validate())?null:n},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||z(this.activity)||!$t(this.activity)||!Vt(this.count)||this.count<=0||!Pk(this.isAggregate))},t}(Pi);J.CampaignSurveyEventCountedActivity=Wb;var Hk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t,i=[];if(z(r))return null;for(var o in r.Sequence)if(Object.prototype.hasOwnProperty.call(r.Sequence,o)){var a=r.Sequence[o];a&&i.push(Wb.deserialize(a))}return i.length===0&&(i=null),n.sequence=i,n.validate()?n:null},t.prototype.validate=function(){if(!e.prototype.validate.call(this)||z(this.sequence))return!1;for(var r in this.sequence)if(Object.prototype.hasOwnProperty.call(this.sequence,r)&&!this.sequence[r])return!1;return!0},t}(Pi);J.CampaignSurveyEventCountedActivitySequence=Hk;var Tp=function(){function e(){}return e.deserialize=function(t,r){var n=new e;return z(t)||(n.prompt=qk.deserialize(t.Prompt),n.rating=Wk.deserialize(t.Rating),n.comment=Kk.deserialize(t.Question),n.multipleChoice=zk.deserialize(t.MultipleChoice),n.intercept=Yk.deserialize(t.Intercept),n.cvSurvey=jk.deserialize(t.CVSurveyParams),!n.validate(r))?null:n},e.prototype.validate=function(t){return z(this.intercept)?z(this.prompt)?!1:t?!z(this.rating)||!z(this.multipleChoice)||!z(this.comment):!z(this.rating)&&!z(this.comment):!0},e}();J.CampaignSurveyContent=Tp;var zk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.question=t.Question,r.availableOptions=t.AvailableOptions,r.minNumberOfSelectedOptions=t.MinNumberOfSelectedOptions,r.maxNumberOfSelectedOptions=t.MaxNumberOfSelectedOptions,!r.validate())?null:r},e.prototype.validate=function(){if(z(this.question)||!$t(this.question)||z(this.availableOptions)||!Array.isArray(this.availableOptions)||this.availableOptions.length<2||z(this.minNumberOfSelectedOptions)||!Vt(this.minNumberOfSelectedOptions)||z(this.maxNumberOfSelectedOptions)||!Vt(this.maxNumberOfSelectedOptions))return!1;for(var t in this.availableOptions)if(Object.prototype.hasOwnProperty.call(this.availableOptions,t)&&!$t(this.availableOptions[t]))return!1;return!0},e}();J.CampaignSurveyContentMultipleChoice=zk;var jk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.customerVoiceFormId=t.CustomerVoiceFormId,!r.validate())?null:r},e.prototype.validate=function(){return!z(this.customerVoiceFormId)&&$t(this.customerVoiceFormId)},e}();J.CampaignSurveyContentCVSurvey=jk;var qk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.title=t.Title,r.question=t.Question,r.yesLabel=t.YesLabel,r.noLabel=t.NoLabel,!r.validate())?null:r},e.prototype.validate=function(){return!(z(this.title)||!$t(this.title)||z(this.question)||!$t(this.question)||z(this.yesLabel)||!$t(this.yesLabel)||z(this.noLabel)||!$t(this.noLabel))},e}();J.CampaignSurveyContentPrompt=qk;var Yk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.title=t.Title,r.question=t.Question,r.url=t.Url,!r.validate())?null:r},e.prototype.validate=function(){return!(z(this.title)||!$t(this.title)||z(this.question)||!$t(this.question)||z(this.url)||!$t(this.url))},e}();J.CampaignSurveyContentIntercept=Yk;var Wk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.isZeroBased=t.IsZeroBased,r.question=t.Question,r.ratingValuesAscending=t.RatingValuesAscending,!r.validate())?null:r},e.prototype.validate=function(){if(z(this.question)||!$t(this.question)||z(this.ratingValuesAscending)||!Array.isArray(this.ratingValuesAscending)||this.ratingValuesAscending.length<2||this.ratingValuesAscending.length>11)return!1;if(z(this.isZeroBased))this.isZeroBased=!1;else if(!Pk(this.isZeroBased))return!1;for(var t in this.ratingValuesAscending)if(Object.prototype.hasOwnProperty.call(this.ratingValuesAscending,t)&&!$t(this.ratingValuesAscending[t]))return!1;return!0},e}();J.CampaignSurveyContentRating=Wk;var Kk=function(){function e(){}return e.deserialize=function(t){var r=new e;return z(t)||(r.question=t.Question,!r.validate())?null:r},e.prototype.validate=function(){return!(z(this.question)||!$t(this.question))},e}();J.CampaignSurveyContentComment=Kk;var Kb=function(){function e(){}return e.deserialize=function(t){if(z(t))return null;var r=new e;return r.contentMetadata=t.ContentMetadata,r.validate()?r:null},e.prototype.validate=function(){return!(z(this.contentMetadata)||!zr.isObject(this.contentMetadata))},e}();J.CampaignSurveyMetadata=Kb;var so=function(){function e(){}return e.deserialize=function(t){var r,n,i,o,a,s,u,l,c,f="";if(z(t))return[null,"deserialize parameter is null"];switch(t.Type){case 0:r=$k.deserialize(t),c=r[0],f=r[1];break;case 1:n=Zk.deserialize(t),c=n[0],f=n[1];break;case 2:i=Qk.deserialize(t),c=i[0],f=i[1];break;case 3:o=Jk.deserialize(t),c=o[0],f=o[1];break;case 4:a=Xk.deserialize(t),c=a[0],f=a[1];break;case 22:s=eM.deserialize(t),c=s[0],f=s[1];break;case 5:u=rM.deserialize(t),c=u[0],f=u[1];break;case 24:l=tM.deserialize(t),c=l[0],f=l[1];break}return z(c)?[null,f]:[c,f]},e.prototype.validate=function(){var t=this,r,n,i;if(z(this.activationEvent))return"The survey template is missing the activation event.";if(this.uxSchema){var o=this.validatePages(this.uxSchema.pages);if(o)return o;if(this.uxSchema.variables)for(var a=0,s=Object.keys(this.uxSchema.variables);a<s.length;a++){var u=s[a];if(this.uxSchema.variables[u]===null||this.uxSchema.variables[u]===void 0)return"Schema variable of key "+u+" does not have a corresponding value.";if(Object.prototype.hasOwnProperty.call(Hb,u))this.uxSchema.variables[u]=Hb[u];else return"Host app does not provide Schema variable of key "+u+"."}if(this.uxSchema.additionalCapabilities){if(((r=this.uxSchema.additionalCapabilities[Di.IUxSchemaAdditionalCapabilitiesTypes.Email])===null||r===void 0?void 0:r.targetPage)==null)return"Schema additional capability of Email is defined but has no target page.";var l=(n=this.uxSchema.additionalCapabilities[Di.IUxSchemaAdditionalCapabilitiesTypes.Email])===null||n===void 0?void 0:n.targetPage;if(l<0||l>=this.uxSchema.pages.length)return"Schema additional capability of Email has its target page equal to "+l+" which is out of range."}if(this.uxSchema.branchingRules&&Array.isArray(this.uxSchema.branchingRules)&&this.uxSchema.branchingRules.length>0)for(var c=0,f=this.uxSchema.branchingRules;c<f.length;c++){var d=f[c];if(d.conditions&&Array.isArray(d.conditions)&&d.conditions.length>0)for(var p=function(G){if(G.conditionType==null||G.conditionValue==null||G.sourceId==null||G.sourceType==null)return{value:"A condition in the branching rules is missing a type/value/sourceId/sourceType."};if(G.sourceType===Di.ConditionSourceType.Variable){if(!v.uxSchema.variables||!Object.keys(v.uxSchema.variables).includes(G.sourceId))return{value:"The variable "+G.sourceId+" is used in the branching rules but not defined among the schema variables."}}else{if(G.sourcePageIndex==null)return{value:"A condition in the branching rules of type question is missing a sourcePageIndex."};var se=(i=v.uxSchema.pages[G.sourcePageIndex])===null||i===void 0?void 0:i.questions.findIndex(function(Se){return Se.id===G.sourceId});if(se==null||se<0)return{value:"The target question with id "+G.sourceId+" does not exist."};if(G.subSourceIndex){if(v.uxSchema.pages[G.sourcePageIndex].questions[se].type!=Di.QuestionType.Likert)return{value:"A subsource page index of "+G.subSourceIndex+" is provided\nbut the question with id "+G.sourceId+" is not of type Likert."};var ue=v.uxSchema.pages[G.sourcePageIndex].questions[se];if(ue.horizontalStatements.length<=G.subSourceIndex)return{value:"The likert question with id "+G.sourceId+" doesn't have\na horizontal option with index "+G.subSourceIndex+"."}}}},v=this,h=0,g=d.conditions;h<g.length;h++){var m=g[h],y=p(m);if(typeof y=="object")return y.value}if(d.targets&&Array.isArray(d.targets)&&d.targets.length>0)for(var S=function(G){if(G.type===Di.BranchingTargetType.Page){var se=G;if(se.hiddenPageIndices.filter(function(Te){return Te<0}).length>0||se.hiddenPageIndices.filter(function(Te){return Te>=t.uxSchema.pages.length}).length>0)return{value:"Some of the hidden pages indexes are out of range."}}else{var ue=G;if(ue.targetPageIndex<0||ue.targetPageIndex>=E.uxSchema.pages.length)return{value:"An override target has its page index out of range."};var Se=E.uxSchema.pages[ue.targetPageIndex].questions.find(function(Te){return Te.id===ue.targetOverrideId});if(!Se)return{value:"An override target's question on page "+ue.targetPageIndex+" does not exist"}}},E=this,D=0,P=d.targets;D<P.length;D++){var x=P[D],q=S(x);if(typeof q=="object")return q.value}}}return""},e.prototype.validatePages=function(t){if(!t||!Array.isArray(t)||t.length===0)return"Schema has no pages.";for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i.id){if(i.displayName==null)return"Page is missing a displayName.";if(!i.questions||!Array.isArray(i.questions)||i.questions.length===0)return"Page "+i.id+" does not have any questions.";for(var o=0,a=i.questions;o<a.length;o++){var s=a[o],u=this.validateQuestion(s);if(u)return"On page "+i.id+" "+u}}else return"Page is missing an id."}return""},e.prototype.validateQuestion=function(t){var r="";return!t.id||!t.questionLabel||!t.type?r+="the question is missing one of the following properties: id, label or question type.":(t.type===Di.QuestionType.SingleSelect&&(!t.availableOptions||!Array.isArray(t.availableOptions)||t.availableOptions.length<2||t.availableOptions.length>11)&&(r+="the question "+t.id+" of type SingleSelect must have at least 2 and at most 11 available options."),t.type==Di.QuestionType.MultipleChoice&&(!t.availableOptions||!Array.isArray(t.availableOptions)||t.availableOptions.length<2||t.availableOptions.length>11)&&(r+="the question "+t.id+" of type MultipleChoice must have at least 2 and at most 11 available options."),t.type===Di.QuestionType.Rating&&(!t.leftLegendValue||!t.rightLegendValue||!t.ratingValues||!Array.isArray(t.ratingValues)||t.ratingValues.length<2||t.ratingValues.length>11)&&(r+="the question "+t.id+" of type rating must have a right and left legend and have at least 2 and at most 11 rating values."),t.type===Di.QuestionType.Likert&&(!t.horizontalStatements||!Array.isArray(t.horizontalStatements)||!t.verticalOptions||!Array.isArray(t.verticalOptions)||t.horizontalStatements.length<1||t.horizontalStatements.length>10||t.verticalOptions.length<2||t.verticalOptions.length>7)&&(r+="the question "+t.id+" of type Likert must have\nat least 2 and at most 7 vertical options and at least 1 and at most 10 horizontal options.")),r},e}();J.CampaignSurveyTemplate=so;var Qk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent),n.content=Tp.deserialize(r.Content,!0),n.uxSchema=r.UxSchema;var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.content)&&z(this.uxSchema)?"The survey schema does not have any content or ux schema":"")},t}(so);J.CampaignSurveyTemplateFps=Qk;var Jk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent),n.content=Tp.deserialize(r.Content);var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.content)?"The survey schema does not have any content":"")},t}(so);J.CampaignSurveyTemplateNlqs=Jk;var Xk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent),n.content=Tp.deserialize(r.Content),n.uxSchema=r.UxSchema;var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.content)&&z(this.uxSchema)?"The survey schema does not have any content or ux schema":"")},t}(so);J.CampaignSurveyTemplateNps=Xk;var $k=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent);var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){return e.prototype.validate.call(this)},t}(so);J.CampaignSurveyTemplateNps5PointStatic=$k;var Zk=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent);var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){return e.prototype.validate.call(this)},t}(so);J.CampaignSurveyTemplateNps11PointStatic=Zk;var eM=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){if(z(r))return[null,"deserialize parameter is null"];var n=new t;n.activationEvent=Pi.deserialize(r.ActivationEvent),n.metadata=Kb.deserialize(r.Metadata),n.maxLaunches=r.MaxLaunches,n.maxLaunchesPerSession=r.MaxLaunchesPerSession,n.preferredLaunchType=r.PreferredLaunchType;var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.metadata)?"The metadata is undefined":!z(this.maxLaunches)&&(!Vt(this.maxLaunches)||this.maxLaunches<=0)||!z(this.maxLaunchesPerSession)&&(!Vt(this.maxLaunchesPerSession)||this.maxLaunchesPerSession<=0)?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid Multi Launch settings",this.maxLaunches,this.maxLaunchesPerSession),"Invalid Multi Launch settings"):Vt(this.maxLaunches)&&Vt(this.maxLaunchesPerSession)&&this.maxLaunchesPerSession>this.maxLaunches?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid Multi launch settings",this.maxLaunches,this.maxLaunchesPerSession),"Invalid Multi Launch settings"):!z(this.preferredLaunchType)&&!$t(this.preferredLaunchType)?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid launcher type",this.preferredLaunchType),"Invalid launcher type"):"")},t}(so);J.CampaignSurveyTemplateGenericMessagingSurface=eM;var tM=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){if(z(r))return[null,"deserialize parameter is null"];var n=new t;n.activationEvent=Pi.deserialize(r.ActivationEvent),n.metadata=Kb.deserialize(r.Metadata),n.maxLaunches=r.MaxLaunches,n.maxLaunchesPerSession=r.MaxLaunchesPerSession,n.preferredLaunchType=r.PreferredLaunchType;var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.metadata)?"The metadata is undefined":!z(this.maxLaunches)&&(!Vt(this.maxLaunches)||this.maxLaunches<=0)||!z(this.maxLaunchesPerSession)&&(!Vt(this.maxLaunchesPerSession)||this.maxLaunchesPerSession<=0)?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid Multi Launch settings for dialog survey template",this.maxLaunches,this.maxLaunchesPerSession),"Invalid Multi Launch settings"):Vt(this.maxLaunches)&&Vt(this.maxLaunchesPerSession)&&this.maxLaunchesPerSession>this.maxLaunches?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid Multi launch settings for dialog survey template",this.maxLaunches,this.maxLaunchesPerSession),"Invalid Multi Launch settings"):!z(this.preferredLaunchType)&&!$t(this.preferredLaunchType)?(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid launcher type",this.preferredLaunchType),"Invalid launcher type"):"")},t}(so);J.CampaignSurveyTemplateDialog=tM;var rM=function(e){Zt(t,e);function t(){return e.call(this)||this}return t.deserialize=function(r){var n=new t;if(z(r))return[null,"deserialize parameter is null"];n.activationEvent=Pi.deserialize(r.ActivationEvent),n.content=Tp.deserialize(r.Content);var i=n.validate();return i&&(n=null),[n,i]},t.prototype.validate=function(){var r=e.prototype.validate.call(this);return r||(z(this.content)?"The survey schema does not have any content":"")},t}(so);J.CampaignSurveyTemplateIntercept=rM;var nM=function(){function e(){}return e.deserialize=function(t){var r,n=new e,i;if(z(t))return null;n.campaignId=t.CampaignId,n.governedChannelType=t.GovernedChannelType,n.startTime=t.StartTimeUtc,n.endTime=t.EndTimeUtc,n.launcherType=t.LauncherType,n.primaryPriority=t.PrimaryPriority,n.tags=t.Tags;var o=Bk.deserialize(t.AdditionalDataRequested);return n.additionalDataRequested=o?o.additionalData:[],t.SurveyTemplate&&(r=so.deserialize(t.SurveyTemplate),n.surveyTemplate=r[0],i=r[1],i&&Dn.TelemetryLogger.getTelemetryLogger().log_Event(Cp.TelemetryEvent.CampaignDefinitionProvider.CampaignSurveyTemplate.SchemaValidationError,{CampaignId:t.CampaignId,ErrorMessage:i})),t.NominationScheme&&(n.nominationScheme=Yb.deserialize(t.NominationScheme)),t.Scope&&(n.scope=gc.deserialize(t.Scope)),z(t.TreatmentType)?n.treatmentType=255:n.treatmentType=t.TreatmentType,z(t.BusinessLevel)||(n.businessLevel=t.BusinessLevel),n.validate()?n:(Dn.TelemetryLogger.getTelemetryLogger().log_LocalError("Invalid definition",t),null)},e.prototype.validate=function(){var t,r;if(z(this.scope)&&(this.scope=new jb),z(this.campaignId)||!$t(this.campaignId)||!Vt(this.governedChannelType)||!zr.isEnumValue(this.governedChannelType,Di.GovernedChannelType)||z(this.nominationScheme)||z(this.surveyTemplate)||!z(this.launcherType)&&!$t(this.launcherType)||this.launcherType==="customervoice"&&z((r=(t=this.surveyTemplate.content)===null||t===void 0?void 0:t.cvSurvey)===null||r===void 0?void 0:r.customerVoiceFormId)||!z(this.primaryPriority)&&!Vt(this.primaryPriority)||this.tags&&!Array.isArray(this.tags))return!1;if(z(this.startTime))this.startTime=Nk();else if(Ok(this.startTime))this.startTime=Dk(this.startTime);else return!1;if(z(this.endTime)||typeof this.endTime=="string"&&this.endTime==="")this.endTime=Nk();else if(Ok(this.endTime))this.endTime=Dk(this.endTime);else return!1;return!0},e}();J.CampaignDefinition=nM;function Qb(e){var t=[];if(z(e))return{result:t,error:"Empty",invalidIndexes:[]};if(!Array.isArray(e))return{result:t,error:"Not an array",invalidIndexes:[]};for(var r=[],n=0;n<e.length;n++){var i=e[n];if(i){var o=nM.deserialize(i);o?t.push(o):r.push(n)}else r.push(n)}var a=r.length>0?"Invalid campaign definitions at indexes: "+r.toString():void 0;return{result:t,error:a,invalidIndexes:r}}J.FilterValidCampaignDefinitions=Qb;var nY=function(){function e(t){if(z(t))throw new Error("storage must not be null");this.storage=t}return e.prototype.load=function(){var t=this.storage.read(Di.FloodgateStorageProviderFileType.CampaignDefinitions);if(z(t))return[];var r;try{r=JSON.parse(t)}catch(n){return Dn.TelemetryLogger.getTelemetryLogger().log_CampaignLoad_Failed(n.toString()),[]}return Qb(r).result},e.prototype.loadAsync=function(){var t=this.load();return new Promise(function(n,i){n(t)})},e.prototype.hasDataChanged=function(){return!1},e}();J.FileSystemCampaignDefinitionProvider=nY;var iY=function(){function e(t){if(this.prefixRegex=new RegExp(/^(Floodgate_Campaign_)/im),z(t))throw new Error("storage must not be null");this.ecsCampaignDefintionProvider=t}return e.prototype.hasDataChanged=function(){var t=this.ecsCampaignDefintionProvider.getConfig(),r=t==null?void 0:t.eTag;return r!==this.eTag},e.prototype.load=function(){var t=this,r=[],n=this.ecsCampaignDefintionProvider.getConfig();if(this.eTag=n==null?void 0:n.eTag,zr.isNOU(n))return r;if(zr.isNOU(n==null?void 0:n.config))return Dn.TelemetryLogger.getTelemetryLogger().log_Event(Cp.TelemetryEvent.DynamicCampaignDefinitionProvider.Load.InvalidEcsConfig,{Count:0,Message:"Null/Undefined config returned from ECS",ErrorDetails:JSON.stringify(this.getLoggableEcsResponse(n))},.1),r;if(Object.keys(n==null?void 0:n.config).length===0)return Dn.TelemetryLogger.getTelemetryLogger().log_Event(Cp.TelemetryEvent.DynamicCampaignDefinitionProvider.Load.EmptyEcsConfig,{Count:0,Message:"Empty config returned from ECS",ErrorDetails:JSON.stringify(this.getLoggableEcsResponse(n))},.1),r;Object.entries(n.config).forEach(function(o){var a=o[0],s=o[1];if(t.prefixRegex.test(a)){if(!zr.isObject(s))return!1;r.push(s)}});var i=Qb(r);return i.invalidIndexes.length>0&&Dn.TelemetryLogger.getTelemetryLogger().log_Event(Cp.TelemetryEvent.DynamicCampaignDefinitionProvider.Load.InvalidEcsConfig,{Count:i.invalidIndexes.length,Message:i.invalidIndexes.toString(),ErrorDetails:JSON.stringify(this.getLoggableEcsResponse(n))}),i.result},e.prototype.loadAsync=function(){return Promise.resolve(this.load())},e.prototype.getLoggableEcsResponse=function(t){var r=t.lastFetchTokenHash,n=rY(t,["lastFetchTokenHash"]);return n},e}();J.DynamicCampaignDefinitionProvider=iY;function oY(e){Hb=e!=null?e:{}}J.setDynamicUxSchemaVariables=oY});var Jb=k(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});_y.SurveyStatCollection=void 0;var aY=function(){function e(){this.Surveys={},this.Surveys={}}return e.prototype.addStats=function(t,r){this.Surveys[t]=r},e.prototype.getBySurveyId=function(t){return this.Surveys[t]},e.prototype.getStats=function(){return this.Surveys},e}();_y.SurveyStatCollection=aY});var Zb=k(dn=>{"use strict";var sY=dn&&dn.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(dn,"__esModule",{value:!0});dn.SurveyActivationStats=dn.FileBasedSurveyActivationStatsProvider=dn.HostBasedSurveyActivationStatsProvider=dn.SurveyActivationStatsProviderFactory=dn.SurveyStatCollectionActivation=void 0;var Jo=Ee(),Ey=ln(),Cy=by(),uY=Jb(),Qa=je(),Ty=Jn(),mc=function(e){sY(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromJson=function(r){var n=new t;if(!r)return Ty.TelemetryLogger.getTelemetryLogger().log_Event(Ey.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Input json is null or empty."}),n;var i;try{i=JSON.parse(r)}catch(o){return Ty.TelemetryLogger.getTelemetryLogger().log_Event(Ey.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+o.toString()}),n}return n.deserialize(i)?n:new t},t.toJson=function(r){return r||(Ty.TelemetryLogger.getTelemetryLogger().log_Event(Ey.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),r=new t),JSON.stringify(r)},t.prototype.accumulate=function(r){if(r){var n=r.getStats();for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&this.addStats(i,n[i])}},t.prototype.deserialize=function(r){var n=r.Surveys,i=new Date;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=new $b;a.deserialize(n[o])&&a.ExpirationTimeUtc>i&&this.addStats(o,a)}return this.validate()},t.prototype.validate=function(){return Qa.isObject(this.getStats())},t}(uY.SurveyStatCollection);dn.SurveyStatCollectionActivation=mc;var lY=function(){function e(){}return e.make=function(t,r){return r?new iM(t,r):new Xb(t)},e}();dn.SurveyActivationStatsProviderFactory=lY;var iM=function(){function e(t,r){if(!r)throw new Error("host-based storage must not be null");this.hostBasedStorage=r,t&&(this.fileBasedStorageProvider=new Xb(t))}return e.prototype.load=function(){var t=this.getSurveyStatsFromHost(),r=new mc;this.fileBasedStorageProvider&&(r=this.fileBasedStorageProvider.load());var n=Cy.MergeAndUpdateSurveyActivationStats(r,t);return n.find(0)},e.prototype.save=function(t){if(t){var r=this.getSurveyStatsFromHost(),n=Cy.MergeAndUpdateSurveyActivationStats(t,r),i=n.find(1),o=n.find(0);if(i){var a=i.getStats();for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var u=Cy.makeSettingItemValue(JSON.stringify(a[s]));this.hostBasedStorage.upsertSettingItem(Jo.FloodgateStorageProviderFileType[Jo.FloodgateStorageProviderFileType.SurveyActivationStats],s,u)}}this.fileBasedStorageProvider&&this.fileBasedStorageProvider.save(o)}},e.prototype.getSurveyStatsFromHost=function(){var t=new mc,r=this.hostBasedStorage.readSettingList(Jo.FloodgateStorageProviderFileType[Jo.FloodgateStorageProviderFileType.SurveyActivationStats]),n=new Date;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=Cy.extractSettingItemValueSubString(r[i]),a=new $b;try{var s=JSON.parse(o);a.deserialize(s)}catch(u){Ty.TelemetryLogger.getTelemetryLogger().log_Event(Ey.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+u.toString()+".  Input:"+o})}a.ExpirationTimeUtc<=n?this.hostBasedStorage.deleteSettingItem(Jo.FloodgateStorageProviderFileType[Jo.FloodgateStorageProviderFileType.SurveyActivationStats],i):t.addStats(i,a)}return t},e}();dn.HostBasedSurveyActivationStatsProvider=iM;var Xb=function(){function e(t){if(!t)throw new Error("storage must not be null");this.storage=t}return e.prototype.load=function(){var t=this.storage.read(Jo.FloodgateStorageProviderFileType.SurveyActivationStats);return t?mc.fromJson(t):new mc},e.prototype.save=function(t){if(t){var r=mc.toJson(t);this.storage.write(Jo.FloodgateStorageProviderFileType.SurveyActivationStats,r)}},e}();dn.FileBasedSurveyActivationStatsProvider=Xb;var $b=function(){function e(){this.SurveyLaunchCount=0,this.SurveyLaunchCountPerSession=0}return e.prototype.deserialize=function(t){var r,n;return this.ActivationTimeUtc=t.ActivationTimeUtc,this.ExpirationTimeUtc=t.ExpirationTimeUtc,this.Type=t.Type,this.SurveyLaunchCount=(r=t.SurveyLaunchCount)!==null&&r!==void 0?r:0,this.SurveyLaunchCountPerSession=(n=t.SurveyLaunchCountPerSession)!==null&&n!==void 0?n:0,this.validate()},e.prototype.validate=function(){if(Qa.isUtcDatetimeString(this.ActivationTimeUtc))this.ActivationTimeUtc=Qa.stringToDate(this.ActivationTimeUtc);else return!1;if(Qa.isUtcDatetimeString(this.ExpirationTimeUtc))this.ExpirationTimeUtc=Qa.stringToDate(this.ExpirationTimeUtc);else return!1;return!Qa.isNumber(this.SurveyLaunchCount)||!Qa.isNumber(this.SurveyLaunchCountPerSession)?!1:Qa.isEnumValue(this.Type,Jo.SurveyType)},e}();dn.SurveyActivationStats=$b});var by=k(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.MergeAndUpdateSurveyActivationStats=pn.MergeAndUpdateCampaignStates=pn.MergeAndUpdateGovernedChannelStates=pn.makeSettingItemValue=pn.extractSettingItemValueSubString=pn.ItemCollection=void 0;var oM=Zb(),xy=function(){function e(){this.items={},this.itemCount=0}return e.prototype.add=function(t,r){this.items[t]||this.itemCount++,this.items[t]=r},e.prototype.find=function(t){return this.items[t]},e.prototype.remove=function(t){var r=this.items[t];return r&&(delete this.items[t],this.itemCount--),r},e.prototype.count=function(){return this.itemCount},e}();pn.ItemCollection=xy;function cY(e){if(!e)return e;var t=e.indexOf(Iy)+Iy.length,r=e.indexOf(eI);return t<0||r<0?e:e.substring(t,r)}pn.extractSettingItemValueSubString=cY;function fY(e){return e?Iy+e+eI:Iy+eI}pn.makeSettingItemValue=fY;function dY(e,t){var r=new xy;if(!e&&!t)return r;if(!e)return r.add(0,t),r;if(!t)return r.add(0,e),r.add(1,e),r;var n=[],i=[];return e&&e.forEach(function(o){for(var a=-1,s,u=0;u<t.length;u++)if(s=t[u],s.getType()===o.getType()){a=u;break}if(a===-1){n.push(o),i.push(o);return}o.getCooldownStartTime()>s.getCooldownStartTime()?(n.push(o),i.push(o)):n.push(s),t.splice(a,1)}),t&&t.forEach(function(o){n.push(o)}),r.add(0,n),i.length>0&&r.add(1,i),r}pn.MergeAndUpdateGovernedChannelStates=dY;function pY(e,t){var r=new xy;if(!e&&!t)return r;if(!e)return r.add(0,t),r;if(!t)return r.add(0,e),r.add(1,e),r;var n=[],i=[];return e&&e.forEach(function(o){for(var a=new Date,s=-1,u,l=0;l<t.length;l++)if(u=t[l],u.CampaignId===o.CampaignId){s=l;break}if(s===-1){n.push(o),i.push(o);return}if(u.LastCooldownEndTimeUtc>a){n.push(u),t.splice(s,1);return}if(o.LastCooldownEndTimeUtc>a){n.push(o),i.push(o),t.splice(s,1);return}o.getCooldownStartDate()>u.getCooldownStartDate()||o.getCooldownStartDate()===u.getCooldownStartDate()&&o.LastNominationTimeUtc>u.LastNominationTimeUtc?(n.push(o),i.push(o)):n.push(u),t.splice(s,1)}),t&&t.forEach(function(o){n.push(o)}),r.add(0,n),i.length>0&&r.add(1,i),r}pn.MergeAndUpdateCampaignStates=pY;function gY(e,t){var r=new xy;if(!e&&!t)return r;if(!e)return r.add(0,t),r;if(!t)return r.add(0,e),r.add(1,e),r;var n=new oM.SurveyStatCollectionActivation,i=new oM.SurveyStatCollectionActivation,o=e.getStats(),a=t.getStats();for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var u=a[s];if(!u){n.addStats(s,o[s]),i.addStats(s,o[s]);continue}var l=o[s];l.ActivationTimeUtc>u.ActivationTimeUtc?(n.addStats(s,o[s]),i.addStats(s,o[s])):n.addStats(s,a[s]),delete a[s]}for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.addStats(s,a[s]);r.add(0,n);var c=i.getStats();for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){r.add(1,i);break}return r}pn.MergeAndUpdateSurveyActivationStats=gY;var Iy="<data>",eI="</data>"});var oI=k(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.FileBasedGovernedChannelStateProvider=uo.HostBasedGovernedChannelStateProvider=uo.GovernedChannelStateProviderFactory=uo.GovernedChannelState=void 0;var pu=Ee(),tI=ln(),Ay=by(),vc=je(),rI=Jn(),nI=function(){function e(t,r){if(this.ChannelType=t,this.CooldownStartTimeUtc=r,!this.validate())throw new Error("Constructor arguments are not valid")}return e.deserialize=function(t){var r;if(!t)return null;try{r=new e(t.ChannelType,t.CooldownStartTimeUtc)}catch(n){return rI.TelemetryLogger.getTelemetryLogger().log_Event(tI.TelemetryEvent.GovernedChannelState.Deserialize.Failed,{ErrorMessage:n.toString()}),null}return r},e.prototype.validate=function(){return vc.isEnumValue(this.ChannelType,pu.GovernedChannelType)?(vc.isUtcDatetimeString(this.CooldownStartTimeUtc)?this.CooldownStartTimeUtc=vc.stringToDate(this.CooldownStartTimeUtc):(vc.isNOU(this.CooldownStartTimeUtc)||!vc.isDate(this.CooldownStartTimeUtc))&&(this.CooldownStartTimeUtc=vc.getDistantPast()),!0):!1},e.prototype.getType=function(){return this.ChannelType},e.prototype.getCooldownStartTime=function(){return this.CooldownStartTimeUtc},e}();uo.GovernedChannelState=nI;var mY=function(){function e(){}return e.make=function(t,r){return r?new aM(t,r):new iI(t)},e}();uo.GovernedChannelStateProviderFactory=mY;var vY=function(){function e(){}return e}(),aM=function(){function e(t,r){if(!r)throw new Error("host-based storage must not be null");this.hostBasedStorage=r,t&&(this.fileBasedStateProvider=new iI(t))}return e.prototype.load=function(){var t=this.getStatesFromHost(),r;this.fileBasedStateProvider&&(r=this.fileBasedStateProvider.load());var n=Ay.MergeAndUpdateGovernedChannelStates(r,t);return n.find(0)},e.prototype.save=function(t){var r=this;if(t){var n=this.getStatesFromHost(),i=Ay.MergeAndUpdateGovernedChannelStates(t,n),o=i.find(1),a=i.find(0);o&&o.forEach(function(s){var u=Ay.makeSettingItemValue(JSON.stringify(s));r.hostBasedStorage.upsertSettingItem(pu.FloodgateStorageProviderFileType[pu.FloodgateStorageProviderFileType.GovernedChannelStates],String(s.getType()),u)}),this.fileBasedStateProvider&&this.fileBasedStateProvider.save(a)}},e.prototype.getStatesFromHost=function(){var t=[],r=this.hostBasedStorage.readSettingList(pu.FloodgateStorageProviderFileType[pu.FloodgateStorageProviderFileType.GovernedChannelStates]);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n],o=Ay.extractSettingItemValueSubString(i),a={};try{a=JSON.parse(o);var s=nI.deserialize(a);s&&t.push(s)}catch(u){rI.TelemetryLogger.getTelemetryLogger().log_Event(tI.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+u.toString()+".  Input:"+o})}}return t},e}();uo.HostBasedGovernedChannelStateProvider=aM;var iI=function(){function e(t){if(!t)throw new Error("storage must not be null");this.storage=t}return e.prototype.load=function(){var t=this.storage.read(pu.FloodgateStorageProviderFileType.GovernedChannelStates);if(!t)return[];var r;try{r=JSON.parse(t);var n=[];return r&&r.ChannelStates&&r.ChannelStates.forEach(function(i){var o=nI.deserialize(i);o&&n.push(o)}),n}catch(i){return rI.TelemetryLogger.getTelemetryLogger().log_Event(tI.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+i.toString()+".  Input:"+t}),[]}},e.prototype.save=function(t){if(t){var r=new vY;r.ChannelStates=t;var n=JSON.stringify(r);this.storage.write(pu.FloodgateStorageProviderFileType.GovernedChannelStates,n)}},e}();uo.FileBasedGovernedChannelStateProvider=iI});var sI=k(Ja=>{"use strict";var hY=Ja&&Ja.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.SurveyEventActivityStats=Ja.SurveyStatCollectionEventActivity=void 0;var sM=ln(),yY=Jb(),wy=je(),uM=Jn(),SY=function(e){hY(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromJson=function(r){var n=new t;if(!r)return n;var i;try{i=JSON.parse(r)}catch(o){return uM.TelemetryLogger.getTelemetryLogger().log_Event(sM.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+o.toString()}),n}return n.deserialize(i)?n:new t},t.toJson=function(r){return r||(uM.TelemetryLogger.getTelemetryLogger().log_Event(sM.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),r=new t),JSON.stringify(r)},t.prototype.accumulate=function(r){if(r){var n=r.getStats();for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=this.getBySurveyId(i);if(o||(o=new aI,o.Counts=[],this.addStats(i,o)),o.ExpirationTimeUtc=n[i].ExpirationTimeUtc,o.Counts.length<n[i].Counts.length){var a=o.Counts.slice();o.Counts=a}for(var s=0;s<n[i].Counts.length;s++)o.Counts[s]||(o.Counts[s]=0),o.Counts[s]+=n[i].Counts[s]}}},t.prototype.deserialize=function(r){var n=r.Surveys,i=new Date;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=new aI;a.deserialize(n[o])&&a.ExpirationTimeUtc>i&&this.addStats(o,a)}return this.validate()},t.prototype.validate=function(){return wy.isObject(this.getStats())},t}(yY.SurveyStatCollection);Ja.SurveyStatCollectionEventActivity=SY;var aI=function(){function e(){}return e.prototype.deserialize=function(t){return this.ExpirationTimeUtc=t.ExpirationTimeUtc,this.Counts=t.Counts,this.validate()},e.prototype.validate=function(){if(!this.Counts)return!1;for(var t=0;t<this.Counts.length;t++){var r=this.Counts[t];if(!wy.isNumber(r))return!1;r<0&&(this.Counts[t]=0)}if(wy.isUtcDatetimeString(this.ExpirationTimeUtc))this.ExpirationTimeUtc=wy.stringToDate(this.ExpirationTimeUtc);else return!1;return!0},e}();Ja.SurveyEventActivityStats=aI});var cM=k(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.hasSurveyReachedMaxLaunches=Xn.hasSurveyReachedMaxLaunchesPerSession=Xn.isCriticalSurvey=Xn.isBusinessCriticalSurvey=Xn.isMultiLaunchSurvey=void 0;var _Y=Ee(),uI=je();function Ny(e){var t=e==null?void 0:e.getMaxLaunches();return uI.isNumber(t)&&t>1}Xn.isMultiLaunchSurvey=Ny;function lM(e){var t=e==null?void 0:e.getBusinessLevel();return!uI.isNOU(t)&&t===_Y.SurveyInfoBusinessLevel.Critical}Xn.isBusinessCriticalSurvey=lM;function CY(e){return Ny(e)||lM(e)}Xn.isCriticalSurvey=CY;function EY(e,t){var r;if(Ny(e)&&uI.isNumber(e.getMaxLaunchesPerSession())){var n=(r=t[e.getId()])!==null&&r!==void 0?r:0,i=e.getMaxLaunchesPerSession();return n>=i}return!0}Xn.hasSurveyReachedMaxLaunchesPerSession=EY;function TY(e,t){if(Ny(e)){var r=(t==null?void 0:t.SurveyLaunchCount)||0;return r>=e.getMaxLaunches()}return!0}Xn.hasSurveyReachedMaxLaunches=TY});var fM=k(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.ActivityTrackingContract=void 0;var bY=function(){function e(t,r){this.surveyId=t,this.trackingSet=r}return e}();Oy.ActivityTrackingContract=bY});var pI=k(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.FileBasedCampaignStateProvider=lo.HostBasedCampaignStateProvider=lo.CampaignStateProviderFactory=lo.CampaignState=void 0;var hc=Ee(),lI=ln(),Dy=by(),$o=je(),cI=Jn(),Py=$o.getDistantPast,dM=$o.isBoolean,bp=$o.isDate,Xo=$o.isNOU,Fy=$o.isString,Ip=$o.isUtcDatetimeString,xp=$o.stringToDate,fI=function(){function e(t,r,n,i,o,a,s,u,l,c,f,d){if(this.CampaignId=t,this.LastNominationTimeUtc=r,this.LastNominationBuildNumber=n,this.DeleteAfterSecondsWhenStale=i,this.ForceCandidacy=o,this.IsCandidate=a,this.DidCandidateTriggerSurvey=s,this.LastSurveyActivatedTimeUtc=u,this.LastSurveyId=l,this.LastSurveyStartTimeUtc=c,this.LastSurveyExpirationTimeUtc=f,this.LastCooldownEndTimeUtc=d,!this.validate())throw new Error("Constructor arguments are not valid")}return e.deserialize=function(t){var r;if(!t)return null;try{r=new e(t.CampaignId,t.LastNominationTimeUtc,t.LastNominationBuildNumber,t.DeleteAfterSecondsWhenStale,!1,t.IsCandidate,t.DidCandidateTriggerSurvey,t.LastSurveyActivatedTimeUtc,t.LastSurveyId,t.LastSurveyStartTimeUtc,t.LastSurveyExpirationTimeUtc,t.LastCooldownEndTimeUtc)}catch(n){return cI.TelemetryLogger.getTelemetryLogger().log_Event(lI.TelemetryEvent.CampaignState.Deserialize.Failed,{ErrorMessage:n.toString()}),null}return r},e.prototype.validate=function(){if(!this.CampaignId||!Fy(this.CampaignId)||Xo(this.LastNominationBuildNumber)||!Fy(this.LastNominationBuildNumber)||!$o.isNumber(this.DeleteAfterSecondsWhenStale)||this.DeleteAfterSecondsWhenStale<0||!dM(this.IsCandidate)||!dM(this.DidCandidateTriggerSurvey)||this.IsCandidate&&(Xo(this.LastSurveyStartTimeUtc)||Xo(this.LastSurveyExpirationTimeUtc)||!Fy(this.LastSurveyId))||this.DidCandidateTriggerSurvey&&Xo(this.LastSurveyActivatedTimeUtc))return!1;if(Xo(this.LastSurveyId))this.LastSurveyId="";else if(!Fy(this.LastSurveyId))return!1;if(Ip(this.LastNominationTimeUtc))this.LastNominationTimeUtc=xp(this.LastNominationTimeUtc);else if(!bp(this.LastNominationTimeUtc))return!1;if(Xo(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=Py();else if(Ip(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=xp(this.LastSurveyActivatedTimeUtc);else if(!bp(this.LastSurveyActivatedTimeUtc))return!1;if(Xo(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=Py();else if(Ip(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=xp(this.LastSurveyStartTimeUtc);else if(!bp(this.LastSurveyStartTimeUtc))return!1;if(Xo(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=Py();else if(Ip(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=xp(this.LastSurveyExpirationTimeUtc);else if(!bp(this.LastSurveyExpirationTimeUtc))return!1;if(Xo(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=Py();else if(Ip(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=xp(this.LastCooldownEndTimeUtc);else if(!bp(this.LastCooldownEndTimeUtc))return!1;return!0},e.prototype.markCurrentSurveyTakenOnDate=function(t,r,n){this.DidCandidateTriggerSurvey=n,this.LastSurveyActivatedTimeUtc=t!=null?t:new Date,this.LastCooldownEndTimeUtc=$o.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc,r)},e.prototype.getCooldownStartDate=function(){return this.IsCandidate?this.DidCandidateTriggerSurvey?this.LastSurveyActivatedTimeUtc:this.LastSurveyStartTimeUtc:this.LastNominationTimeUtc},e}();lo.CampaignState=fI;var IY=function(){function e(){}return e.make=function(t,r){return r?new pM(t,r):new dI(t)},e}();lo.CampaignStateProviderFactory=IY;var xY=function(){function e(){}return e}(),pM=function(){function e(t,r){if(!r)throw new Error("host-based storage must not be null");this.hostBasedStorage=r,t&&(this.fileBasedStateProvider=new dI(t))}return e.prototype.load=function(){var t=this.getStatesFromHost(),r;this.fileBasedStateProvider&&(r=this.fileBasedStateProvider.load());var n=Dy.MergeAndUpdateCampaignStates(r,t);return n.find(0)},e.prototype.save=function(t){var r=this;if(t){var n=this.getStatesFromHost(),i=Dy.MergeAndUpdateCampaignStates(t,n),o=i.find(1),a=i.find(0);o&&o.forEach(function(s){var u=Dy.makeSettingItemValue(JSON.stringify(s));r.hostBasedStorage.upsertSettingItem(hc.FloodgateStorageProviderFileType[hc.FloodgateStorageProviderFileType.CampaignStates],s.CampaignId,u)}),this.fileBasedStateProvider&&this.fileBasedStateProvider.save(a)}},e.prototype.getStatesFromHost=function(){var t=[],r=this.hostBasedStorage.readSettingList(hc.FloodgateStorageProviderFileType[hc.FloodgateStorageProviderFileType.CampaignStates]);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n],o=Dy.extractSettingItemValueSubString(i),a={};try{a=JSON.parse(o);var s=fI.deserialize(a);s&&t.push(s)}catch(u){cI.TelemetryLogger.getTelemetryLogger().log_Event(lI.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+u.toString()+".  Input:"+o})}}return t},e}();lo.HostBasedCampaignStateProvider=pM;var dI=function(){function e(t){if(!t)throw new Error("storage must not be null");this.storage=t}return e.prototype.load=function(){var t=this.storage.read(hc.FloodgateStorageProviderFileType.CampaignStates);if(!t)return[];var r;try{r=JSON.parse(t);var n=[];return r&&r.CampaignStates&&r.CampaignStates.forEach(function(i){var o=fI.deserialize(i);o&&n.push(o)}),n}catch(i){return cI.TelemetryLogger.getTelemetryLogger().log_Event(lI.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+i.toString()+".  Input:"+t}),[]}},e.prototype.save=function(t){if(t){var r=new xY;r.CampaignStates=t;var n=JSON.stringify(r);this.storage.write(hc.FloodgateStorageProviderFileType.CampaignStates,n)}},e}();lo.FileBasedCampaignStateProvider=dI});var gM=k(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});Ry.ActivityTrackingData=void 0;var AY=function(){function e(t,r,n){this.activity=t,this.count=r,this.isAggregate=n}return e.prototype.getActivity=function(){return this.activity},e.prototype.getCount=function(){return this.count},e.prototype.setCount=function(t){this.count=t},e.prototype.getIsAggregate=function(){return this.isAggregate},e}();Ry.ActivityTrackingData=AY});var mM=k(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.ActivityTrackingSet=void 0;var wY=je(),NY=function(){function e(t,r){this.isOrdered=t,this.list=r}return e.prototype.getIsOrdered=function(){return this.isOrdered},e.prototype.getList=function(){return this.list},e.prototype.getActivityTrackingInfo=function(t,r){var n;if(this.list.length===0)return n={Activities:[],IsListOrdered:this.isOrdered},JSON.stringify(n);for(var i=0,o=this.list;i<o.length;i++){var a=o[i],s=t.getCount(a.getActivity(),r),u={Activity:a.getActivity(),ActualCount:s,Count:a.getCount(),IsAggregate:a.getIsAggregate(),IsDiscrete:s%1===0};wY.isNOU(n)?n={Activities:[u],IsListOrdered:this.isOrdered}:n.Activities.push(u)}return JSON.stringify(n)},e}();Ly.ActivityTrackingSet=NY});var SM=k(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.CountedActivitySequenceEventData=co.CountedActivitySequenceEvent=co.CountedActivityEventData=co.CountedActivityEvent=void 0;var vM=gM(),hM=mM(),yM=function(){function e(t){if(!t)throw new Error("data must not be null");if(t.count<=0)throw new Error("count must be greater than 0");if(!t.activity||t.activity.length===0)throw new Error("activity must not be null or an empty string");this.data=t}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getActivity=function(){return this.data.activity},e.prototype.getCount=function(){return this.data.count},e.prototype.isAggregate=function(){return this.data.isAggregate},e.prototype.getType=function(){return"CountedActivity"},e.prototype.getTrackingSet=function(){var t=new Array;return t.push(new vM.ActivityTrackingData(this.data.activity,this.data.count,this.data.isAggregate)),new hM.ActivityTrackingSet(!1,t)},e}();co.CountedActivityEvent=yM;var OY=function(){function e(){}return e}();co.CountedActivityEventData=OY;var DY=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.sequence)throw new Error("data.sequence must not be null");if(t.sequence.length===0)throw new Error("data.sequence size must be greater than 0");this.data=[];for(var r=0,n=t.sequence;r<n.length;r++){var i=n[r];this.data.push(new yM(i))}}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getSequence=function(){return this.data},e.prototype.getType=function(){return"CountedActivitySequence"},e.prototype.getTrackingSet=function(){for(var t=new Array,r=0,n=this.data;r<n.length;r++){var i=n[r];t.push(new vM.ActivityTrackingData(i.getActivity(),i.getCount(),i.isAggregate()))}return new hM.ActivityTrackingSet(!0,t)},e}();co.CountedActivitySequenceEvent=DY;var PY=function(){function e(){}return e.prototype.CountedActivitySequenceEventData=function(){},e}();co.CountedActivitySequenceEventData=PY});var _M=k(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.Metadata=yc.SurveyMetadata=void 0;var FY=je(),RY=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.contentMetadata)throw new Error("content metadata must not be null");if(!FY.isObject(t.contentMetadata))throw new Error("content metadata must be of object type");this.data=t}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getContentMetadata=function(){return this.data.contentMetadata},e}();yc.SurveyMetadata=RY;var LY=function(){function e(){}return e}();yc.Metadata=LY});var gu=k(Xa=>{"use strict";var UY=Xa&&Xa.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},kY=Xa&&Xa.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.Survey=void 0;var MY=Ee(),BY=gI(),GY=je(),VY=function(){function e(){}return e.prototype.getCampaignId=function(){return this.getSurveyInfo().getBackEndId()},e.prototype.getLauncherType=function(){return this.getSurveyInfo().getLauncherType()},e.prototype.getClientFeedbackId=function(){return this.clientFeedbackId},e.prototype.getTags=function(){return this.getSurveyInfo().getTags()},e.prototype.submit=function(){return UY(this,void 0,void 0,function(){var t,r;return kY(this,function(n){return t=MY.SurveyType[this.getType()],r=BY.FloodgateEngine.getTransportFactory().makeTransporter(t),r.setManifestValues(this.getJsonElements()),this.clientFeedbackId=r.getClientFeedbackId(),[2,r.submit()]})})},e.prototype.getPreGeneratedClientFeedbackId=function(){return this.clientFeedbackId?this.clientFeedbackId:this.clientFeedbackId=GY.guid()},e.prototype.getUxSchema=function(){return this.uxSchema},e.prototype.setUxSchema=function(t){this.uxSchema=t},e.prototype.isContentValid=function(){return!0},e}();Xa.Survey=VY});var $a=k(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});var mu=Ee(),Uy=je(),HY=Uy.getDistantFuture,mI=Uy.getDistantPast,$n=Uy.isNOU,CM=Uy.isDate,vI=function(){function e(t){if($n(t))throw new Error("data must not be null");if($n(t.id)||t.id==="")throw new Error("data.id must not be null or empty");if($n(t.governedChannelType)&&(t.governedChannelType=mu.GovernedChannelType.getDefault()),$n(t.expirationTimeUtc)||t.expirationTimeUtc==="")throw new Error("data.expirationTimeUtc must not be null or empty");if($n(t.activationEvent))throw new Error("data.activationEvent must not be null");($n(t.backEndIdentifier)||t.backEndIdentifier==="")&&(t.backEndIdentifier=t.id),$n(t.launcherType)&&(t.launcherType=mu.LAUNCHER_TYPE_DEFAULT),$n(t.treatmentType)&&(t.treatmentType=255),this.data=t}return e.prototype.getId=function(){return this.data.id},e.prototype.getBackEndId=function(){return this.data.backEndIdentifier},e.prototype.getGovernedChannelType=function(){return this.data.governedChannelType},e.prototype.getRawStartTimeUtc=function(){return this.data.startTimeUtc},e.prototype.getStartTimeUtc=function(){if($n(this.data.startTimeUtc))return mI();var t=new Date(this.data.startTimeUtc);return CM(t)?t:HY()},e.prototype.getExpirationTimeUtc=function(){if($n(this.data.expirationTimeUtc))return mI();var t=new Date(this.data.expirationTimeUtc);return CM(t)?t:mI()},e.prototype.getRawExpirationTimeUtc=function(){return this.data.expirationTimeUtc},e.prototype.isActiveForDate=function(t){return $n(t)?!1:t>=this.getStartTimeUtc()&&t<=this.getExpirationTimeUtc()},e.prototype.getActivationEvent=function(){return this.data.activationEvent},e.prototype.getPreferredLaunchType=function(){return this.data.preferredLaunchType},e.prototype.isAdditionalDataRequested=function(t){if($n(this.data.additionalDataRequested))return!1;for(var r=0,n=this.data.additionalDataRequested;r<n.length;r++){var i=n[r];if(i===t)return!0}return!1},e.prototype.getLauncherType=function(){return this.data.launcherType},e.prototype.getMetadata=function(){return this.data.metadata},e.prototype.getTags=function(){return this.data.tags},e.prototype.getBusinessLevel=function(){return this.data.businessLevel},e.prototype.getTreatmentType=function(){return this.data.treatmentType},e.prototype.getMaxLaunches=function(){return this.data.maxLaunches},e.prototype.getMaxLaunchesPerSession=function(){return this.data.maxLaunchesPerSession},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(mu.DOM_TYPE_TAGNAME);r.appendChild(t.createTextNode(mu.DOM_TYPE_VALUE));var n=t.createElement(mu.DOM_ID_TAGNAME);return n.appendChild(t.createTextNode(this.getBackEndId())),[r,n]},e.prototype.getJsonElements=function(){var t={};t[mu.JSON_ID_KEYNAME]=this.getBackEndId();var r={};return r[mu.JSON_SURVEY_KEYNAME]=t,r},e}();(function(e){var t=function(){function r(){this.preferredLaunchType="Default"}return r}();e.SurveyDataSourceData=t})(vI||(vI={}));hI.default=vI});var TM=k(Ap=>{"use strict";var zY=Ap&&Ap.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ap,"__esModule",{value:!0});var jY=Ee(),qY=je(),YY=gu(),WY=$a(),EM=qY.isNOU,yI=function(e){zY(t,e);function t(r){var n=e.call(this)||this;if(!r)throw new Error("data must not be null");if(n.surveyInfo=new WY.default(r.baseData),EM(n.surveyInfo.getMetadata()))throw new Error("metadata must not be null");return n}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeCustom=function(r){if(EM(r))return null;var n=new t.DialogSurveyData;return n.baseData=r,this.make(n)},t.prototype.getType=function(){return jY.SurveyType.Dialog},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){return null},t.prototype.getDomElements=function(r){return[]},t.prototype.getJsonElements=function(){return{}},t}(YY.Survey);(function(e){var t=function(){function r(){}return r}();e.DialogSurveyData=t})(yI||(yI={}));Ap.default=yI});var ky=k(CI=>{"use strict";Object.defineProperty(CI,"__esModule",{value:!0});var SI=Ee(),_I=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.question)throw new Error("data.question must not be null or empty");this.data=t,this.userComment=""}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"Comment"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.setSubmittedText=function(t){this.userComment=t},e.prototype.getSubmittedText=function(){return this.userComment},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(SI.DOM_COMMENT_TAGNAME);return r.appendChild(t.createTextNode(this.getSubmittedText())),[r]},e.prototype.getJsonElements=function(){var t={};return t[SI.JSON_COMMENT_KEYNAME]=this.getSubmittedText(),t},e.prototype.getComponentJson=function(){var t;return t={},t[SI.JSON_QUESTION_KEYNAME]=this.getQuestion(),t},e}();(function(e){var t=function(){function r(){}return r}();e.CommentComponentData=t})(_I||(_I={}));CI.default=_I});var II=k(bI=>{"use strict";Object.defineProperty(bI,"__esModule",{value:!0});var EI=Ee(),TI=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.customerVoiceFormId)throw new Error("data.formID must not be null or empty");this.data=t}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"CVSurvey"},e.prototype.getFormId=function(){return this.data.customerVoiceFormId},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(EI.DOM_CVSURVEY_TAGNAME);return[r]},e.prototype.getJsonElements=function(){var t={};return t[EI.JSON_CVSURVEY_KEYNAME]=this.getFormId(),t},e.prototype.getComponentJson=function(){var t;return t={},t[EI.JSON_CVSURVEYFORMID_KEYNAME]=this.getFormId(),t},e}();(function(e){var t=function(){function r(){}return r}();e.CVSurveyComponentData=t})(TI||(TI={}));bI.default=TI});var bM=k(AI=>{"use strict";Object.defineProperty(AI,"__esModule",{value:!0});var My=Ee(),xI=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.question)throw new Error("data.question must not be null or empty");if(!t.availableOptions||t.availableOptions.length<2)throw new Error("data.availableOptions must not be null or have less than two choices");t.availableOptions.forEach(function(n){if(!n)throw new Error("Option values must not contain null or empty")}),this.data=t,this.optionStates=new Array(t.availableOptions.length);for(var r=0;r<this.optionStates.length;r++)this.optionStates[r]=!1}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"MultipleChoice"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getAvailableOptions=function(){return this.data.availableOptions},e.prototype.getOptionSelectedStates=function(){return this.optionStates},e.prototype.getMinNumberofSelectedOptions=function(){return this.data.minNumberOfSelectedOptions},e.prototype.getMaxNumberofSelectedOptions=function(){return this.data.maxNumberOfSelectedOptions},e.prototype.setOptionSelectedStates=function(t){for(var r=0;r<t.length;r++)this.optionStates[r]=t[r]},e.prototype.ValidateMinNumberofSelectedOptions=function(){var t=0;return this.optionStates.forEach(function(r){r&&t++}),t>=this.getMinNumberofSelectedOptions()},e.prototype.ValidateMaxNumberofSelectedOptions=function(){var t=0;return this.optionStates.forEach(function(r){r&&t++}),t<=this.getMaxNumberofSelectedOptions()},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(My.DOM_MULTIPLECHOICE_TAGNAME);return r.appendChild(t.createTextNode(this.getOptionSelectedStates().toString())),[r]},e.prototype.getJsonElements=function(){var t={};return t[My.JSON_MULTIPLECHOICE_KEYNAME]=this.getOptionSelectedStates().toString(),t},e.prototype.getComponentJson=function(){var t;return t={},t[My.JSON_QUESTION_KEYNAME]=this.getQuestion(),t[My.JSON_RATINGOPTIONS_KEYNAME]=this.getAvailableOptions(),t},e}();(function(e){var t=function(){function r(){}return r}();e.MultipleChoiceComponentData=t})(xI||(xI={}));AI.default=xI});var By=k(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});var Sc=Ee(),wI=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.question)throw new Error("data.question must not be null or empty");if(!t.title)throw new Error("data.title must not be null or empty");if(!t.yesButtonLabel)throw new Error("data.yesButtonLabel must not be null or empty");if(!t.noButtonLabel)throw new Error("data.noButtonLabel must not be null or empty");this.data=t,this.selectedButton=0}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"Prompt"},e.prototype.getTitle=function(){return this.data.title},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getYesButtonText=function(){return this.data.yesButtonLabel},e.prototype.getNoButtonText=function(){return this.data.noButtonLabel},e.prototype.setButtonSelected=function(t){t&&(this.selectedButton=t)},e.prototype.getButtonSelected=function(){return this.selectedButton},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(Sc.DOM_PROMPT_TAGNAME);return r.appendChild(t.createTextNode(this.promptButtonToString(this.getButtonSelected()))),[r]},e.prototype.getJsonElements=function(){var t={};return t[Sc.JSON_PROMPT_KEYNAME]=this.promptButtonToString(this.getButtonSelected()),t},e.prototype.getComponentJson=function(){var t;return t={},t[Sc.JSON_TITLE_KEYNAME]=this.getTitle(),t[Sc.JSON_QUESTION_KEYNAME]=this.getQuestion(),t[Sc.JSON_PROMPTYESTEXT_KEYNAME]=this.getYesButtonText(),t[Sc.JSON_PROMPTNOTEXT_KEYNAME]=this.getNoButtonText(),t},e.prototype.promptButtonToString=function(t){switch(t){case 0:return"Unselected";case 1:return"Yes";case 2:return"No";default:return"Unknown"}},e}();(function(e){var t=function(){function r(){}return r}();e.PromptComponentData=t})(wI||(wI={}));NI.default=wI});var Gy=k(DI=>{"use strict";Object.defineProperty(DI,"__esModule",{value:!0});var wp=Ee(),OI=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.question)throw new Error("data.question must not be null or empty");if(!t.ratingValuesAscending||t.ratingValuesAscending.length<2)throw new Error("data.ratingValuesAscending must not be null or have less than two choices");t.ratingValuesAscending.forEach(function(r){if(!r)throw new Error("rating values must not contain null or empty")}),this.data=t,this.selectedIndex=-1}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"Rating"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getRatingValuesAscending=function(){return this.data.ratingValuesAscending},e.prototype.getSelectedRating=function(){return this.isRatingIndexValid(this.selectedIndex)?this.data.ratingValuesAscending[this.selectedIndex]:""},e.prototype.setSelectedRatingIndex=function(t){this.isRatingIndexValid(t)?this.selectedIndex=t:this.selectedIndex=-1},e.prototype.getSelectedRatingIndex=function(){return this.selectedIndex},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");var r=t.createElement(wp.DOM_RATING_TAGNAME);return this.isRatingIndexValid(this.getSelectedRatingIndex())?r.appendChild(t.createTextNode(this.getNormalizedRatingScore().toFixed(6))):r.appendChild(t.createTextNode("Not rated")),[r]},e.prototype.getJsonElements=function(){var t={};return this.isRatingIndexValid(this.getSelectedRatingIndex())?t[wp.JSON_RATING_KEYNAME]=this.getNormalizedRatingScore():t[wp.JSON_RATING_KEYNAME]="Not rated",t},e.prototype.getComponentJson=function(){var t;return t={},t[wp.JSON_QUESTION_KEYNAME]=this.getQuestion(),t[wp.JSON_RATINGOPTIONS_KEYNAME]=this.getRatingValuesAscending(),t},e.prototype.getNormalizedRatingScore=function(){return this.isRatingIndexValid(this.getSelectedRatingIndex())?this.data.isZeroBased?this.selectedIndex/(this.data.ratingValuesAscending.length-1):(this.selectedIndex+1)/this.data.ratingValuesAscending.length:-1},e.prototype.isRatingIndexValid=function(t){return t>=0&&t<this.data.ratingValuesAscending.length},e}();(function(e){var t=function(){function r(){}return r}();e.RatingComponentData=t})(OI||(OI={}));DI.default=OI});var OM=k(Np=>{"use strict";var KY=Np&&Np.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Np,"__esModule",{value:!0});var gn=Ee(),IM=ky(),xM=II(),AM=bM(),wM=By(),NM=Gy(),vu=je(),QY=gu(),JY=$a(),st=vu.isNOU,PI=function(e){KY(t,e);function t(r){var n,i,o,a,s,u=e.call(this)||this;if(st(r))throw new Error("data must not be null");return u.surveyInfo=new JY.default(r.baseData),u.contentValid=!vu.isNOU((n=r.promptData)===null||n===void 0?void 0:n.question)&&!vu.isNOU((i=r.promptData)===null||i===void 0?void 0:i.title)&&!vu.isNOU((o=r.ratingData)===null||o===void 0?void 0:o.question)&&!vu.isNOU((a=r.ratingData)===null||a===void 0?void 0:a.ratingValuesAscending)&&!vu.isNOU((s=r.commentData)===null||s===void 0?void 0:s.question),r.uxSchema&&u.setUxSchema(r.uxSchema),u.contentValid&&(u.prompt=new wM.default(r.promptData),u.question=r.commentData?new IM.default(r.commentData):null,u.rating=r.ratingData?new NM.default(r.ratingData):null,u.multipleChoice=r.multipleChoiceData?new AM.default(r.multipleChoiceData):null,u.cvSurvey=r.cvSurveyData?new xM.default(r.cvSurveyData):null),u}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeFps=function(r,n,i){if(st(r)||st(n)||st(i))return null;var o=[],a=[],s=i.content,u=!0;if((st(s)||st(s.prompt)||st(s.rating)&&st(s.multipleChoice)&&st(s.comment))&&(u=!1,!i.uxSchema))return null;var l=new t.FpsSurveyData;if(l.baseData=r,l.uxSchema=i.uxSchema,u){if(l.promptData=new wM.default.PromptComponentData,l.promptData.title=n.getCustomString(s.prompt.title),l.promptData.question=n.getCustomString(s.prompt.question),l.promptData.yesButtonLabel=n.getCustomString(s.prompt.yesLabel),l.promptData.noButtonLabel=n.getCustomString(s.prompt.noLabel),st(l.promptData.title)||st(l.promptData.question)||st(l.promptData.yesButtonLabel)||st(l.promptData.noButtonLabel))return null;if(s.rating){l.ratingData=new NM.default.RatingComponentData,l.ratingData.question=n.getCustomString(s.rating.question),l.ratingData.isZeroBased=s.rating.isZeroBased;for(var c=0,f=s.rating.ratingValuesAscending;c<f.length;c++){var d=f[c],p=n.getCustomString(d);if(st(p))return null;o.push(p)}if(l.ratingData.ratingValuesAscending=o,st(l.ratingData.question)||st(l.ratingData.ratingValuesAscending))return null}if(s.multipleChoice){l.multipleChoiceData=new AM.default.MultipleChoiceComponentData,l.multipleChoiceData.question=n.getCustomString(s.multipleChoice.question),l.multipleChoiceData.minNumberOfSelectedOptions=s.multipleChoice.minNumberOfSelectedOptions,l.multipleChoiceData.maxNumberOfSelectedOptions=s.multipleChoice.maxNumberOfSelectedOptions;for(var v=0,h=s.multipleChoice.availableOptions;v<h.length;v++){var d=h[v],p=n.getCustomString(d);if(st(p))return null;a.push(p)}if(l.multipleChoiceData.availableOptions=a,st(l.multipleChoiceData.question)||st(l.multipleChoiceData.availableOptions))return null}if(s.comment&&(l.commentData=new IM.default.CommentComponentData,l.commentData.question=n.getCustomString(s.comment.question),st(l.commentData.question))||s.cvSurvey&&(l.cvSurveyData=new xM.default.CVSurveyComponentData,l.cvSurveyData.customerVoiceFormId=s.cvSurvey.customerVoiceFormId,st(l.cvSurveyData.customerVoiceFormId)))return null}return this.make(l)},t.prototype.getType=function(){return gn.SurveyType.Fps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getMultipleChoiceComponent=function(){return this.multipleChoice},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){switch(r){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"MultipleChoice":return this.getMultipleChoiceComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(r){if(st(r))throw new Error("Document must not be null");var n=r.createElement(gn.DOM_FPS_TAGNAME);return this.getSurveyInfo().getDomElements(r).forEach(function(i){st(i)||n.appendChild(i)}),this.getCommentComponent().getDomElements(r).forEach(function(i){st(i)||n.appendChild(i)}),this.getRatingComponent()&&this.getRatingComponent().getDomElements(r).forEach(function(i){st(i)||n.appendChild(i)}),this.getMultipleChoiceComponent()&&this.getMultipleChoiceComponent().getDomElements(r).forEach(function(i){st(i)||n.appendChild(i)}),[n]},t.prototype.getJsonElements=function(){var r,n={};return n=vu.overrideValues(this.getSurveyInfo().getJsonElements(),n),n[gn.JSON_APPLICATION_KEYNAME]={},n[gn.JSON_APPLICATION_KEYNAME][gn.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify((r={},r[gn.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),r[gn.JSON_SURVEYSPECIFICDATA_KEYNAME]=this.makeResponseString(),r)),n},t.prototype.isContentValid=function(){return this.contentValid},t.prototype.makeResponseString=function(){var r={};return this.question&&(r[gn.JSON_COMMENT_KEYNAME]=[this.getCommentComponent().getSubmittedText()]),this.multipleChoice&&(r[gn.JSON_MULTIPLECHOICE_KEYNAME]=[this.getMultipleChoiceComponent().getOptionSelectedStates()]),this.rating&&(r[gn.JSON_RATING_KEYNAME]=[{numberOfOptions:this.getRatingComponent().getRatingValuesAscending().length,selectedRating:this.getRatingComponent().getSelectedRatingIndex()}]),JSON.stringify(r)},t.prototype.makeSurveyStrings=function(){var r={};return this.prompt&&(r[gn.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(r[gn.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(r[gn.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),this.multipleChoice&&(r[gn.JSON_MULTIPLECHOICE_KEYNAME]=[this.multipleChoice.getComponentJson()]),JSON.stringify(r)},t}(QY.Survey);(function(e){var t=function(){function r(){}return r}();e.FpsSurveyData=t})(PI||(PI={}));Np.default=PI});var PM=k(Op=>{"use strict";var XY=Op&&Op.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Op,"__esModule",{value:!0});var $Y=Ee(),ZY=je(),e8=gu(),t8=$a(),DM=ZY.isNOU,FI=function(e){XY(t,e);function t(r){var n=e.call(this)||this;if(!r)throw new Error("data must not be null");if(n.surveyInfo=new t8.default(r.baseData),DM(n.surveyInfo.getMetadata()))throw new Error("metadata must not be null");return n}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeCustom=function(r){if(DM(r))return null;var n=new t.GenericMessagingSurfaceSurveyData;return n.baseData=r,this.make(n)},t.prototype.getType=function(){return $Y.SurveyType.GenericMessagingSurface},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){return null},t.prototype.getDomElements=function(r){return[]},t.prototype.getJsonElements=function(){return{}},t}(e8.Survey);(function(e){var t=function(){function r(){}return r}();e.GenericMessagingSurfaceSurveyData=t})(FI||(FI={}));Op.default=FI});var FM=k(LI=>{"use strict";Object.defineProperty(LI,"__esModule",{value:!0});var Dp=Ee(),RI=function(){function e(t){if(!t)throw new Error("data must not be null");if(!t.question)throw new Error("data.question must not be null or empty");if(!t.title)throw new Error("data.title must not be null or empty");if(!t.url)throw new Error("data.url must not be null or empty");this.data=t}return e.make=function(t){try{return new e(t)}catch(r){return null}},e.prototype.getType=function(){return"Intercept"},e.prototype.getTitle=function(){return this.data.title},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getUrl=function(){return this.data.url},e.prototype.getDomElements=function(t){if(!t)throw new Error("Document must not be null");return[t.createElement(Dp.DOM_INTERCEPT_TAGNAME)]},e.prototype.getJsonElements=function(){var t;return t={},t[Dp.JSON_INTERCEPT_KEYNAME]="",t},e.prototype.getComponentJson=function(){var t;return t={},t[Dp.JSON_TITLE_KEYNAME]=this.getTitle(),t[Dp.JSON_QUESTION_KEYNAME]=this.getQuestion(),t[Dp.JSON_INTERCEPTURL_KEYNAME]=this.getUrl(),t},e}();(function(e){var t=function(){function r(){}return r}();e.InterceptComponentData=t})(RI||(RI={}));LI.default=RI});var LM=k(Pp=>{"use strict";var r8=Pp&&Pp.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pp,"__esModule",{value:!0});var n8=Ee(),RM=FM(),i8=je(),o8=gu(),a8=$a(),Zo=i8.isNOU,UI=function(e){r8(t,e);function t(r){var n=e.call(this)||this;if(Zo(r))throw new Error("data must not be null");return n.surveyInfo=new a8.default(r.baseData),n.intercept=new RM.default(r.interceptData),n}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeIntercept=function(r,n,i){if(Zo(r)||Zo(n)||Zo(i))return null;var o=i.content;if(Zo(o)||Zo(o.intercept))return null;var a=new t.InterceptSurveyData;return a.baseData=r,a.interceptData=new RM.default.InterceptComponentData,a.interceptData.title=n.getCustomString(o.intercept.title),a.interceptData.question=n.getCustomString(o.intercept.question),a.interceptData.url=n.getCustomString(o.intercept.url),Zo(a.interceptData.title)||Zo(a.interceptData.question)||Zo(a.interceptData.url)?null:this.make(a)},t.prototype.getType=function(){return n8.SurveyType.Intercept},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getInterceptComponent=function(){return this.intercept},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){return r==="Intercept"?this.getInterceptComponent():null},t.prototype.getDomElements=function(r){return[]},t.prototype.getJsonElements=function(){return{}},t}(o8.Survey);(function(e){var t=function(){function r(){}return r}();e.InterceptSurveyData=t})(UI||(UI={}));Pp.default=UI});var VM=k(Fp=>{"use strict";var s8=Fp&&Fp.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Fp,"__esModule",{value:!0});var UM=Ee(),kM=ky(),MM=By(),BM=Gy(),GM=je(),u8=gu(),l8=$a(),jt=GM.isNOU,kI=GM.overrideValues,MI=function(e){s8(t,e);function t(r){var n=e.call(this)||this;if(jt(r))throw new Error("data must not be null");return n.surveyInfo=new l8.default(r.baseData),n.prompt=new MM.default(r.promptData),n.question=new kM.default(r.commentData),n.rating=new BM.default(r.ratingData),n}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeNlqs=function(r,n,i){if(jt(r)||jt(n)||jt(i))return null;var o=[],a=i.content;if(jt(a)||jt(a.comment)||jt(a.prompt)||jt(a.rating))return null;var s=new t.NlqsSurveyData;s.baseData=r,s.promptData=new MM.default.PromptComponentData,s.ratingData=new BM.default.RatingComponentData,s.commentData=new kM.default.CommentComponentData,s.promptData.title=n.getCustomString(a.prompt.title),s.promptData.question=n.getCustomString(a.prompt.question),s.promptData.yesButtonLabel=n.getCustomString(a.prompt.yesLabel),s.promptData.noButtonLabel=n.getCustomString(a.prompt.noLabel),s.ratingData.question=n.getCustomString(a.rating.question),s.ratingData.isZeroBased=a.rating.isZeroBased,s.commentData.question=n.getCustomString(a.comment.question);for(var u=0,l=a.rating.ratingValuesAscending;u<l.length;u++){var c=l[u],f=n.getCustomString(c);if(jt(f))return null;o.push(f)}return s.ratingData.ratingValuesAscending=o,jt(s.ratingData.question)||jt(s.commentData.question)||jt(s.promptData.title)||jt(s.promptData.question)||jt(s.promptData.yesButtonLabel)||jt(s.promptData.noButtonLabel)||jt(s.ratingData.ratingValuesAscending)?null:this.make(s)},t.prototype.getType=function(){return UM.SurveyType.Nlqs},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){switch(r){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();default:return null}},t.prototype.getDomElements=function(r){if(jt(r))throw new Error("Document must not be null");var n=r.createElement(UM.DOM_NLQS_TAGNAME);return this.getSurveyInfo().getDomElements(r).forEach(function(i){jt(i)||n.appendChild(i)}),this.getCommentComponent().getDomElements(r).forEach(function(i){jt(i)||n.appendChild(i)}),this.getRatingComponent().getDomElements(r).forEach(function(i){jt(i)||n.appendChild(i)}),[n]},t.prototype.getJsonElements=function(){var r={};return r=kI(this.getSurveyInfo().getJsonElements(),r),r=kI(this.getCommentComponent().getJsonElements(),r),r=kI(this.getRatingComponent().getJsonElements(),r),r},t}(u8.Survey);(function(e){var t=function(){function r(){}return r}();e.NlqsSurveyData=t})(MI||(MI={}));Fp.default=MI});var zM=k(Rp=>{"use strict";var c8=Rp&&Rp.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Rp,"__esModule",{value:!0});var ea=Ee(),Vy=ky(),HM=II(),Hy=By(),zy=Gy(),hu=je(),f8=gu(),d8=$a(),Lr=hu.isNOU,BI=hu.overrideValues,GI=function(e){c8(t,e);function t(r){var n,i,o,a,s,u=e.call(this)||this;if(!r)throw new Error("data must not be null");return r.uxSchema&&u.setUxSchema(r.uxSchema),u.contentValid=!hu.isNOU((n=r.promptData)===null||n===void 0?void 0:n.question)&&!hu.isNOU((i=r.promptData)===null||i===void 0?void 0:i.title)&&!hu.isNOU((o=r.ratingData)===null||o===void 0?void 0:o.question)&&!hu.isNOU((a=r.ratingData)===null||a===void 0?void 0:a.ratingValuesAscending)&&!hu.isNOU((s=r.commentData)===null||s===void 0?void 0:s.question),u.surveyInfo=new d8.default(r.baseData),u.contentValid&&(u.prompt=new Hy.default(r.promptData),u.question=new Vy.default(r.commentData),u.rating=new zy.default(r.ratingData),u.cvSurvey=r.cvSurveyData?new HM.default(r.cvSurveyData):null),u}return t.make=function(r){try{return new t(r)}catch(n){return null}},t.makeCustom=function(r,n,i){if(Lr(r)||Lr(n)||Lr(i))return null;var o=[],a=i.content,s=!0;if((Lr(a)||Lr(a.comment)||Lr(a.prompt)||Lr(a.rating))&&(s=!1,!i.uxSchema))return null;var u=new t.NpsSurveyData;if(u.baseData=r,u.uxSchema=i.uxSchema,s){u.promptData=new Hy.default.PromptComponentData,u.ratingData=new zy.default.RatingComponentData,u.commentData=new Vy.default.CommentComponentData,u.promptData.title=n.getCustomString(a.prompt.title),u.promptData.question=n.getCustomString(a.prompt.question),u.promptData.yesButtonLabel=n.getCustomString(a.prompt.yesLabel),u.promptData.noButtonLabel=n.getCustomString(a.prompt.noLabel),u.ratingData.question=n.getCustomString(a.rating.question),u.ratingData.isZeroBased=a.rating.isZeroBased,u.commentData.question=n.getCustomString(a.comment.question);for(var l=0,c=a.rating.ratingValuesAscending;l<c.length;l++){var f=c[l],d=n.getCustomString(f);if(Lr(d))return null;o.push(d)}if(u.ratingData.ratingValuesAscending=o,Lr(u.ratingData.question)||Lr(u.commentData.question)||Lr(u.promptData.title)||Lr(u.promptData.question)||Lr(u.promptData.yesButtonLabel)||Lr(u.promptData.noButtonLabel)||Lr(u.ratingData.ratingValuesAscending)||a.cvSurvey&&(u.cvSurveyData=new HM.default.CVSurveyComponentData,u.cvSurveyData.customerVoiceFormId=a.cvSurvey.customerVoiceFormId,Lr(u.cvSurveyData.customerVoiceFormId)))return null}return this.make(u)},t.make5Point=function(r,n){if(!r||!n)return null;var i=new t.NpsSurveyData;i.baseData=r,i.ratingData=new zy.default.RatingComponentData,i.ratingData.isZeroBased=!1,i.commentData=new Vy.default.CommentComponentData,i.promptData=new Hy.default.PromptComponentData,i.ratingData.question=n.loadStringResource(4),i.commentData.question=n.loadStringResource(21),i.promptData.title=n.loadStringResource(0),i.promptData.question=n.loadStringResource(1),i.promptData.yesButtonLabel=n.loadStringResource(2),i.promptData.noButtonLabel=n.loadStringResource(3);var o=new Array(5);return o[0]=n.loadStringResource(16),o[1]=n.loadStringResource(17),o[2]=n.loadStringResource(18),o[3]=n.loadStringResource(19),o[4]=n.loadStringResource(20),!i.ratingData.question||!i.commentData.question||!i.promptData.title||!i.promptData.question||!i.promptData.yesButtonLabel||!i.promptData.noButtonLabel||!o[0]||!o[1]||!o[2]||!o[3]||!o[4]?null:(i.ratingData.ratingValuesAscending=o,this.make(i))},t.make11Point=function(r,n){if(!r||!n)return null;var i=new t.NpsSurveyData;i.baseData=r,i.ratingData=new zy.default.RatingComponentData,i.ratingData.isZeroBased=!0,i.commentData=new Vy.default.CommentComponentData,i.promptData=new Hy.default.PromptComponentData,i.ratingData.question=n.loadStringResource(4),i.commentData.question=n.loadStringResource(21),i.promptData.title=n.loadStringResource(0),i.promptData.question=n.loadStringResource(1),i.promptData.yesButtonLabel=n.loadStringResource(2),i.promptData.noButtonLabel=n.loadStringResource(3);var o=new Array(11);return o[0]=n.loadStringResource(5),o[1]=n.loadStringResource(6),o[2]=n.loadStringResource(7),o[3]=n.loadStringResource(8),o[4]=n.loadStringResource(9),o[5]=n.loadStringResource(10),o[6]=n.loadStringResource(11),o[7]=n.loadStringResource(12),o[8]=n.loadStringResource(13),o[9]=n.loadStringResource(14),o[10]=n.loadStringResource(15),!i.ratingData.question||!i.commentData.question||!i.promptData.title||!i.promptData.question||!i.promptData.yesButtonLabel||!i.promptData.noButtonLabel||!o[0]||!o[1]||!o[2]||!o[3]||!o[4]||!o[5]||!o[6]||!o[7]||!o[8]||!o[9]||!o[10]?null:(i.ratingData.ratingValuesAscending=o,this.make(i))},t.prototype.getType=function(){return ea.SurveyType.Nps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getTags=function(){return this.surveyInfo.getTags()},t.prototype.getComponent=function(r){switch(r){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(r){if(!r)throw new Error("Document must not be null");var n=r.createElement(ea.DOM_NPS_TAGNAME);return this.getSurveyInfo().getDomElements(r).forEach(function(i){i&&n.appendChild(i)}),this.getCommentComponent().getDomElements(r).forEach(function(i){i&&n.appendChild(i)}),this.getRatingComponent().getDomElements(r).forEach(function(i){i&&n.appendChild(i)}),[n]},t.prototype.getJsonElements=function(){var r,n={};return n=BI(this.getSurveyInfo().getJsonElements(),n),n=BI(this.getCommentComponent().getJsonElements(),n),n=BI(this.getRatingComponent().getJsonElements(),n),n[ea.JSON_APPLICATION_KEYNAME]={},n[ea.JSON_APPLICATION_KEYNAME][ea.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify((r={},r[ea.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),r)),n},t.prototype.isContentValid=function(){return this.contentValid},t.prototype.makeSurveyStrings=function(){var r={};return this.prompt&&(r[ea.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(r[ea.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(r[ea.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),JSON.stringify(r)},t}(f8.Survey);(function(e){var t=function(){function r(){}return r}();e.NpsSurveyData=t})(GI||(GI={}));Rp.default=GI});var WM=k(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.CampaignSurveyFactory=void 0;var p8=Ee(),jy=SM(),jM=_M(),g8=TM(),m8=OM(),v8=PM(),h8=LM(),y8=VM(),VI=zM(),S8=$a(),YM=je(),fo=du(),qM=YM.dateToShortUtcString,qy=YM.isNOU,_8=function(){function e(){}return e.makeSurvey=function(t,r,n){if(!t||!r||!r.surveyTemplate||!n)return null;var i=e.makeSurveyDataSourceData(t,r),o=r.surveyTemplate;return o instanceof fo.CampaignSurveyTemplateNps5PointStatic?VI.default.make5Point(i,n):o instanceof fo.CampaignSurveyTemplateNps11PointStatic?VI.default.make11Point(i,n):o instanceof fo.CampaignSurveyTemplateFps?m8.default.makeFps(i,n,o):o instanceof fo.CampaignSurveyTemplateNlqs?y8.default.makeNlqs(i,n,o):o instanceof fo.CampaignSurveyTemplateNps?VI.default.makeCustom(i,n,o):o instanceof fo.CampaignSurveyTemplateGenericMessagingSurface?v8.default.makeCustom(i):o instanceof fo.CampaignSurveyTemplateIntercept?h8.default.makeIntercept(i,n,o):o instanceof fo.CampaignSurveyTemplateDialog?g8.default.makeCustom(i):null},e.makeSurveyDataSourceData=function(t,r){if(!t||!r||!r.surveyTemplate)return null;var n=r.surveyTemplate,i=new S8.default.SurveyDataSourceData;return i.activationEvent=e.makeEvent(t,n.activationEvent),i.metadata=e.makeMetadata(n.metadata),i.id=t.LastSurveyId,i.backEndIdentifier=t.CampaignId,i.expirationTimeUtc=qM(t.LastSurveyExpirationTimeUtc),i.governedChannelType=r.governedChannelType,i.startTimeUtc=qM(t.LastSurveyStartTimeUtc),i.additionalDataRequested=r.additionalDataRequested||[],i.launcherType=r.launcherType||p8.LAUNCHER_TYPE_DEFAULT,i.preferredLaunchType=r.surveyTemplate.preferredLaunchType||"Default",i.businessLevel=r.businessLevel,i.tags=r.tags,i.treatmentType=r.treatmentType,qy(n.maxLaunches)||(i.maxLaunches=n.maxLaunches),qy(n.maxLaunchesPerSession)||(i.maxLaunchesPerSession=n.maxLaunchesPerSession),i},e.makeCountedActivityEventData=function(t){if(!t)return null;var r=new jy.CountedActivityEventData;return r.activity=t.activity,r.count=t.count,r.isAggregate=t.isAggregate,r},e.makeCountedActivityEvent=function(t,r){if(!t||!r)return null;var n=e.makeCountedActivityEventData(r);return n?new jy.CountedActivityEvent(n):null},e.makeCountedActivitySequenceEvent=function(t,r){if(!t||!r)return null;var n=new jy.CountedActivitySequenceEventData;n.sequence=[];for(var i=0,o=r.sequence;i<o.length;i++){var a=o[i],s=e.makeCountedActivityEventData(a);if(!s)return null;n.sequence.push(s)}return new jy.CountedActivitySequenceEvent(n)},e.makeEvent=function(t,r){return r instanceof fo.CampaignSurveyEventCountedActivity?e.makeCountedActivityEvent(t,r):r instanceof fo.CampaignSurveyEventCountedActivitySequence?e.makeCountedActivitySequenceEvent(t,r):null},e.makeMetadata=function(t){if(qy(t)||qy(t.contentMetadata))return null;var r=new jM.Metadata;return r.contentMetadata=t.contentMetadata,new jM.SurveyMetadata(r)},e}();Yy.CampaignSurveyFactory=_8});var Wy=k(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.getFeatureGateProvider=_c.setFeatureGateProvider=void 0;var KM;function C8(e){KM=e}_c.setFeatureGateProvider=C8;function E8(){return KM}_c.getFeatureGateProvider=E8});var XM=k(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.CampaignManager=void 0;var po=je(),Cc=Ee(),Lp=du(),T8=pI(),b8=WM(),ta=ln(),QM=Wy(),Zn=Jn(),JM=po.getDistantFuture,Up=po.getDistantPast,HI=po.isArray,ei=po.isNOU,I8=function(){function e(t,r,n,i,o,a,s,u,l,c,f,d,p){var v,h;if(!t)throw new Error("stateProvider must not be null");if(!HI(r))throw new Error("definitionProviders is either null or not an array type");if(!n)throw new Error("stringProvider must not be null");if(ei(o))throw new Error("currentBuildNumber must not be null");this.messagingEnabled=d,this.surveyEnabled=p,this.campaignStates={},this.campaignDefinitions={},this.userFacts=[],this.stateProvider=t,this.definitionProviders=r,this.stringProvider=n,this.surveyCandidacyChecker=l,this.userFactsProvider=u,this.environmentProvider=i,this.currentBuildNumber=o,a=a||new Date,this.isPriorityEnabled=s,this.logExperimentTrigger=c,this.campaignTelemetrySamplingConfig=f,this.isFloodgateEnabledConfigAvailable=(v=QM.getFeatureGateProvider())===null||v===void 0?void 0:v.getBoolFeatureStatus("FloodgateEnabledConfigAvailable",!1),this.floodgateEnabledTelemetrySamplingRate=(h=QM.getFeatureGateProvider())===null||h===void 0?void 0:h.getIntFeatureStatus("FloodgateEnabledTelemetrySamplingRate",.1)}return e.isStateUpForNomination=function(t,r,n,i){if(!t||!r)return!1;if(n=n||new Date,t.ForceCandidacy)return!0;var o=r.nominationScheme.getCampaignCooldown(t.IsCandidate&&t.DidCandidateTriggerSurvey);return o?e.hasBuildChangeDurationElapsed(o,t.LastNominationBuildNumber,i)?!0:e.hasTimeIntervalDurationElapsed(o,t.getCooldownStartDate(),n):!1},e.isDateInRange=function(t,r,n){return t=t||new Date,r=r||Up(),n=n||JM(),r.getTime()<=t.getTime()&&n.getTime()>=t.getTime()},e.hasTimeIntervalDurationElapsed=function(t,r,n){if(ei(t)||!(t instanceof Lp.CampaignDurationTimeInterval)||!r||!n)return!1;var i=po.addSecondsWithoutOverflow(r,t.intervalSeconds);return n.getTime()>=i.getTime()},e.hasBuildChangeDurationElapsed=function(t,r,n){return ei(t)||!(t instanceof Lp.CampaignDurationSingleBuildChange)?!1:ei(r)||ei(n)?r===null!=(n===null):r!==n},e.isCampaignInScope=function(t,r,n,i){return!(!t||(r=r||new Date,!e.isDateInRangeWithDefinition(r,t))||t.scope&&((t.scope instanceof Lp.CampaignScopeUserFactAny||t.scope instanceof Lp.CampaignScopeUserFactAll)&&t.scope.setUserFactsProvider(i),t.scope instanceof Lp.CampaignScopeEnvironmentCrossProduct&&t.scope.setEnvironmentProvider(n),!t.scope.isInScope()))},e.isDateInRangeWithDefinition=function(t,r){return r?(t=t||new Date,e.isDateInRange(t,r.startTime?r.startTime:JM(),r.endTime)):!1},e.prototype.LogExperimentTrigger=function(t){if(ei(this.logExperimentTrigger))Zn.TelemetryLogger.getTelemetryLogger().log_Error(ta.TelemetryEvent.CampaignGovernance.LogExperimentTrigger.Undefined,"LogExperimentTrigger does not exist");else try{this.logExperimentTrigger.LogExperimentTrigger(t)}catch(r){Zn.TelemetryLogger.getTelemetryLogger().log_Error(ta.TelemetryEvent.CampaignGovernance.LogExperimentTrigger.Failed,"Failed to run LogExperimentTrigger "+r)}},e.prototype.getActiveSurveys=function(){var t={},r=this.getPrioritizedCampaigns(),n=[];for(var i in this.campaignStates)if(Object.prototype.hasOwnProperty.call(this.campaignStates,i)){var o=this.campaignStates[i];if(!o.IsCandidate)continue;var a=r[o.CampaignId];if(!a)continue;var s=b8.CampaignSurveyFactory.makeSurvey(o,a,this.stringProvider);if(!s||this.surveyCandidacyChecker&&!this.surveyCandidacyChecker.isSurveyTrackable(s))continue;t[s.getSurveyInfo().getId()]=s,n.push(s.getCampaignId())}return this.logActiveSurveys(r,n),t},e.prototype.logActiveSurveys=function(t,r){var n=[];for(var i in this.campaignStates){var o=this.campaignStates[i],a={CampaignId:i,IsCandidate:o.IsCandidate,DidCandidateTriggerSurvey:o.DidCandidateTriggerSurvey,SurveyId:o.LastSurveyId};n.push(a)}Zn.TelemetryLogger.getTelemetryLogger().log_Event(ta.TelemetryEvent.FloodgateEngine.GetActiveSurveys,{Message:JSON.stringify({CampaignStates:n,PrioritizedCampaigns:Object.keys(t),ActiveCampaigns:r,NewNominationCampaigns:this.newNominationCampaigns})},0)},e.prototype.modifyCampaignSurveyTakenDate=function(t,r,n){var i=this.campaignStates[t];if(i){r=r||new Date;var o=this.campaignDefinitions[t].nominationScheme.cooldownPeriod.asTimeIntervalSeconds();i.markCurrentSurveyTakenOnDate(r,o,n),this.saveCurrentState()}},e.prototype.getCampaignStates=function(){return this.campaignStates},e.prototype.getCampaignDefinitions=function(){return this.campaignDefinitions},e.prototype.getUserFacts=function(){return this.userFacts},e.prototype.onSurveyActivated=function(t,r){t&&this.modifyCampaignSurveyTakenDate(t.getBackEndId(),new Date,r)},e.prototype.refreshSurveyDefinitions=function(t,r){this.refreshSurveyDefinitionsPrivate(t,r||new Date)},e.prototype.refreshSurveyDefinitionsAsync=function(t,r){var n=this;return new Promise(function(i,o){n.refreshSurveyDefinitionsPrivateAsync(t,r||new Date).then(function(){i()}).catch(function(s){o(s)})})},e.prototype.getAppSurveys=function(){return this.getActiveSurveys()},e.prototype.saveCurrentState=function(){var t=po.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);this.stateProvider.save(t)},e.prototype.refreshSurveyDefinitionsPrivate=function(t,r){this.needRefreshSurveyDefinitions()?(this.lastCampaignRefreshTime=new Date,this.campaignDefinitions={},this.userFacts=[],this.loadFilterCampaigns(r,t)):this.FilterCampaignsOnRestart(r,t),this.campaignStates={},this.LoadFilterCampaignStates(r),this.evaluateCampaigns(r)},e.prototype.refreshSurveyDefinitionsPrivateAsync=function(t,r){var n=this,i;return this.campaignStates={},this.campaignDefinitions={},this.userFacts=[],this.lastCampaignRefreshTime=(i=this.lastCampaignRefreshTime)!==null&&i!==void 0?i:new Date,new Promise(function(o,a){n.loadAndFilterCampaignDataAsync(r,t).then(function(){n.evaluateCampaigns(r),o()}).catch(function(u){a(u)})})},e.prototype.loadAndFilterCampaignDataAsync=function(t,r){var n=this;t=t||new Date;for(var i=[],o=[],a=this.userFactsProvider&&this.userFactsProvider.loadAsync(),s=0,u=Object.keys(this.definitionProviders);s<u.length;s++){var l=u[s],c=this.definitionProviders[l],f=c&&c.loadAsync();ei(f)||(f=f.catch(function(){Zn.TelemetryLogger.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider"),Promise.resolve()}),o.push(f))}return new Promise(function(d,p){Promise.all(o).then(function(v){for(var h,g=0,m=Object.keys(v);g<m.length;g++){var y=m[g],S=v[y];HI(S)&&(i=i.concat(S))}n.logInitialLoadCampaigns(i,"loadAsync",(h=n.campaignTelemetrySamplingConfig)===null||h===void 0?void 0:h.campaignInitialLoadSamplingRate);var E=function(D){n.userFacts=D||[],n.FilterCampaignData(t,r,i),d()};ei(a)?E():a.then(function(D){E(D)}).catch(function(){Zn.TelemetryLogger.getTelemetryLogger().log_Error(ta.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider"),E()})}).catch(function(h){Zn.TelemetryLogger.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider")})})},e.prototype.logInitialLoadCampaigns=function(t,r,n){var i,o,a;if(n===void 0&&(n=.1),n>0){var s=[];for(var u in t){var l=t[u],c={id:l.campaignId,businessLevel:l.businessLevel,treatmentType:l.treatmentType,scope:l.scope,telemetryEventName:(a=(o=(i=l==null?void 0:l.surveyTemplate)===null||i===void 0?void 0:i.metadata)===null||o===void 0?void 0:o.contentMetadata)===null||a===void 0?void 0:a.telemetryEventName,userHost:this.environmentProvider,governedChannelType:l.governedChannelType,loadMethod:r};s.push(c)}Zn.TelemetryLogger.getTelemetryLogger().log_Event(ta.TelemetryEvent.FloodgateEngine.InitialLoadedDefinitions,{Message:JSON.stringify(s)},n)}},e.prototype.isCampaignTypeEnabled=function(t){var r=!0;return this.isFloodgateEnabledConfigAvailable&&(t==Cc.GovernedChannelType.TeachingMessage||t==Cc.GovernedChannelType.BusinessBar?r=this.messagingEnabled:r=this.surveyEnabled),r},e.prototype.loadFilterCampaigns=function(t,r){var n,i;t=t||new Date;for(var o=[],a=0,s=Object.keys(this.definitionProviders);a<s.length;a++){var u=s[a];try{var l=this.definitionProviders[u]&&this.definitionProviders[u].load();HI(l)&&(o=o.concat(l))}catch(y){Zn.TelemetryLogger.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider. "+y.toString())}}this.logInitialLoadCampaigns(o,"load",(n=this.campaignTelemetrySamplingConfig)===null||n===void 0?void 0:n.campaignInitialLoadSamplingRate);try{this.userFacts=this.userFactsProvider&&this.userFactsProvider.load()||[]}catch(y){Zn.TelemetryLogger.getTelemetryLogger().log_Error(ta.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider. "+y)}var c=new Array,f=new Array,d=new Array,p=new Array,v=new Array;for(var h in o)if(Object.prototype.hasOwnProperty.call(o,h)){var g=o[h];if(!this.isCampaignTypeEnabled(g.governedChannelType)){c.push(g.campaignId);continue}if(!e.isCampaignInScope(g,t,this.environmentProvider,this.userFactsProvider))continue;if(p.push(g.campaignId),g.treatmentType!==255){var m=this.RetrieveTriggerEventDetail(g);ei(m)||f.push(m)}if(r&&r.indexOf(g.governedChannelType)<0&&g.businessLevel!==Cc.SurveyInfoBusinessLevel.Critical||(d.push(g.campaignId),g.treatmentType===0))continue;v.push(g.campaignId),this.campaignDefinitions[g.campaignId]=g}this.CampaignTypeDisabledTelemetry(c,this.messagingEnabled,this.surveyEnabled),this.GovernanceCheckTelemetry(d,p,v,(i=this.campaignTelemetrySamplingConfig)===null||i===void 0?void 0:i.passedCampaignGovernanceSamplingRate),f.length>0&&this.LogExperimentTrigger(f)},e.prototype.RetrieveTriggerEventDetail=function(t){var r,n,i;try{var o={id:t.campaignId,telemetryEventName:(i=(n=(r=t==null?void 0:t.surveyTemplate)===null||r===void 0?void 0:r.metadata)===null||n===void 0?void 0:n.contentMetadata)===null||i===void 0?void 0:i.telemetryEventName,treatmentType:ei(t.treatmentType)?255:t.treatmentType},a={triggerEvent:o.telemetryEventName,eventInfo:o};return a}catch(s){return Zn.TelemetryLogger.getTelemetryLogger().log_Error(ta.TelemetryEvent.CampaignGovernance.RetrieveTriggerEventDetail.Failed,"Failed to add trigger event detail "+s),null}},e.prototype.GovernanceCheckTelemetry=function(t,r,n,i){if(i===void 0&&(i=.1),i>0){var o={channelCleared:t.length>0?t:void 0,inScope:r.length>0?r:void 0,nominated:n.length>0?n:void 0};Object.values(o).some(function(a){return a!=null})&&Zn.TelemetryLogger.getTelemetryLogger().log_Event(ta.TelemetryEvent.CampaignGovernance.NominationCheckCampaigns,{Message:JSON.stringify(o)},i)}},e.prototype.CampaignTypeDisabledTelemetry=function(t,r,n){if(r===void 0&&(r=!0),n===void 0&&(n=!0),this.isFloodgateEnabledConfigAvailable&&t.length>0){var i={disabledCampaigns:t,messagingEnabled:r,surveyEnabled:n};Zn.TelemetryLogger.getTelemetryLogger().log_Event(ta.TelemetryEvent.FloodgateEngine.CampaignTypeDisabledDefinitions,{Message:JSON.stringify(i)},this.floodgateEnabledTelemetrySamplingRate)}},e.prototype.FilterCampaignData=function(t,r,n){var i,o={},a=new Array,s=new Array,u=new Array,l=new Array,c=new Array;for(var f in n)if(Object.prototype.hasOwnProperty.call(n,f)){var d=n[f];if(o[d.campaignId]=d,!this.isCampaignTypeEnabled(d.governedChannelType)){s.push(d.campaignId);continue}if(!e.isCampaignInScope(d,t,this.environmentProvider,this.userFactsProvider))continue;if(l.push(d.campaignId),d.treatmentType!==255){var p=this.RetrieveTriggerEventDetail(d);ei(p)||a.push(p)}if(r&&r.indexOf(d.governedChannelType)<0&&d.businessLevel!==Cc.SurveyInfoBusinessLevel.Critical||(u.push(d.campaignId),d.treatmentType===0))continue;c.push(d.campaignId),this.campaignDefinitions[d.campaignId]=d}this.CampaignTypeDisabledTelemetry(s,this.messagingEnabled,this.surveyEnabled),this.GovernanceCheckTelemetry(u,l,c,(i=this.campaignTelemetrySamplingConfig)===null||i===void 0?void 0:i.passedCampaignGovernanceSamplingRate),a.length>0&&this.LogExperimentTrigger(a);var v=this.stateProvider.load(),h=[];for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var g=v[f];Object.prototype.hasOwnProperty.call(this.campaignDefinitions,g.CampaignId)||h.push(g),this.campaignStates[g.CampaignId]=g}for(var f in h)if(Object.prototype.hasOwnProperty.call(h,f)){var g=h[f];if(!g)continue;var d=o[g.CampaignId],m=!1;d?e.isStateUpForNomination(g,d,t,this.currentBuildNumber)&&(m=!0):g.LastNominationTimeUtc.getTime()<=po.subtractSecondsWithoutOverflow(t,g.DeleteAfterSecondsWhenStale).getTime()&&(m=!0),m&&delete this.campaignStates[g.CampaignId]}},e.prototype.getPrioritizedCampaigns=function(){var t=this,r={},n={};return Object.keys(this.campaignDefinitions||[]).forEach(function(i){var o=t.campaignDefinitions[i];if(Object.prototype.hasOwnProperty.call(t.campaignStates,i)){var a=t.campaignStates[i];if(a.IsCandidate){r[i]=o;var s=o.tags&&o.tags.length>0?o.tags:[""];s.forEach(function(u){var l=u+"_"+o.governedChannelType;n[l]=n[l]||[],n[l].push(o)})}}}),Object.keys(n).forEach(function(i){var o;if(!(!t.isPriorityEnabled&&i.endsWith("_"+Cc.GovernedChannelType.Standard))){var a=n[i];if(!(a.length<=1)){var s=po.findHighestPriorityDefinition(a),u=s[0],l=s[1],c=(o=u.primaryPriority)!==null&&o!==void 0?o:0;l&&a.forEach(function(f){var d=f.primaryPriority;!ei(f.primaryPriority)&&d>c&&delete r[f.campaignId]})}}}),r},e.prototype.evaluateCampaigns=function(t){t=t||new Date,this.newNominationCampaigns=[];for(var r in this.campaignDefinitions)if(Object.prototype.hasOwnProperty.call(this.campaignDefinitions,r)){var n=this.campaignDefinitions[r],i=this.campaignStates[n.campaignId];if(!i||e.isStateUpForNomination(i,n,t,this.currentBuildNumber)){var o=i?i.LastSurveyId:"",a=i?i.LastSurveyStartTimeUtc:Up(),s=i?i.LastSurveyExpirationTimeUtc:Up(),u=i?i.LastSurveyActivatedTimeUtc:Up(),l=i?i.LastCooldownEndTimeUtc:Up();this.newNominationCampaigns.push(n.campaignId);var c=i&&i.ForceCandidacy||n.nominationScheme.evaluateNominationRules();c&&(o=po.guid(),a=n.nominationScheme.calculateSurveyStartTimeFromDate(t),s=n.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(a));var f=new T8.CampaignState(n.campaignId,t,this.currentBuildNumber,n.nominationScheme.getActiveSurveyTimeIntervalSeconds(),!1,c,!1,u,o,a,s,l);this.campaignStates[f.CampaignId]=f}}},e.prototype.needRefreshSurveyDefinitions=function(){for(var t=!1,r=0,n=Object.keys(this.definitionProviders);r<n.length;r++){var i=n[r],o=this.definitionProviders[i];if(t=o.hasDataChanged(),t)break}return!this.lastCampaignRefreshTime||t},e.prototype.FilterCampaignsOnRestart=function(t,r){for(var n in this.campaignDefinitions)if(Object.prototype.hasOwnProperty.call(this.campaignDefinitions,n)){var i=this.campaignDefinitions[n];if(!this.isCampaignTypeEnabled(i.governedChannelType)){delete this.campaignDefinitions[i.campaignId];continue}if(r&&r.indexOf(i.governedChannelType)<0&&i.businessLevel!==Cc.SurveyInfoBusinessLevel.Critical){delete this.campaignDefinitions[i.campaignId];continue}if(!e.isCampaignInScope(i,t,this.environmentProvider,this.userFactsProvider)){delete this.campaignDefinitions[i.campaignId];continue}if(i.treatmentType===0){delete this.campaignDefinitions[i.campaignId];continue}}},e.prototype.LoadFilterCampaignStates=function(t){var r=this.stateProvider.load(),n=[];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=r[i];Object.prototype.hasOwnProperty.call(this.campaignDefinitions,o.CampaignId)||n.push(o),this.campaignStates[o.CampaignId]=o}for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i];if(!o)continue;var a=this.campaignDefinitions[o.CampaignId],s=!1;a?e.isStateUpForNomination(o,a,t,this.currentBuildNumber)&&(s=!0):o.LastNominationTimeUtc.getTime()<=po.subtractSecondsWithoutOverflow(t,o.DeleteAfterSecondsWhenStale).getTime()&&(s=!0),s&&delete this.campaignStates[o.CampaignId]}},e}();Ky.CampaignManager=I8});var $M=k(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.FloodgateSettings=void 0;var x8=function(){function e(){}return e.toJson=function(t){return JSON.stringify(t)},e.fromJson=function(t){return JSON.parse(t)},e}();Qy.FloodgateSettings=x8});var ZM=k(jI=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0});var zI=function(){function e(t){if(!t)throw new Error("trackingSet must not be null");if(t.getList().length>32)throw new Error("trackingSet list size must be less than 32");this.isOrdered=t.getIsOrdered(),this.trackedActivities=t.getList(),this.currentIndex=0,this.activationMask=0,this.currentActivationFlags=0,this.isActivationByInitPending=!1,this.currentCounts=new Array(this.trackedActivities.length),this.currentStartTimes=new Array(this.trackedActivities.length),this.currentSessionCounts=new Array(this.trackedActivities.length);for(var r=0;r<this.trackedActivities.length;r++)this.currentCounts[r]=0,this.currentSessionCounts[r]=0;for(var r=0;r<this.trackedActivities.length;r++)this.activationMask|=1<<r,this.trackedActivities[r].getCount()<1&&this.trackedActivities[r].setCount(1)}return e.prototype.getCount=function(t){return this.isValidIndex(t)?this.currentCounts[t]:0},e.prototype.getSessionCount=function(t){return this.isValidIndex(t)?this.currentSessionCounts[t]:0},e.prototype.getStartTime=function(t){return this.isValidIndex(t)?this.currentStartTimes[t]:null},e.prototype.moveSessionCountIntoBaseCount=function(t){if(!this.isValidIndex(t))return 0;var r=this.currentSessionCounts[t];return this.currentSessionCounts[t]=0,r},e.prototype.initCounts=function(t,r,n){n===void 0&&(n=!1);for(var i=0;i<this.trackedActivities.length&&!(this.isOrdered&&i>this.currentIndex);i++)i<r.length&&r[i]&&(this.currentSessionCounts[i]=this.currentCounts[i]=r[i].tracker.getSessionCount(r[i].index),this.currentStartTimes[i]=r[i].tracker.getStartTime(r[i].index)),this.trackedActivities[i].getIsAggregate()&&i<t.length&&(this.currentCounts[i]+=t[i]),this.hasCountCrossedThreshold(i)&&this.finishActivityAtIndex(i);this.isActivated()&&!n&&(this.isActivationByInitPending=!0)},e.prototype.generateActivityIndexList=function(){for(var t=new Array,r=0;r<this.trackedActivities.length;r++){var n=new e.ActivityIndex;n.activity=this.trackedActivities[r].getActivity(),n.index=r,t.push(n)}return t},e.prototype.incrementActivity=function(t,r){if(!this.isValidIndex(t))return 0;if(r<0)throw new Error("increment must be non-negative");if(this.isOrdered&&t>this.currentIndex)return 0;var n=!this.hasCountCrossedThreshold(t);return this.currentCounts[t]+=r,this.currentSessionCounts[t]+=r,this.isActivationByInitPending?this.isPermittedIndexForActivationByInit(t)?this.commitActivation():0:n&&this.hasCountCrossedThreshold(t)?(this.finishActivityAtIndex(t),this.isActivated()?this.commitActivation():1):0},e.prototype.startTime=function(t,r){this.isValidIndex(t)&&(this.currentStartTimes[t]=r||new Date)},e.prototype.stopTime=function(t,r){if(!this.isValidIndex(t))return 0;var n=this.currentStartTimes[t];if(this.currentStartTimes[t]=null,!n||(r=r||new Date,n>r))return 0;var i=r.getTime()-n.getTime(),o=i/1e3;return o%1===0&&(o+=.001),o},e.prototype.isValidIndex=function(t){return t<this.trackedActivities.length},e.prototype.isActivated=function(){return(this.currentActivationFlags&this.activationMask)===this.activationMask},e.prototype.finishActivityAtIndex=function(t){if(!this.isValidIndex(t))throw new Error("Index is not valid");this.currentActivationFlags|=1<<t,t+1<this.trackedActivities.length&&(this.currentIndex=t+1)},e.prototype.hasCountCrossedThreshold=function(t){if(!this.isValidIndex(t))throw new Error("Index is not valid");return this.currentCounts[t]>=this.trackedActivities[t].getCount()},e.prototype.isPermittedIndexForActivationByInit=function(t){return!this.isOrdered||t+1===this.currentCounts.length},e.prototype.commitActivation=function(){return this.isActivationByInitPending=!1,2},e}();(function(e){var t=function(){function r(){}return r}();e.ActivityIndex=t})(zI||(zI={}));jI.default=zI});var e2=k(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.IndexedTracker=void 0;var A8=function(){function e(){}return e}();Jy.IndexedTracker=A8});var WI=k(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0});var w8=ZM(),t2=ln(),N8=e2(),O8=sI(),qI=je(),yu=[],Xy=0,$y={},D8=function(){function e(t,r){if(this.activityContext={},!t)throw new Error("callback must not be null");this.trackedActivityMap={},this.callback=t,this.loggerCallback=r}return e.resetSessionActivity=function(){$y={}},e.prototype.logActivity=function(t,r,n){r===void 0&&(r=1),this.logActivity_private(t,0,r,null,n)},e.prototype.logActivityStartTime=function(t,r){this.logActivity_private(t,1,0,r,null)},e.prototype.logActivityStopTime=function(t,r){this.logActivity_private(t,2,0,r,null)},e.prototype.SetActivityTrackingContracts=function(t,r){r===void 0&&(r=new O8.SurveyStatCollectionEventActivity);var n=0;if(!(!t||t.length===0||!r)){for(var i={},o=[],a=0,s=t;a<s.length;a++){var u=s[a],l=u.trackingSet;if(o.indexOf(u.surveyId)===-1)o.push(u.surveyId);else{n++;continue}for(var c=r.getBySurveyId(u.surveyId),f=[l.getList().length],d=new Array(l.getList().length),p=0,v=0,h=0,g=l.getList();h<g.length;h++){var m=g[h];if(f[v]=0,m.getIsAggregate()&&c&&p<c.Counts.length&&(f[v]=c.Counts[p++]),$y[m.getActivity()])for(var y=0,S=$y[m.getActivity()];y<S.length;y++){var E=S[y];if(E.surveyId===u.surveyId){d[v]=E;break}}v++}var D=new w8.default(l);D.initCounts(f,d,!1);for(var P=0,x=D.generateActivityIndexList();P<x.length;P++){var q=x[P],G=new N8.IndexedTracker;G.index=q.index,G.surveyId=u.surveyId,G.tracker=D,i[q.activity]||(i[q.activity]=[]),i[q.activity].push(G)}}if(n>0){var se=this.loggerCallback&&this.loggerCallback();se&&se.log_Error(t2.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID,"Duplicate surveyId passed in activityTrackingContracts. Duplicate count: "+n)}this.copyObject(this.trackedActivityMap,i)}},e.prototype.clearSurveys=function(){var t=this;Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function(r){delete t.trackedActivityMap[r]})},e.prototype.saveSessionTrackingActivity=function(t){$y[t]=this.trackedActivityMap[t]},e.prototype.getCount=function(t,r){var n=this.getIndexedTracker(t,r);return n?n.tracker.getCount(n.index):0},e.prototype.getSessionCount=function(t,r){var n=this.getIndexedTracker(t,r);return n?n.tracker.getSessionCount(n.index):0},e.prototype.moveSessionCountIntoBaseCount=function(t,r){var n=this.getIndexedTracker(t,r);return n?n.tracker.moveSessionCountIntoBaseCount(n.index):0},e.prototype.getSurveyIds=function(t){if(!qI.isNOU(t)){var r=this.trackedActivityMap[t];if(r){var n=r.map(function(i){return i.surveyId});return n}}},e.prototype.setCallback=function(t){this.callback=t},e.prototype.UpdateActivityTrackingContracts=function(t){if(qI.isNOU(t)||Object.keys(t).length===0){this.clearSurveys();return}for(var r in this.trackedActivityMap)if(Object.prototype.hasOwnProperty.call(this.trackedActivityMap,r))for(var n=this.trackedActivityMap[r],i=n.length-1;i>=0;--i)Object.prototype.hasOwnProperty.call(t,n[i].surveyId)||n.splice(i,1)},e.prototype.getIndexedTracker=function(t,r){var n=this.trackedActivityMap[t];if(n){for(var i,o=0,a=n;o<a.length;o++){var s=a[o];if(s.surveyId===r){i=s;break}}return i}},e.prototype.resetQueuedActivities=function(){yu=[]},e.prototype.logActivity_private=function(t,r,n,i,o){var a=this;if(this.callback&&!this.callback.shouldAcceptActivity(t)&&(Xy++,yu.length<e.MaxPendingActivitiesQueueSize&&yu.push({activityName:t,logType:r,increment:n,timestamp:i})),t===e.FloodgateStartActivityName){if(Xy>0){var s=yu.slice(0,25).map(function(l){return l.activityName}),u=this.loggerCallback&&this.loggerCallback();u&&u.log_Event(t2.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed,{ActivityNames:JSON.stringify(s),Count:yu.length,Dropped:Xy-yu.length},.05),yu.map(function(l){return a.logActivity_core(l.activityName,l.logType,l.increment,l.timestamp,o)})}Xy=0,this.resetQueuedActivities()}this.logActivity_core(t,r,n,i,o)},e.prototype.logActivity_core=function(t,r,n,i,o){var a=this.trackedActivityMap[t];if(!(!a||a.length===0)){var s=[];if(a.length>1){s=new Array(a.length);for(var u=0;u<s.length;u++)s[u]=u;s=qI.fyShuffle(s)}else s.push(0);for(var l=0,c=s;l<c.length;l++){var f=c[l],d=a[f];switch(r){case 1:{d.tracker.startTime(d.index,i);continue}case 2:n=d.tracker.stopTime(d.index,i);case 0:break;default:continue}if(o){var p=d.surveyId;this.activityContext[p]=this.activityContext[p]||[],this.activityContext[p].push({activityName:t,context:o})}var v=d.tracker.incrementActivity(d.index,n);if(v===2){this.executeCallback(d.surveyId);break}}}},e.prototype.executeCallback=function(t){this.callback.run(t,this.activityContext[t])},e.prototype.copyObject=function(t,r){Object.keys(r).forEach(function(n){t[n]=r[n]})},e.FloodgateStartActivityName="FloodgateFirstStart",e.MaxPendingActivitiesQueueSize=100,e}();YI.default=D8});var o2=k(Za=>{"use strict";var P8=Za&&Za.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},F8=Za&&Za.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Za,"__esModule",{value:!0});Za.HttpTransport=void 0;var r2=ln(),n2=je(),i2=Jn(),R8=5e3,L8=function(){function e(){}return e.prototype.getRequestWithRetry=function(t,r,n,i){var o=this;return i===void 0&&(i=!1),new Promise(function(a,s){var u=performance.now();o.sendGetRequest(t,!0,n,i).then(function(l){var c=performance.now()-u;i2.TelemetryLogger.getTelemetryLogger().log_Event(r2.TelemetryEvent.HttpTransport.GET.Success,{TimeMilliseconds:c,Count:r,Message:JSON.stringify({RequestUrl:t,CorrelationId:o.requestId,Timeout:n,SimpleRequestEnabled:i})}),a(l)}).catch(function(l){var c=performance.now()-u;if(i2.TelemetryLogger.getTelemetryLogger().log_Error(r2.TelemetryEvent.HttpTransport.GET.Error,JSON.stringify({ErrorMessage:l.toString(),TimeMilliseconds:c,Timeout:n,Count:r,CorrelationId:o.requestId,Message:t,SimpleRequestEnabled:i})),r<=1)return s(l);u=performance.now(),o.getRequestWithRetry(t,r-1,n,i).then(a).catch(s)})})},e.prototype.createHeaders=function(t){var r=typeof Headers<"u"&&new Headers;return r&&(t?this.createSimpleHeaders(r):this.createNormalHeaders(r)),r},e.prototype.createNormalHeaders=function(t){this.requestId=n2.guid(),t.append("X-Request-ID",this.requestId),t.append("Content-Type","application/json")},e.prototype.createSimpleHeaders=function(t){this.requestId=n2.guid(),t.append("Content-Type","text/plain")},e.prototype.sendGetRequest=function(t,r,n,i){return P8(this,void 0,void 0,function(){var o;return F8(this,function(a){return o={method:"GET",headers:this.createHeaders(i)},[2,r?this.timeoutFetch(t,o,n!=null?n:R8):fetch(t,o)]})})},e.prototype.timeoutFetch=function(t,r,n){r===void 0&&(r={});var i=new AbortController;r.signal=i.signal;var o=setTimeout(function(){return i.abort()},n);return fetch(t,r).then(function(a){return clearTimeout(o),a})},e}();Za.HttpTransport=L8});var l2=k(Pn=>{"use strict";var Ec=Pn&&Pn.__assign||function(){return Ec=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ec.apply(this,arguments)},a2=Pn&&Pn.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},s2=Pn&&Pn.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},KI=Pn&&Pn.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.isTranslationRequired=void 0;var Su=Ee(),U8=je(),k8=o2(),Zy=ln(),eS=Jn();function u2(e,t){var r,n=(t==null?void 0:t.toLowerCase())||"en-us";return((r=e.getUxSchema())===null||r===void 0?void 0:r.uiStringsUrl)&&n!="en-us"&&n!="en"}Pn.isTranslationRequired=u2;var M8=function(){function e(t,r,n){n===void 0&&(n=!1),this.timeout=t,this.retryLimit=r,this.simpleRequestEnabled=n}return e.prototype.loadCdnStringResource=function(t,r){return a2(this,void 0,void 0,function(){var n,i,o,a,s,u,l,c,f;return s2(this,function(d){switch(d.label){case 0:if(n=t.getUxSchema().uiStringsUrl+r+"/strings.json",i=new k8.HttpTransport,o=!1,!u2(t,r))return[2,!0];d.label=1;case 1:return d.trys.push([1,7,,8]),u=performance.now(),[4,i.getRequestWithRetry(n,this.retryLimit,this.timeout,this.simpleRequestEnabled)];case 2:return a=d.sent(),s=performance.now()-u,a.ok?[4,a.text()]:[3,5];case 3:return l=d.sent(),eS.TelemetryLogger.getTelemetryLogger().log_Event(Zy.TelemetryEvent.FloodgateSurveyCdnClient.loadCdnStringResource.Request_Success,{TimeMilliseconds:s,CampaignId:t.getCampaignId(),SurveyId:t.getSurveyInfo().getId(),Message:JSON.stringify({RequestUrl:n,HttpStatusCode:a.status,HttpStatusText:a.statusText,SimpleRequestEnabled:this.simpleRequestEnabled})}),c=JSON.parse(l),[4,this.translateSurveyUxSchema(t,c)];case 4:return d.sent(),o=!0,[3,6];case 5:eS.TelemetryLogger.getTelemetryLogger().log_Event(Zy.TelemetryEvent.FloodgateSurveyCdnClient.loadCdnStringResource.Request_Failed,{TimeMilliseconds:s,CampaignId:t.getCampaignId(),SurveyId:t.getSurveyInfo().getId(),Message:JSON.stringify({RequestUrl:n,HttpStatusCode:a.status,HttpStatusText:a.statusText,SimpleRequestEnabled:this.simpleRequestEnabled})}),d.label=6;case 6:return[3,8];case 7:return f=d.sent(),eS.TelemetryLogger.getTelemetryLogger().log_Event(Zy.TelemetryEvent.FloodgateSurveyCdnClient.loadCdnStringResource.Exception,{ErrorMessage:f&&f.toString(),CampaignId:t.getCampaignId(),SurveyId:t.getSurveyInfo().getId(),Message:JSON.stringify({RequestUrl:n,HttpStatusCode:a==null?void 0:a.status,HttpStatusText:a==null?void 0:a.statusText,SimpleRequestEnabled:this.simpleRequestEnabled})}),[3,8];case 8:return o||(t.setUxSchema(null),t.isContentValid()&&(o=!0)),eS.TelemetryLogger.getTelemetryLogger().log_Event(Zy.TelemetryEvent.FloodgateSurveyCdnClient.loadCdnStringResource.Completed,{CampaignId:t.getCampaignId(),SurveyId:t.getSurveyInfo().getId(),Message:JSON.stringify({Success:o,IsContentValid:t.isContentValid(),IsUxSchemaPresent:!U8.isNOU(t.getUxSchema())})}),[2,o]}})})},e.prototype.translateSurveyUxSchema=function(t,r){return a2(this,void 0,void 0,function(){var n,i,o,a,s,u,h,l,c,f,d,p,v,h;return s2(this,function(g){switch(g.label){case 0:for(n=t.getUxSchema(),i=[],o=[],a=Ec({},n),a.pages=KI(n.pages),s=function(m){i.push(u.translatePage(r,n.pages[m],"page."+m,o).then(function(y){a.pages[m]=y}))},u=this,h=0;h<n.pages.length;h++)s(h);if(n.branchingRules&&n.branchingRules.length>0){for(l=a.branchingRules=[],c=0;c<n.branchingRules.length;c++)if(f=n.branchingRules[c],d={conditions:f.conditions,targets:KI(f.targets)},l.push(d),f.targets&&f.targets.length>0)for(p=function(m){var y=f.targets[m];if(y.type===Su.BranchingTargetType.Override){var S=Ec({},y);d.targets[m]=S;var E=n.pages[y.targetPageIndex].questions.find(function(D){return D.id===y.targetOverrideId});i.push(v.translateQuestion(r,y.overrideProperties,E.type,"branchingRules."+c+".targets."+m,o).then(function(D){S.overrideProperties=D}))}},v=this,h=0;h<f.targets.length;h++)p(h)}return[4,Promise.all(i)];case 1:if(g.sent(),o.length>0)throw new Error(JSON.stringify(o));return t.setUxSchema(a),[2]}})})},e.prototype.translatePage=function(t,r,n,i){var o=[],a=Ec({},r);a.questions=KI(r.questions),r.title&&o.push(this.translateString(t,r.title,n+".title",i).then(function(c){a.title=c}));for(var s=function(c){o.push(u.translateQuestion(t,r.questions[c],r.questions[c].type,n+".questions."+c,i).then(function(f){a.questions[c]=f}))},u=this,l=0;l<r.questions.length;l++)s(l);return Promise.all(o).then(function(){return a})},e.prototype.translateQuestion=function(t,r,n,i,o){var a=[],s=Ec({},r);switch(Object.prototype.hasOwnProperty.call(r,"questionLabel")&&a.push(this.translateString(t,r.questionLabel,i+".questionLabel",o).then(function(u){s.questionLabel=u})),n){case Su.QuestionType.MultipleChoice:case Su.QuestionType.SingleSelect:{Object.prototype.hasOwnProperty.call(r,"availableOptions")&&a.push(this.translateStringArray(t,r.availableOptions,i+".availableOptions",o).then(function(u){s.availableOptions=u}));break}case Su.QuestionType.Rating:{Object.prototype.hasOwnProperty.call(r,"ratingValues")&&a.push(this.translateStringArray(t,r.ratingValues,i+".ratingValues",o).then(function(u){s.ratingValues=u})),Object.prototype.hasOwnProperty.call(r,"leftLegendValue")&&a.push(this.translateString(t,r.leftLegendValue,i+".leftLegendValue",o).then(function(u){s.leftLegendValue=u})),Object.prototype.hasOwnProperty.call(r,"rightLegendValue")&&a.push(this.translateString(t,r.rightLegendValue,i+".rightLegendValue",o).then(function(u){s.rightLegendValue=u}));break}case Su.QuestionType.Likert:{Object.prototype.hasOwnProperty.call(r,"verticalOptions")&&a.push(this.translateStringArray(t,r.verticalOptions,i+".verticalOptions",o).then(function(u){s.verticalOptions=u})),Object.prototype.hasOwnProperty.call(r,"horizontalStatements")&&a.push(this.translateStringArray(t,r.horizontalStatements,i+".horizontalStatements",o).then(function(u){s.horizontalStatements=u}));break}case Su.QuestionType.Comment:case Su.QuestionType.Label:break;default:o.push(i+".questionType is unknown.");break}return Promise.all(a).then(function(){return s})},e.prototype.translateStringArray=function(t,r,n,i){for(var o=[],a=0;a<r.length;a++)o.push(this.translateString(t,r[a],n+"."+a,i));return Promise.all(o).then(function(s){return s})},e.prototype.translateString=function(t,r,n,i){return new Promise(function(o,a){Object.prototype.hasOwnProperty.call(t,r)?o(t[r]):(i.push("'"+n+": "+r+"' does not exist in the strings map."),o(""))})},e}();Pn.default=M8});var QI=k(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.CampaignBusinessLevel=es.GovernanceDecision=void 0;var B8;(function(e){e[e.Approved=0]="Approved",e[e.Rejected=1]="Rejected",e[e.Error=2]="Error"})(B8=es.GovernanceDecision||(es.GovernanceDecision={}));var G8;(function(e){e[e.None=0]="None",e[e.Critical=1]="Critical"})(G8=es.CampaignBusinessLevel||(es.CampaignBusinessLevel={}))});var c2=k(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.GovernedChannel=void 0;var V8=Ee(),tS=je(),H8=function(){function e(t,r,n,i){if(!tS.isEnumValue(t,V8.GovernedChannelType))throw new Error("type is not a valid GovernedChannelType");if(!r)throw new Error("name must not be null or empty");if(n<0)throw new Error("cooldownSeconds must not be negative");this.type=t,this.name=r,this.cooldownSeconds=n,this.setCooldownStartTime(i)}return e.prototype.setCooldownStartTime=function(t){if(this.cooldownStartTime=t,tS.isNOU(this.cooldownStartTime)){this.cooldownEndTime=tS.getDistantPast();return}this.cooldownEndTime=tS.addSecondsWithoutOverflow(this.cooldownStartTime,this.cooldownSeconds)},e.prototype.isOpen=function(){return this.isOpenAtDate(new Date)},e.prototype.isOpenAtDate=function(t){return t?t>this.cooldownEndTime:!1},e.prototype.getType=function(){return this.type},e.prototype.getName=function(){return this.name},e.prototype.getCooldownSeconds=function(){return this.cooldownSeconds},e.prototype.getCooldownStartTime=function(){return this.cooldownStartTime},e.prototype.getCooldownEndTime=function(){return this.cooldownEndTime},e}();rS.GovernedChannel=H8});var JI=k(nS=>{"use strict";var ts;Object.defineProperty(nS,"__esModule",{value:!0});nS.Governor=void 0;var qt=Ee(),f2=c2(),z8=oI(),j8=je(),d2=j8.isNOU,Tc=function(){function e(t,r){this.name=t,this.cooldownSeconds=r}return e}(),q8=function(){function e(t){if(this.channels=[],!t)throw new Error("channelStateProvider must not be null");this.channelStateProvider=t,this.loadChannels()}return e.GetChannelCoolDown=function(t){var r=e.defaultChannelData[t];return r?r.cooldownSeconds:0},e.SetDefaultChannelCoolDown=function(t,r){var n=e.defaultChannelData[t];n&&(n.cooldownSeconds=r)},e.prototype.refreshChannelData=function(){this.loadChannels()},e.prototype.getAvailableChannelData=function(){var t=[];for(var r in this.channels)if(Object.prototype.hasOwnProperty.call(this.channels,r)){var n=this.channels[r];n.isOpen()&&t.push(n)}return t},e.prototype.isChannelOpen=function(t){if(d2(t))throw new Error("type must not be null");return this.channels[t].isOpen()},e.prototype.startChannelCooldown=function(t,r){if(d2(t))throw new Error("type must not be null");r=r||new Date,this.channels[t].setCooldownStartTime(r),this.saveChannelStates()},e.prototype.saveChannelStates=function(){var t=[];for(var r in this.channels)if(Object.prototype.hasOwnProperty.call(this.channels,r)){var n=this.channels[r],i=new z8.GovernedChannelState(n.getType(),n.getCooldownStartTime());t.push(i)}this.channelStateProvider.save(t)},e.prototype.loadChannels=function(){this.loadChannelStatesFromProvider();for(var t in qt.GovernedChannelType)if(Object.prototype.hasOwnProperty.call(qt.GovernedChannelType,t)){var r=Number(t);if(isNaN(r)||this.channels[r])continue;var n=e.defaultChannelData[r],i=new f2.GovernedChannel(r,n.name,n.cooldownSeconds,null);this.channels[r]=i}},e.prototype.loadChannelStatesFromProvider=function(){this.channels=[];var t=this.channelStateProvider.load();for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r],i=n.getType(),o=e.defaultChannelData[i],a=new f2.GovernedChannel(i,o.name,o.cooldownSeconds,n.getCooldownStartTime());this.channels[a.getType()]=a}},e.minute=60,e.hour=60*e.minute,e.day=24*e.hour,e.defaultChannelData=(ts={},ts[qt.GovernedChannelType.Standard]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.Standard],14*e.day),ts[qt.GovernedChannelType.Urgent]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.Urgent],0),ts[qt.GovernedChannelType.Banner]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.Banner],15*e.day),ts[qt.GovernedChannelType.TeachingMessage]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.TeachingMessage],1*e.hour),ts[qt.GovernedChannelType.BusinessBar]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.BusinessBar],3*e.hour),ts[qt.GovernedChannelType.Dialog]=new Tc(qt.GovernedChannelType[qt.GovernedChannelType.Dialog],24*e.hour),ts),e}();nS.Governor=q8});var g2=k(rs=>{"use strict";var Y8=rs&&rs.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},W8=rs&&rs.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(rs,"__esModule",{value:!0});rs.OrchestrationEngine=void 0;var p2=JI(),kp=QI(),K8=function(){function e(t,r,n){if(!t)throw new Error("Invalid governanceServiceClient");if(!r)throw new Error("Invalid governanceServiceClient");this.governanceServiceClient=t,this.channelGovernanceProvider=new p2.Governor(r),this.appGovernanceProvider=n}return e.prototype.getDecision=function(t,r){return Y8(this,void 0,void 0,function(){var n,i,o;return W8(this,function(a){switch(a.label){case 0:if(!r)throw new Error("Invalid governanceParams");return n={governanceDecision:kp.GovernanceDecision.Approved,serviceResult:{permission:!0}},t===kp.CampaignBusinessLevel.Critical?[2,n]:this.governanceServiceClient.isEnabled(r.channelType)?(r.userCooldown<0&&(r.userCooldown=p2.Governor.GetChannelCoolDown(r.channelType)),[4,this.governanceServiceClient.checkGovernancePermitAsync(r)]):[2,n];case 1:return i=a.sent(),o=kp.GovernanceDecision.Error,i&&!i.error&&(o=i.permission?kp.GovernanceDecision.Approved:kp.GovernanceDecision.Rejected),[2,{governanceDecision:o,serviceResult:i}]}})})},e.prototype.isSurveyTrackable=function(t){return!this.appGovernanceProvider||this.appGovernanceProvider.getDecision(t)},e.prototype.getAvailableChannels=function(){var t=this.channelGovernanceProvider.getAvailableChannelData(),r=[];return t.forEach(function(n){n&&r.push(n.getType())}),r},e.prototype.mergeAndSave=function(){this.channelGovernanceProvider.saveChannelStates()},e.prototype.isChannelOpen=function(t,r){return r===void 0&&(r=!0),r&&this.channelGovernanceProvider.refreshChannelData(),this.channelGovernanceProvider.isChannelOpen(t)},e.prototype.isChannelGovernanceEnabled=function(t){return this.governanceServiceClient.isEnabled(t)},e.prototype.startChannelCooldown=function(t,r){this.channelGovernanceProvider.startChannelCooldown(t,r)},e.prototype.shouldForcePermission=function(){return this.governanceServiceClient.shouldForceDisplay()},e.prototype.getStateForTelemetry=function(){return this.governanceServiceClient.getClientState()},e}();rs.OrchestrationEngine=K8});var gI=k(ns=>{"use strict";var XI=ns&&ns.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},$I=ns&&ns.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ns,"__esModule",{value:!0});ns.FloodgateEngine=void 0;var Q8=du(),ti=Ee(),J8=oI(),ZI=Zb(),Mp=sI(),ra=cM(),X8=fM(),$8=XM(),Z8=pI(),m2=$M(),ex=WI(),Dt=ln(),Bp=je(),tx=l2(),e9=Wy(),v2=QI(),t9=g2(),vt=Jn(),r9={run:function(e){},shouldAcceptActivity:function(e){return!0}},iS={},n9=function(){function e(t,r,n,i,o,a,s,u,l,c,f){if(this.initializationStatus=0,this.candidateSurveys={},this.launchedSurveys={},this.launchedLaunchers=[],this.surveyEventSent=[],this.staleTriggeredSurveysQueue=[],!t)throw new Error("surveyClient must not be null");if(!r)throw new Error("activityListener must not be null");if(!n)throw new Error("launcherFactory must not be null");if(!i)throw new Error("onSurveyActivatedCallback must not be null");if(!o)throw new Error("storage must not be null");if(!a)throw new Error("governor must not be null");if(!u)throw new Error("transporterFactory must not be null");this.surveyClient=t,this.activityListener=r,this.launcherFactory=n,this.onSurveyActivatedCallback=i,this.storage=o,this.orchestrationEngine=a,this.surveyActivationStatsProvider=s,this.campaignTelemetrySamplingConfig=l,this.floodgateEngineConfig=c,this.personalizerClient=f,e.transporterFactory=u,this.loggedFirstStart=!1,this.setPendingSurveys(null),this.activityListener.clearSurveys();var d=this;this.activityListener.setCallback({run:function(p,v){d.onSurveyActivated(p,v)},shouldAcceptActivity:function(p){return d.shouldAcceptActivity(p)}})}return e.getTransportFactory=function(){return e.transporterFactory},e.make=function(t,r,n,i,o,a,s,u,l,c,f,d,p,v,h,g,m,y,S,E){try{var D=J8.GovernedChannelStateProviderFactory.make(i,o),P=ZI.SurveyActivationStatsProviderFactory.make(i,o),x=Z8.CampaignStateProviderFactory.make(i,o);l.unshift(new Q8.FileSystemCampaignDefinitionProvider(i));var q=new t9.OrchestrationEngine(f,D,v),G=function(Se){return q.isSurveyTrackable(Se)},se={isSurveyTrackable:G},ue=E||new $8.CampaignManager(x,l,a,s,t,new Date,d,c,se,h,g,y,S);return new e(ue,new ex.default(r9,vt.TelemetryLogger.getTelemetryLogger),r,n,i,q,P,u,g,p,m)}catch(Se){vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.Make.Failed,{ErrorMessage:Se&&Se.toString(),ErrorDetails:Se&&Se.stack})}},e.prototype.getSurveyClient=function(){return this.surveyClient},e.prototype.mergeAndSave=function(){this.saveSettings(),this.saveSurveyActivationHistory(),this.saveSurveyEventActivityHistory(),this.surveyClient.saveCurrentState(),this.orchestrationEngine.mergeAndSave()},e.prototype.start=function(){if(!(this.initializationStatus===2||this.initializationStatus===3))try{this.setInitializationStatus(2),this.loadSettingsAndPriorEventCounts();var t=this.orchestrationEngine.getAvailableChannels();this.surveyClient.refreshSurveyDefinitions(t),this.setPendingSurveysAndStartFloodgate(),this.setInitializationStatus(3)}catch(r){this.setInitializationStatus(1),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.Start.Failed,{ErrorMessage:r&&r.toString(),ErrorDetails:r&&r.stack})}},e.prototype.startAsync=function(){var t=this;if(this.initializationStatus===2||this.initializationStatus===3)return Promise.resolve();try{this.setInitializationStatus(2),this.loadSettingsAndPriorEventCounts();var r=this.orchestrationEngine.getAvailableChannels();return new Promise(function(n,i){t.surveyClient.refreshSurveyDefinitionsAsync(r).then(function(){t.initializationStatus===4?(t.setInitializationStatus(3),t.stop(),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.StartAsync.Stopped,{ErrorMessage:"Stopped because of a pending stop() call"})):t.setPendingSurveysAndStartFloodgate(),n()}).catch(function(o){t.setInitializationStatus(1),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:"Survey refresh error "+(o&&o.message)}),i(o)})})}catch(n){return this.setInitializationStatus(1),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:n&&n.toString(),ErrorDetails:n&&n.stack}),Promise.resolve()}},e.prototype.stop=function(){this.initializationStatus===3&&(this.mergeAndSave(),this.setPendingSurveys(null),this.updateActivityListenerWithCurrentSurveyDefinitions()),this.setInitializationStatus(4)},e.prototype.getActivityListener=function(){return this.activityListener},e.prototype.setInitializationStatus=function(t){this.initializationStatus=t},e.prototype.saveSettings=function(){this.storage.fileLock(ti.FloodgateStorageProviderFileType.FloodgateSettings);try{this.writeString(ti.FloodgateStorageProviderFileType.FloodgateSettings,m2.FloodgateSettings.toJson(this.floodgateSettings))}finally{this.storage.fileUnlock(ti.FloodgateStorageProviderFileType.FloodgateSettings)}},e.prototype.loadSettingsAndPriorEventCounts=function(){try{this.previousSurveyActivationStats=this.surveyActivationStatsProvider.load(),this.previousSurveyEventActivityStats=Mp.SurveyStatCollectionEventActivity.fromJson(this.readString(ti.FloodgateStorageProviderFileType.SurveyEventActivityStats));var t=this.previousSurveyEventActivityStats.getStats();for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.surveyEventSent.push(r);this.floodgateSettings=m2.FloodgateSettings.fromJson(this.readString(ti.FloodgateStorageProviderFileType.FloodgateSettings))}catch(n){vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.Common.Error,{ErrorMessage:"Error loading prior settings/events "+(n&&n.toString())})}},e.prototype.setPendingSurveysAndStartFloodgate=function(){this.setPendingSurveys(this.surveyClient.getAppSurveys()),this.updateActivityListenerWithCurrentSurveyDefinitions(),this.setInitializationStatus(3),this.loggedFirstStart||(this.loggedFirstStart=!0,this.getActivityListener().logActivity(ex.default.FloodgateStartActivityName))},e.prototype.updateSurveyActivationStats=function(t){var r=t.getSurveyInfo(),n=r.getId(),i=this.previousSurveyActivationStats.getStats()[n]||new ZI.SurveyActivationStats;i.Type=t.getType(),i.ExpirationTimeUtc=r.getExpirationTimeUtc(),i.ActivationTimeUtc=new Date,i.SurveyLaunchCount++,this.previousSurveyActivationStats.addStats(n,i),Object.prototype.hasOwnProperty.call(iS,n)||(iS[n]=0),iS[n]++},e.prototype.saveSurveyActivationHistory=function(){this.storage.fileLock(ti.FloodgateStorageProviderFileType.SurveyActivationStats);try{var t=this.surveyActivationStatsProvider.load(),r=this.previousSurveyActivationStats.getStats(),n=new ZI.SurveyStatCollectionActivation;for(var i in this.launchedSurveys)if(Object.prototype.hasOwnProperty.call(this.launchedSurveys,i)){var o=this.launchedSurveys[i],a=o.getSurveyInfo().getId(),s=r[a];n.addStats(a,s)}t.accumulate(n),this.surveyActivationStatsProvider.save(t),this.previousSurveyActivationStats=t}finally{this.storage.fileUnlock(ti.FloodgateStorageProviderFileType.SurveyActivationStats)}},e.prototype.saveSurveyEventActivityHistory=function(){this.storage.fileLock(ti.FloodgateStorageProviderFileType.SurveyEventActivityStats);try{var t=Mp.SurveyStatCollectionEventActivity.fromJson(this.readString(ti.FloodgateStorageProviderFileType.SurveyEventActivityStats)),r=new Date,n=new Mp.SurveyStatCollectionEventActivity,i=function(s){if(Object.prototype.hasOwnProperty.call(o.candidateSurveys,s)){var u=new Mp.SurveyEventActivityStats,l=o.candidateSurveys[s];if(!l.getSurveyInfo().isActiveForDate(r))return"continue";u.ExpirationTimeUtc=l.getSurveyInfo().getExpirationTimeUtc();var c=l.getSurveyInfo().getActivationEvent().getTrackingSet(),f=[],d=[];c.getList().forEach(function(m){m&&(m.getIsAggregate()?f.push(m.getActivity()):d.push(m.getActivity()))}),u.Counts=new Array(f.length);for(var p=0;p<f.length;p++)u.Counts[p]=o.activityListener.moveSessionCountIntoBaseCount(f[p],l.getSurveyInfo().getId());for(var v=0,h=d;v<h.length;v++){var g=h[v];o.activityListener.saveSessionTrackingActivity(g)}n.addStats(l.getSurveyInfo().getId(),u)}},o=this;for(var a in this.candidateSurveys)i(a);t.accumulate(n),this.writeString(ti.FloodgateStorageProviderFileType.SurveyEventActivityStats,Mp.SurveyStatCollectionEventActivity.toJson(t)),this.previousSurveyEventActivityStats=t}finally{this.storage.fileUnlock(ti.FloodgateStorageProviderFileType.SurveyEventActivityStats)}},e.prototype.setPendingSurveys=function(t){if(this.candidateSurveys={},t){var r=[],n=[];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i],a={CampaignId:o.getCampaignId(),SurveyId:i};this.launcherFactory.AcceptsSurvey(o)?(this.candidateSurveys[i]=o,n.push(a)):r.push(a)}vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.Common.ActiveSurveys,{Message:JSON.stringify({RejectCampaigns:r,CandidateCampaigns:n,PreviousCandidateSurveyIds:this.surveyEventSent})},0)}},e.prototype.getCurrentSurveyDefinitions=function(){var t=this,r=new Array,n=this.getAllCampaignDefinitionIDs(),i=this.getAllCandidateCampaignDefinitionIDs(),o=this.surveyClient.getCampaignDefinitions(),a=function(d){if(ra.isBusinessCriticalSurvey(d))return!0;var p=t.previousSurveyActivationStats.getBySurveyId(d.getId());return ra.isMultiLaunchSurvey(d)&&!ra.hasSurveyReachedMaxLaunches(d,p)&&!ra.hasSurveyReachedMaxLaunchesPerSession(d,iS)?!0:!(p||!d.isActiveForDate(new Date))};for(var s in this.candidateSurveys)if(Object.prototype.hasOwnProperty.call(this.candidateSurveys,s)){var u=this.candidateSurveys[s],l=u.getSurveyInfo(),c=o[l==null?void 0:l.getBackEndId()];if(!c||!a(l))continue;if(this.surveyEventSent.indexOf(s)<0){this.surveyEventSent.push(s);var f=this.getAdditionalSurveyInfoForTelemetry(u,null,n,i);vt.TelemetryLogger.getTelemetryLogger().log_UserSelected(l.getBackEndId(),l.getId(),u.getType(),JSON.stringify(f),l.getTreatmentType())}r.push(u)}return r},e.prototype.getAdditionalSurveyInfoForTelemetry=function(t,r,n,i){var o=this.surveyClient.getCampaignDefinitions(),a=o[t.getCampaignId()],s,u,l=a.nominationScheme.percentageNumerator,c=a.nominationScheme.percentageDenominator;s=a.nominationScheme.nominationPeriod.asTimeIntervalSeconds(),s=Bp.isNOU(s)?-1:s,u=a.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),u=Bp.isNOU(u)?-1:u;var f=t.getSurveyInfo();return{allCampaignDefinitionIDs:n,allCandidateCampaignDefinitionIDs:i,channelType:f.getGovernedChannelType(),contextCount:r?r.length:void 0,cooldownPeriodNumber:u,nominationPeriodNumber:s,percentageDenominator:c,percentageNumerator:l,surveyLauncherType:t.getLauncherType(),businessLevel:f.getBusinessLevel(),maxLaunches:f.getMaxLaunches(),maxLaunchesPerSession:f.getMaxLaunchesPerSession(),isContentValid:t.isContentValid(),isUxSchemaPresent:!Bp.isNOU(t.getUxSchema())}},e.prototype.getAllCandidateCampaignDefinitionIDs=function(){var t=[];for(var r in this.candidateSurveys)if(Object.prototype.hasOwnProperty.call(this.candidateSurveys,r)){var n=this.candidateSurveys[r];t.push(n.getSurveyInfo().getBackEndId())}return t},e.prototype.getAllCampaignDefinitionIDs=function(){var t=this.surveyClient.getCampaignDefinitions(),r=[];for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];r.push(i.campaignId)}return r},e.prototype.updateActivityListenerWithCurrentSurveyDefinitions=function(){for(var t=this.getCurrentSurveyDefinitions(),r=[],n=0,i=t;n<i.length;n++){var o=i[n],a=o.getSurveyInfo(),s=new X8.ActivityTrackingContract(a.getId(),a.getActivationEvent().getTrackingSet());r.push(s)}this.activityListener.SetActivityTrackingContracts(r,this.previousSurveyEventActivityStats)},e.prototype.setCriticalPendingSurveysAndUpdateActivityListener=function(){var t={};for(var r in this.candidateSurveys)if(Object.prototype.hasOwnProperty.call(this.candidateSurveys,r)){var n=this.candidateSurveys[r];ra.isCriticalSurvey(n.getSurveyInfo())&&(t[r]=n)}Object.keys(t).length>0&&(this.setPendingSurveys(t),this.updateActivityListenerWithCurrentSurveyDefinitions())},e.prototype.shouldAcceptActivity=function(t){return this.initializationStatus===3||t===ex.default.FloodgateStartActivityName},e.prototype.onSurveyActivated=function(t,r){for(var n,i,o=this.getCurrentSurveyDefinitions(),a,s=0,u=o;s<u.length;s++){var l=u[s];if(l.getSurveyInfo().getId()===t){a=l;break}}if(Bp.isNOU(a)){vt.TelemetryLogger.getTelemetryLogger().log_Error(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined,"Survey is not defined in the current survey definitions.");return}try{var c=(i=(n=this.campaignTelemetrySamplingConfig)===null||n===void 0?void 0:n.initialTriggerMetSamplingRate)!==null&&i!==void 0?i:.1;c>0&&vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.CampaignInitialTriggerMet,{CampaignId:a.getCampaignId(),Message:"Sampling Rate: "+c},c);var f=a.getSurveyInfo().getGovernedChannelType();this.orchestrationEngine.isChannelGovernanceEnabled(f)||this.floodgateEngineConfig.uiStringsCdnEnabled&&tx.isTranslationRequired(a,this.floodgateEngineConfig.locale)?(this.staleTriggeredSurveysQueue.push({survey:a,contextInfo:r}),this.staleTriggeredSurveysQueue.length===1&&this.checkTriggerMetApisAndActivateSurvey(a,r)):this.activateSurvey(a,r)}catch(d){vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.Error,{ErrorMessage:"Error activating survey "+(d&&d.toString()),ErrorDetails:d&&d.stack})}},e.prototype.activateSurvey=function(t,r){var n=!1,i=t.getSurveyInfo().getGovernedChannelType();if(!this.candidateSurveys[t.getSurveyInfo().getId()])vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationIrrelevantSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});else if(!t.getSurveyInfo().isActiveForDate(new Date))vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationExpiredSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});else{if(ra.isCriticalSurvey(t.getSurveyInfo()))n=!0;else if(!this.orchestrationEngine.isChannelOpen(i))vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType,{ClosedChannelType:ti.GovernedChannelType[i]});else{var o=this.surveyActivationStatsProvider.load();if(o.getBySurveyId(t.getSurveyInfo().getId()))vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});else if(Object.keys(this.launchedSurveys).length===0)n=!0;else{var a=Object.values(this.launchedSurveys)[0];Bp.isNOU(a)||vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SessionSuppressedSurvey,{CampaignId:a.getSurveyInfo().getBackEndId(),SurveyId:a.getSurveyInfo().getId()})}}n&&(this.launchedSurveys[t.getSurveyInfo().getId()]=t)}if(this.updateSurveyActivationStats(t),this.mergeAndSave(),this.activityListener.clearSurveys(),this.staleTriggeredSurveysQueue=[],n){var s=t.getSurveyInfo().getActivationEvent().getTrackingSet().getActivityTrackingInfo(this.activityListener,t.getSurveyInfo().getId()),u=this.getAdditionalSurveyInfoForTelemetry(t,r,this.getAllCampaignDefinitionIDs(),this.getAllCandidateCampaignDefinitionIDs());u.governanceServiceClientState=this.orchestrationEngine.getStateForTelemetry(),vt.TelemetryLogger.getTelemetryLogger().log_TriggerMet(t.getSurveyInfo().getBackEndId(),t.getSurveyInfo().getId(),t.getType(),s,JSON.stringify(u),t.getSurveyInfo().getTreatmentType(),u.isUxSchemaPresent),this.orchestrationEngine.startChannelCooldown(i);var l=t.getSurveyInfo(),c=!0;if(ra.isBusinessCriticalSurvey(l))c=!1;else if(ra.isMultiLaunchSurvey(l)){var f=this.previousSurveyActivationStats.getBySurveyId(l.getId());c=ra.hasSurveyReachedMaxLaunches(l,f)}this.surveyClient.onSurveyActivated(l,c),this.launchLauncher(t,r),this.setCriticalPendingSurveysAndUpdateActivityListener()}},e.prototype.checkTriggerMetApisAndActivateSurvey=function(t,r){var n,i;return XI(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d,p,v;return $I(this,function(h){switch(h.label){case 0:o=this.surveyClient.getCampaignDefinitions()[t.getCampaignId()],a=o.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),s=t.getSurveyInfo().getGovernedChannelType(),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.queryTriggerMetApisAsync(t,a,s)];case 2:return l=h.sent(),u=l.serviceResult,[3,4];case 3:return c=h.sent(),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.QueryTriggerMetApisAsync.Exception,{ErrorMessage:c&&c.toString(),ErrorDetails:c&&c.stack}),u={permission:!1},[3,4];case 4:return f=!1,d=JSON.stringify(this.createGorvernanceResponseTelemetry(u,t.getCampaignId())),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceClientCompleted,{Message:d}),this.initializationStatus!==3?[2]:(u.error?this.orchestrationEngine.shouldForcePermission()&&(f=!0,vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceForceToDisplay,{ErrorMessage:u.errorMessage})):u.permission?f=!0:(((n=u.lastTriggerSurvey)===null||n===void 0?void 0:n.timeUntilNextCampaignAllowed)>0&&(this.orchestrationEngine.startChannelCooldown(s,u.lastTriggerSurvey.lastTriggerCampaignTime),this.clearSurveyWithChannel(s)),u.isSurveyGoverned&&((i=u.lastTriggerSurvey)===null||i===void 0?void 0:i.timeUntilSameCampaignAllowed)>0&&(vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceSurveyInCooldown,{Message:d}),this.putSurveyOnCooldown(t,u))),f?(this.activateSurvey(t,r),[2]):this.staleTriggeredSurveysQueue.length<=1?(this.staleTriggeredSurveysQueue=[],[2]):(this.staleTriggeredSurveysQueue.shift(),p=this.staleTriggeredSurveysQueue[0].survey,v=this.staleTriggeredSurveysQueue[0].contextInfo,this.checkTriggerMetApisAndActivateSurvey(p,v),[2]))}})})},e.prototype.readString=function(t){return this.storage.read(t)},e.prototype.writeString=function(t,r){this.storage.write(t,r)},e.prototype.launchLauncher=function(t,r){var n=this.launcherFactory.makeSurveyLauncher(t);n&&(this.launchedLaunchers.push(n),this.onSurveyActivatedCallback.onSurveyActivated(n,t,{contextInfo:r}))},e.prototype.clearSurveyWithChannel=function(t){var r={};for(var n in this.candidateSurveys)if(Object.prototype.hasOwnProperty.call(this.candidateSurveys,n)){var i=this.candidateSurveys[n];i.getSurveyInfo().getGovernedChannelType()!==t&&(r[n]=i)}this.candidateSurveys=r,this.activityListener.UpdateActivityTrackingContracts(this.candidateSurveys)},e.prototype.createGorvernanceResponseTelemetry=function(t,r){return{CampaignId:r,FloodgateEngineStatus:this.initializationStatus.toString(),GovernanceServiceResult:t,StaleTriggeredSurveysQueueCount:this.staleTriggeredSurveysQueue.length-1}},e.prototype.putSurveyOnCooldown=function(t,r){this.surveyClient.modifyCampaignSurveyTakenDate(t.getCampaignId(),r.lastTriggerSurvey.lastTriggerSameCampaignTime,!0)},e.prototype.queryTriggerMetApisAsync=function(t,r,n){var i;return XI(this,void 0,void 0,function(){var o,a,s,u,l,c,f,d,v,p,v;return $I(this,function(h){switch(h.label){case 0:return o=tx.isTranslationRequired(t,this.floodgateEngineConfig.locale),vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.QueryTriggerMetApisAsync.QueryTriggerMetApisAsync,{Message:JSON.stringify({channel:n,IsLoadingSurveyCdnRequired:o,GovServiceEnabled:this.orchestrationEngine.isChannelGovernanceEnabled(n),FloodgateSurveyCdnClientEnabled:this.floodgateEngineConfig.uiStringsCdnEnabled})}),a={campaignId:t.getCampaignId(),surveyId:t.getSurveyInfo().getId(),surveyType:t.getType(),channelType:n,launcherType:t.getLauncherType(),maxLaunches:t.getSurveyInfo().getMaxLaunches(),campaignCooldown:r,userCooldown:-1,personalizerEnabled:!1},s=t.getSurveyInfo().getBusinessLevel(),o&&this.floodgateEngineConfig.uiStringsCdnEnabled?(u=(i=e9.getFeatureGateProvider())===null||i===void 0?void 0:i.getBoolFeatureStatus("CdnSimpleRequestEnabled",!0),l=new tx.default(this.floodgateEngineConfig.uiStringsLoadingTimeout,this.floodgateEngineConfig.uiStringCdnRetryLimit,u),this.floodgateEngineConfig.shouldFetchSurveyCdnConcurrently?(c=l.loadCdnStringResource(t,this.floodgateEngineConfig.locale),f=this.getGovernanceDecision(s,a),[4,Promise.all([c,f])]):[3,2]):[3,6];case 1:return d=h.sent(),v=d[0],p=d[1],v?[2,p]:(vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.QueryTriggerMetApisAsync.SurveyCdnFailureConcurrently,{Message:JSON.stringify({cdnLoadResult:v,mopResult:p})}),[2,{governanceDecision:v2.GovernanceDecision.Rejected}]);case 2:return[4,l.loadCdnStringResource(t,this.floodgateEngineConfig.locale)];case 3:return v=h.sent(),v?[4,this.getGovernanceDecision(s,a)]:(vt.TelemetryLogger.getTelemetryLogger().log_Event(Dt.TelemetryEvent.FloodgateEngine.QueryTriggerMetApisAsync.SurveyCdnFailureSequentially,{Message:JSON.stringify({cdnLoadResult:v})}),[2,{governanceDecision:v2.GovernanceDecision.Rejected}]);case 4:return[2,h.sent()];case 5:return[3,7];case 6:return[2,this.getGovernanceDecision(s,a)];case 7:return[2]}})})},e.prototype.getGovernanceDecision=function(t,r){return XI(this,void 0,void 0,function(){var n,i;return $I(this,function(o){switch(o.label){case 0:return this.personalizerClient&&(n=this.personalizerClient.isEnabled(r.surveyType,r.launcherType,r.channelType),r.personalizerEnabled=n),[4,this.orchestrationEngine.getDecision(t,r)];case 1:return i=o.sent(),i&&this.personalizerClient&&this.personalizerClient.onGovernanceServiceResult(r,i.serviceResult),[2,i]}})})},e}();ns.FloodgateEngine=n9});var na=k(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.Utils=is.Api=void 0;var i9=Ee();Object.defineProperty(is,"Api",{enumerable:!0,get:function(){return i9.Api}});var o9=je();is.Utils=o9;var a9=gI();Object.defineProperty(is,"FloodgateEngine",{enumerable:!0,get:function(){return a9.FloodgateEngine}});var s9=Jn();Object.defineProperty(is,"TelemetryLogger",{enumerable:!0,get:function(){return s9.TelemetryLogger}})});var y2=k(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0})});var oS=k(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.CONTEXT_PARAM_KEYS=j.STYLE_TAG_BASE_ID=j.SmallScreenPosition=j.RATINGS_LIST_LENGTH=j.CVSurveySizeDefaults=j.CVSurveyPositionDefaults=j.CV_LOG_EVENT=j.CV_CANCEL_EVENT=j.CV_LOADED_EVENT=j.CV_SUBMIT_EVENT=j.GATECRASH_GOT_FORMS_ERROR=j.GATECRASH_RENDER_INLINE_IFRAME_CREATED=j.GATECRASH_RENDER_CVSURVEY_COMPLETED=j.GATECRASH_CV_CSS_ERROR=j.EVENT_HANDLER_ERROR=j.GATECRASH_ON_SURVEY_LOAD=j.GATECRASH_ON_SURVEY_CANCEL=j.EVENT_RESPONSE_DATA_ERROR=j.GATECRASH_ON_SURVEY_DATA_SUBMIT=j.GATECRASH_ON_URL_CREATE=j.GATECRASH_RENDER_ERROR=j.SURVEY_DIV_ID=j.RESPONSE_PAGE_IFRAME_ID=j.OVERLAY_DIV_ID=j.IFRAME_ID=j.ICON_DIV_ID=j.FORMSPRO_BASE_URL=j.DEFAULT_BASE_URL=j.DEFAULT_TEXT_CONTENT=j.DEFAULT_FRAME_CONTAINER_ID=j.DEFAULT_ERR_MSG=j.TOP_OF_SCREEN_HEIGHT_BUFFER=j.IFRAME_TOP_MARGIN=j.DEFAULT_EXPAND_HEIGHT=j.DEFAULT_COLLAPSE_HEIGHT=j.CDN_URL=j.CONTAINTER_SPAN_TEXT_ID=j.CONTAINER_BUTTON_ID=j.CLOSE_ICON_SOURCE=j.CLOSE_ICON_ID=j.CLOSE_BUTTON_ID=j.BUTTON_IFRAME_ID=j.BUTTON_CONTAINER_COLLAPSE=j.BUTTON_CONTAINER=j.ARROW_ICON_ID=void 0;j.ARROW_ICON_ID="MfpEmbed_Icon_Arrow";j.BUTTON_CONTAINER="MfpEmbed_Button_Container";j.BUTTON_CONTAINER_COLLAPSE="MfpEmbed_Button_Container_Collapse";j.BUTTON_IFRAME_ID="MfpEmbed_Button_Iframe";j.CLOSE_BUTTON_ID="closeButton";j.CLOSE_ICON_ID="MfpEmbed_CrossButton";j.CLOSE_ICON_SOURCE="cross.svg";j.CONTAINER_BUTTON_ID="MfpEmbed_Button";j.CONTAINTER_SPAN_TEXT_ID="MfpEmbed_Span";j.CDN_URL="https://mfpembedcdnwus2.azureedge.net/mfpembedcontwus2/";j.DEFAULT_COLLAPSE_HEIGHT="48px";j.DEFAULT_EXPAND_HEIGHT="480px";j.IFRAME_TOP_MARGIN=16;j.TOP_OF_SCREEN_HEIGHT_BUFFER=16;j.DEFAULT_ERR_MSG="gatecrash: Error thrown and could not be cast as type Error.";j.DEFAULT_FRAME_CONTAINER_ID="MfpEmbed_Popup";j.DEFAULT_TEXT_CONTENT="Provide Feedback";j.DEFAULT_BASE_URL="https://customervoice.microsoft.com/";j.FORMSPRO_BASE_URL="https://forms.office.com/formspro/";j.ICON_DIV_ID="mfpembed_iconDiv";j.IFRAME_ID="MfpEmbed_Iframe";j.OVERLAY_DIV_ID="mfpembed_overlayDiv";j.RESPONSE_PAGE_IFRAME_ID="MfpEmbed_Popup_Iframe";j.SURVEY_DIV_ID="gatecrashSurvey";j.GATECRASH_RENDER_ERROR={name:"Gatecrash_Render_Error"};j.GATECRASH_ON_URL_CREATE={name:"Gatecrash_On_Url_Create"};j.GATECRASH_ON_SURVEY_DATA_SUBMIT={name:"Gatecrash_On_Survey_Data_Submit"};j.EVENT_RESPONSE_DATA_ERROR={name:"Gatecrash_Event_Response_Data_Error"};j.GATECRASH_ON_SURVEY_CANCEL={name:"Gatecrash_On_Survey_Cancel"};j.GATECRASH_ON_SURVEY_LOAD={name:"Gatecrash_On_Survey_Load"};j.EVENT_HANDLER_ERROR={name:"Event_Handler_Error"};j.GATECRASH_CV_CSS_ERROR={name:"Gatecrash_CV_CSS_Error"};j.GATECRASH_RENDER_CVSURVEY_COMPLETED={name:"Gatecrash_Render_CVSurvey_Completed"};j.GATECRASH_RENDER_INLINE_IFRAME_CREATED={name:"Gatecrash_Render_Inline_Iframe_Created"};j.GATECRASH_GOT_FORMS_ERROR={name:"Gatecrash_Got_Forms_Error"};j.CV_SUBMIT_EVENT="CV_OnSubmit";j.CV_LOADED_EVENT="CV_OnLoaded";j.CV_CANCEL_EVENT="CV_OnCancel";j.CV_LOG_EVENT="CV_OnLog";var u9=function(){function e(){}return e.cssPosition="fixed",e.cssZIndex="999",e.cssBottom="56px",e.cssRight="19px",e}();j.CVSurveyPositionDefaults=u9;var l9=function(){function e(){}return e.height="0",e.width="500",e}();j.CVSurveySizeDefaults=l9;j.RATINGS_LIST_LENGTH=5;var c9=function(){function e(){}return e.bottom="12px",e.right="12px",e}();j.SmallScreenPosition=c9;j.STYLE_TAG_BASE_ID="gatecrash_survey_styles";j.CONTEXT_PARAM_KEYS=["additionalParams","customerVoiceFormId","flights","locale","isCommercialHost","platform","showUserEmailAddress","productName","uiHost","emailPolicyValue","uiHostCVSurveyDispatcher","autoDismiss","urlParams"]});var aS=k(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.SafeUtilFuncs=go.keyValDictToString=go.isTestEnv=go.isMobile=void 0;function f9(){return navigator.userAgent.toLocaleLowerCase()}function d9(){var e=f9();return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iPad|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))}go.isMobile=d9;function p9(e){return rx.includes(["cvss-test.azurewebsites.net","127.0.0.1:3000"],rx.getWindow(e).location.host)}go.isTestEnv=p9;function g9(e){return Object.keys(e).map(function(t){return t+":"+e[t]}).join(";")}go.keyValDictToString=g9;var rx=function(){function e(){}return e.safeArrayIncludes=function(t,r){for(var n=0;n<t.length;n++)if(t[n]===r)return!0;return!1},e.safeStringIncludes=function(t,r){if(t.length===0)return r==="";for(var n=0;n<t.length;n++){for(var i=!0,o=0;o<r.length;o++)if(t.charAt(n+o)!==r.charAt(o)){i=!1;break}if(i)return!0}return!1},e.includes=function(t,r){var n;return typeof t=="string"&&typeof r=="string"?String.prototype.includes?t.includes(r):e.safeStringIncludes(t,r):typeof t=="object"&&((n=t)===null||n===void 0?void 0:n.entries)!==void 0?Array.prototype.includes?t.includes(r):e.safeArrayIncludes(t,r):!1},e.getWindow=function(t){var r;return(r=t.ownerDocument.defaultView)!==null&&r!==void 0?r:window},e.getDocument=function(t){var r;return(r=t.ownerDocument)!==null&&r!==void 0?r:document},e}();go.SafeUtilFuncs=rx});var S2=k(bc=>{"use strict";var Hp=bc&&bc.__assign||function(){return Hp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hp.apply(this,arguments)};Object.defineProperty(bc,"__esModule",{value:!0});bc.SurveyEmbed=void 0;var Gp=oS(),Vp=aS(),m9=function(){function e(t,r){if(this._formId=t,!this._formId)throw new Error("form_id should be provided.");r?this._baseUrl=r:this._baseUrl=Gp.DEFAULT_BASE_URL,this._compact="false"}return e.prototype.renderInline=function(t,r,n,i){if(!t)throw new Error("Parent element not provided to renderInline");var o=this.createSurveyIFrame(t,r,n,i);t.textContent="",t.appendChild(o)},e.prototype.createSurveyIFrame=function(t,r,n,i){var o=Vp.SafeUtilFuncs.getDocument(t).createElement("iframe"),a=this.generateUrl(t,r,i);return n(Gp.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:Gp.GATECRASH_ON_URL_CREATE,customProperties:{Message:"Url: "+a}}),o.src=a,o.id=Gp.IFRAME_ID,o.width="100%",o.height="100%",o.style.border="none",o},e.prototype.generateUrl=function(t,r,n){var i;if(r==null)throw new Error("contextParams is required");var o=this._baseUrl+"Pages/ResponsePage.aspx?",a=n!==!1?"true":"false";o+=this._getQueryStringParameter("id",this._formId),o+="&"+this._getQueryStringParameter("embed","true"),this._compact&&(o+="&"+this._getQueryStringParameter("compact",this._compact));var s=r.urlParams;this.warnIfDuplicateParams((i=s==null?void 0:s.additionalUrlParams)!==null&&i!==void 0?i:{});var u;try{u=JSON.stringify(Hp(Hp(Hp({},r),s==null?void 0:s.additionalUrlParams),{urlParams:void 0}))}catch(l){u="{}"}if(u&&(o+="&"+this._getQueryStringParameter("ctx",u)),r&&Object.prototype.hasOwnProperty.call(r,"locale"))o+="&lang="+r.locale;else throw new Error("locale should be provided");return o+="&datawithevent=true&showcancel="+a+"&embed=true&oembedocv="+a+"&themecolor="+(s&&s.appPrimaryColor?s.appPrimaryColor:"")+"&autosubmit=true&autonavigate=true&hostappdomain="+Vp.SafeUtilFuncs.getWindow(t).location.protocol+"//"+(Vp.SafeUtilFuncs.getWindow(t).location.hostname+(Vp.SafeUtilFuncs.getWindow(t).location.port?":"+Vp.SafeUtilFuncs.getWindow(t).location.port:""))+"/",o},e.prototype.warnIfDuplicateParams=function(t){Object.keys(t).forEach(function(r){Gp.CONTEXT_PARAM_KEYS.includes(r)&&console.warn('[Gatecrash] Additional URL param "'+r+'" overwrites existing param, are you sure you wish to do this?')})},e.prototype._getQueryStringParameter=function(t,r){return encodeURIComponent(t)+"="+encodeURIComponent(r)},e}();bc.SurveyEmbed=m9});var E2=k(as=>{"use strict";var _2=as&&as.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(as,"__esModule",{value:!0});as.ResponsiveStyleManager=as.NonResponsiveStyleManager=void 0;var ut=oS(),os=aS(),C2=function(){function e(t,r,n,i){this.parentContainer=t,this.styleTagId=i!=null?i:ut.STYLE_TAG_BASE_ID,this.positionParams=e.getCSSParams(r),this.uiHostTheme=n!=null?n:"Light",this.isBackgroundDark=this.doesThemeHaveDarkBackground(n),this.targetHeight=ut.CVSurveySizeDefaults.height,this.targetWidth=ut.CVSurveySizeDefaults.width}return e.getCSSParams=function(t){var r,n,i,o,a=(r=t==null?void 0:t.cssPosition)!==null&&r!==void 0?r:ut.CVSurveyPositionDefaults.cssPosition,s=(n=t==null?void 0:t.cssZIndex)!==null&&n!==void 0?n:ut.CVSurveyPositionDefaults.cssZIndex,u=(i=t==null?void 0:t.cssBottom)!==null&&i!==void 0?i:ut.CVSurveyPositionDefaults.cssBottom,l=(o=t==null?void 0:t.cssRight)!==null&&o!==void 0?o:ut.CVSurveyPositionDefaults.cssRight;return{position:a,zIndex:s,bottom:u,right:l}},e.prototype.applyNewTheme=function(t){this.setUiHostTheme(t),this.setIsBackgroundDark(this.doesThemeHaveDarkBackground(t))},e.prototype.setTargetHeight=function(t){t.length>=2&&t.slice(t.length-2)==="px"&&(t=t.slice(0,t.length-2)),this.targetHeight!==t&&(this.targetHeight=t,this.updateDocumentStyles())},e.prototype.setTargetWidth=function(t){t.length>=2&&t.slice(t.length-2)==="px"&&(t=t.slice(0,t.length-2)),this.targetWidth!==t&&(this.targetWidth=t,this.updateDocumentStyles())},e.prototype.getParentContainer=function(){return this.parentContainer},e.prototype.getParentContainerId=function(){return this.parentContainer.id},e.prototype.getPositionParams=function(){return this.positionParams},e.prototype.getUiHostTheme=function(){return this.uiHostTheme},e.prototype.getIsBackgroundDark=function(){return this.isBackgroundDark},e.prototype.getTargetHeight=function(){return this.targetHeight},e.prototype.getTargetWidth=function(){return this.targetWidth},e.prototype.getCss=function(){return"\n      iframe#"+ut.IFRAME_ID+" {\n        border: none !important;\n        overflow-y: scroll;\n      }\n\n      div#"+this.getParentContainerId()+" {\n        padding: 0px 10px 0 10px;\n        "+(this.isBackgroundDark?"background-color: black;":"")+"\n      }\n\n      div#"+ut.SURVEY_DIV_ID+" {\n        float: right;\n        font-weight: bold;\n      }\n\n      button#"+ut.CLOSE_BUTTON_ID+" {\n        float: right;\n        background: none;\n        border: 0px;\n        padding: 3px;\n        margin-top: 5px;\n        font-size: large;\n        "+(this.isBackgroundDark?"color: white;":"")+"\n      }\n    "},e.prototype.updateDocumentStyles=function(){var t=os.SafeUtilFuncs.getDocument(this.getParentContainer()).getElementById(this.styleTagId);if(t)t.textContent=this.getCss();else{var r=os.SafeUtilFuncs.getDocument(this.getParentContainer()).createElement("style");r.id=this.styleTagId,r.textContent=this.getCss(),os.SafeUtilFuncs.getDocument(this.getParentContainer()).head.appendChild(r)}},e.prototype.cleanupStyles=function(){var t,r=os.SafeUtilFuncs.getDocument(this.getParentContainer()).getElementById(this.styleTagId);(t=r==null?void 0:r.parentNode)===null||t===void 0||t.removeChild(r)},e.prototype.setUiHostTheme=function(t){this.uiHostTheme!==t&&(this.uiHostTheme=t,this.updateDocumentStyles())},e.prototype.setIsBackgroundDark=function(t){this.isBackgroundDark!==t&&(this.isBackgroundDark=t,this.updateDocumentStyles())},e.prototype.doesThemeHaveDarkBackground=function(t){return os.SafeUtilFuncs.includes(["Dark","HighContrast"],t)},e}(),v9=function(e){_2(t,e);function t(r,n,i,o){return e.call(this,r,n,i,o)||this}return t.prototype.getCss=function(){return"\n    "+e.prototype.getCss.call(this)+"\n\n    iframe#"+ut.IFRAME_ID+" {\n      height: "+(this.getTargetHeight()+"px")+"\n    }\n\n    div#"+this.getParentContainerId()+" {\n      bottom: 0px !important;\n      right: 0px !important;\n    }\n    "},t}(C2);as.NonResponsiveStyleManager=v9;var h9=function(e){_2(t,e);function t(r,n,i,o){return e.call(this,r,n,i,o)||this}return t.prototype.getCss=function(){return"\n    "+e.prototype.getCss.call(this)+"\n\n    iframe#"+ut.IFRAME_ID+" {\n      margin-top: "+(ut.IFRAME_TOP_MARGIN+"px")+"\n    }\n\n    div#"+this.getParentContainerId()+" {\n      position: "+this.getPositionParams().position+";\n      z-index: "+this.getPositionParams().zIndex+";\n      bottom: "+this.getPositionParams().bottom+";\n      right: "+this.getPositionParams().right+"; \n    }\n\n    @media only screen and (min-width:768px) {\n      iframe#"+ut.IFRAME_ID+" {\n          max-width:calc("+(this.getTargetWidth()+"px")+" - 20px); \n          width:calc("+(this.getTargetWidth()+"px")+" - 20px);\n          height: min(calc(calc("+(os.SafeUtilFuncs.getWindow(this.getParentContainer()).innerHeight-ut.TOP_OF_SCREEN_HEIGHT_BUFFER+"px")+" - "+this.getPositionParams().bottom+") - "+this.getPositionParams().bottom+"), "+(this.getTargetHeight()+"px")+");\n      }\n\n      div#"+this.getParentContainerId()+" {\n          min-width:"+(this.getTargetWidth()+"px")+"; \n      }\n\n      div#"+ut.SURVEY_DIV_ID+" {\n          padding: 1px;\n          font-size: large;\n      }\n    }\n\n    @media only screen and (min-width:480px) and (max-width:768px) {\n      iframe#"+ut.IFRAME_ID+" {\n          max-width:340px; \n          width:340px;\n          height: min(calc(calc("+(os.SafeUtilFuncs.getWindow(this.getParentContainer()).innerHeight-ut.TOP_OF_SCREEN_HEIGHT_BUFFER+"px")+" - "+this.getPositionParams().bottom+") - "+this.getPositionParams().bottom+"), "+(this.getTargetHeight()+"px")+");\n      } \n\n      div#"+this.getParentContainerId()+" {\n          min-width:350px;\n      }\n\n      div#"+ut.SURVEY_DIV_ID+" {\n          padding: 0.75px;\n          font-size: medium;\n      }\n    }\n\n    @media only screen and (max-width:480px) {\n      iframe#"+ut.IFRAME_ID+" {\n          max-width:300px; \n          width:300px;\n          height: min(calc(calc("+(os.SafeUtilFuncs.getWindow(this.getParentContainer()).innerHeight-ut.TOP_OF_SCREEN_HEIGHT_BUFFER+"px")+" - "+ut.SmallScreenPosition.bottom+") - "+ut.SmallScreenPosition.bottom+"), "+(this.getTargetHeight()+"px")+");\n      }\n\n      div#"+this.getParentContainerId()+" {\n          min-width:310px;\n          bottom: "+ut.SmallScreenPosition.bottom+" !important;\n          right: "+ut.SmallScreenPosition.right+" !important;\n      }\n\n      div#"+ut.SURVEY_DIV_ID+" {\n          padding: 0.5px;\n          font-size: small;\n      }\n    }\n    "},t}(C2);as.ResponsiveStyleManager=h9});var N2=k(mo=>{"use strict";var T2=mo&&mo.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(mo,"__esModule",{value:!0});mo.unitTestExports=mo.validatePromptValue=mo.renderCVSurvey=void 0;var y9=S2(),be=oS(),Ur=aS(),sS=E2(),lS=!1,b2=!1,zp=[],nx=[],uS=[],S9={},cS=!1,x2=!1,A2=!1,ss=0,jr=!0,ix=function(e,t,r,n,i){i===void 0&&(i=!1),He.unsubscribeEventHandler(e),t.addEventListener(r,n,{once:i}),He.registeredEventHandlers[e]={element:t,event:r,handler:n}},_9=function(e){var t=He.registeredEventHandlers[e];t&&(t.element.removeEventListener(t.event,t.handler),delete He.registeredEventHandlers[e])};mo.renderCVSurvey=function(e,t,r,n,i){var o;i===void 0&&(i=!0);var a=performance.now();jr=i;var s=He.safeWrapHandleSurveyEvent(t),u={updateStyling:function(){}},l=typeof e=="string"?He.createSurveyContainer(e,s):e;if(!l)return u;var c=(o=n==null?void 0:n.responsiveContainerSizing)!==null&&o!==void 0?o:!0,f=[l,n,r.uiHostCVSurveyDispatcher],d=c?new(sS.ResponsiveStyleManager.bind.apply(sS.ResponsiveStyleManager,T2([void 0],f))):new(sS.NonResponsiveStyleManager.bind.apply(sS.NonResponsiveStyleManager,T2([void 0],f)));T9(l,s,r,a,d,n);try{He.renderSurvey(l,r,s,n==null?void 0:n.cancelButtonEnabled);var p=He.getIframeElement(l,s);p&&(u.updateStyling=He.handleCvVarInjection.bind(null,p,s)),d.updateDocumentStyles(),(n==null?void 0:n.closeButtonEnabled)!==!1&&D9(l,s,r,d)}catch(h){var v=h.message;s(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:v!=null?v:be.DEFAULT_ERR_MSG},isMainContext:jr})}return u};function C9(e){var t=function(r,n){var i,o;try{e(r,n)}catch(u){var a=(i=u.message)!==null&&i!==void 0?i:be.DEFAULT_ERR_MSG;try{e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.EVENT_HANDLER_ERROR,customProperties:{ErrorMessage:a}})}catch(l){var s=(o=l.message)!==null&&o!==void 0?o:be.DEFAULT_ERR_MSG;console.error("ERROR: Cannot call survey logging callback. "+("Unable to log the following error: "+a+" ")+("Logging callback failed with error: "+s))}}};return t}function vo(e){return e==null}function E9(e,t){if(!e)return t(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent div name not provided."},isMainContext:jr}),null;var r=document.createElement("div");r.id=e,document.body.appendChild(r);var n=document.getElementById(e);return n?(n.style.display="none",n):(t(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent element with id "+e+" not found."},isMainContext:jr}),null)}function T9(e,t,r,n,i,o){var a=O9.bind(null,t,e,n,o!=null?o:{},r,i);He.subscribeEventHandler("WindowMessage",Ur.SafeUtilFuncs.getWindow(e),"message",a)}function b9(e){if(!vo(e)){var t=e.split(","),r=Ur.SafeUtilFuncs.includes(t[0],"pageType")?t.slice(1):t,n=r.map(function(o){return(""+o).split("=")[1]});zp.push.apply(zp,n);var i=r.map(function(o){return(""+o).split("=")[0].trim()});nx.push.apply(nx,i)}}function I9(e,t,r,n){r&&He.injectRuntimeCssVars(e,t,r),n&&He.injectRuntimeHtmlDataAttrs(e,t,n)}function x9(e,t,r){var n=Ur.keyValDictToString(r);e.contentWindow?e.contentWindow.postMessage("FormsRuntimeCssVars:"+n,be.DEFAULT_BASE_URL):t(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_CV_CSS_ERROR,customProperties:{ErrorMessage:"Could not locate iframe contentWindow to post message"},isMainContext:jr})}function A9(e,t,r){var n,i=Ur.keyValDictToString(r);e.contentWindow?(n=e.contentWindow)===null||n===void 0||n.postMessage("FormsRuntimeHtmlDataAttrs:"+i,be.DEFAULT_BASE_URL):t(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_CV_CSS_ERROR,customProperties:{ErrorMessage:"Could not locate iframe contentWindow to post message"},isMainContext:jr})}function w9(e){if(typeof e=="string"){if(Ur.SafeUtilFuncs.includes(e,"ResponsePageHeight"))return"ResponsePageHeight";if(Ur.SafeUtilFuncs.includes(e,"FormsComponentWillMount"))return"FormsComponentWillMount";if(Ur.SafeUtilFuncs.includes(e,"FormsError"))return"FormsError"}else if(e.Type)switch(e.Type){case"ResponsePageLoaded":return"ResponsePageLoaded";case"FormResponseSubmitted":return"FormResponseSubmitted";case"FormResponseBack":return"FormResponseBack";case"FormPartialResponseSubmitted":return"FormPartialResponseSubmitted";case"FormResponseCanceled":return"FormResponseCanceled";case"FormClosed":return"FormClosed";case"PromptClosed":return"PromptClosed";case"AdditionalPromptClosed":return"AdditionalPromptClosed";case"ThankYouPageClosed":return"ThankYouPageClosed";case"GatecrashEvent":return"GatecrashEvent"}return"Unknown"}function N9(e,t){var r=Ur.SafeUtilFuncs.getDocument(e).getElementById(be.IFRAME_ID);return r||t(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_CV_CSS_ERROR,customProperties:{ErrorMessage:"Could not locate iframe element"},isMainContext:jr}),r}function O9(e,t,r,n,i,o,a){var s,u,l,c=a==null?void 0:a.data;Ur.isTestEnv(t)&&console.log("[DEBUG] Got iframe event:",c);var f=(s=n==null?void 0:n.timeOutEnabled)!==null&&s!==void 0?s:!0;function d(P){if(P?uS.length&&zp.unshift(""+uS.pop()):zp.length&&uS.push(""+zp.shift()),t){var x=uS.slice(-1);x.length&&o.setTargetWidth(x[0])}}if(!vo(c)){var p=w9(c);if(p==="ResponsePageHeight"){var v=c.split(":"),h=He.getIframeElement(t,e);if(h&&h.style){o.setTargetHeight(v[2]);return}}else if(p==="FormsError"){var g=c.split(":"),m=g[1];e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_GOT_FORMS_ERROR,customProperties:{ErrorMessage:"Gatecrash received error from forms: "+(m!=null?m:"[CANNOT READ ERROR]")},isMainContext:jr});return}else if(p==="FormsComponentWillMount"){var h=He.getIframeElement(t,e);if(h){var y=(u=n==null?void 0:n.runtimeCssVars)!==null&&u!==void 0?u:{},S=(l=n==null?void 0:n.runtimeHtmlDataAttrs)!==null&&l!==void 0?l:{};He.handleCvVarInjection(h,e,y,S)}}var E=Ur.SafeUtilFuncs.includes(c.FormTitle,"IsDispatcherSurvey=true");if(p==="ResponsePageLoaded")E&&(ss-=1),!(c!=null&&c.Message)&&b9(c.FormTitle),d(),t.style.display=E?"none":"inherit",t.style.display!=="none"&&e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_CVSURVEY_COMPLETED,TimeMilliseconds:performance.now()-r}),e(be.CV_LOADED_EVENT,{dateTime:new Date,eventType:p,hasSurveyPromptShown:Ur.SafeUtilFuncs.includes(c.FormTitle,"prompt"),hasSurveyDispatcher:E,isMainContext:jr,TimeMilliseconds:performance.now()-r}),t==null||t.blur(),f!==!1&&ss!=-1&&I2(lS,t,e,i,o);else if(p==="FormResponseBack")d(!0);else if(p==="FormResponseCanceled"){var D="FormResponseCanceled";e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_ON_SURVEY_CANCEL,customProperties:{Message:"gatecrash: survey cancel triggered: "+D},isMainContext:jr}),jp(t,e,o,D)}else if(p==="FormResponseSubmitted"||p==="FormPartialResponseSubmitted"){ss=ss+1,d(),E||e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: onSubmitCallback has been triggered for type:  + "+p},isMainContext:jr});try{E||(e(be.CV_SUBMIT_EVENT,{dateTime:new Date,eventType:p,formTitle:c.FormTitle,pageNumber:ss.toString(),pageInfo:He.getPageInfo(c.Message),isMainContext:jr}),cS&&jp(t,e,o))}catch(P){e(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: Error: "+P},isMainContext:jr}),He.unsubscribeEventHandler("WindowMessage")}finally{p==="FormResponseSubmitted"&&ss>0&&(Ur.SafeUtilFuncs.includes(c==null?void 0:c.FormTitle,"thankyou")&&!Ur.isMobile()?(lS=!1,f!==!1&&I2(lS,t,e,i,o,!0,E)):jp(t,e,o,void 0))}}}}function D9(e,t,r,n){if(!vo(e)){var i=Ur.SafeUtilFuncs.getDocument(e).createElement("div"),o=Ur.SafeUtilFuncs.getDocument(e).createElement("button");o.id=be.CLOSE_BUTTON_ID,i.id=be.SURVEY_DIV_ID,o.textContent="x",i.appendChild(o),e.insertBefore(i,e.childNodes[0]),P9(o,t,e,r,n)}}function P9(e,t,r,n,i){var o=function(){e.style.backgroundColor="lightgray"};n.uiHostCVSurveyDispatcher==="HighContrast"&&(o=function(){e.style.backgroundColor="yellow"}),He.subscribeEventHandler("CloseButtonMouseEnter",e,"mouseenter",o);var a=function(){e.style.background="none"};He.subscribeEventHandler("CloseButtonMouseLeave",e,"mouseleave",a);var s=jp.bind(null,r,t,i,null);He.subscribeEventHandler("CloseButtonClick",e,"click",s)}function F9(e){He.unsubscribeEventHandler("CloseButtonMouseEnter"),He.unsubscribeEventHandler("CloseButtonMouseLeave"),He.unsubscribeEventHandler("CloseButtonClick"),He.unsubscribeEventHandler("SurveyContainerMouseOver"),He.unsubscribeEventHandler("SurveyContainerFocusIn"),e()}function jp(e,t,r,n){if(F9(function(){vo(t)||He.unsubscribeEventHandler("WindowMessage")}),e==null||e.remove(),r.cleanupStyles(),lS=!1,!!t&&cS==!1&&x2==!1&&A2==!1){var i={dateTime:new Date,eventType:n!=null?n:"Unknown",isMainContext:jr};R9(i),t(be.CV_CANCEL_EVENT,i)}}function R9(e){var t=nx[ss];if(e.eventType=="Unknown")switch(t){case"prompt":e.eventType="PromptClosed";break;case"rating":e.eventType="FormClosed";break;case"additional":e.eventType="AdditionalPromptClosed";break;case"thankyou":A2=!0,e.eventType="ThankYouPageClosed";break;default:e.eventType="FormClosed",e.pageNumber=t;break}else e.eventType=="FormResponseCanceled"&&t!=="rating"&&(e.eventType="FormClosed",e.pageNumber=(ss+1).toString())}function L9(e,t,r,n){var i=!1;try{var o=new y9.SurveyEmbed(t==null?void 0:t.customerVoiceFormId,be.DEFAULT_BASE_URL),a=performance.now();o.renderInline(e,t,r,n),r(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_INLINE_IFRAME_CREATED,TimeMilliseconds:performance.now()-a}),i=!0}catch(u){var s=u.message;throw r(be.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:be.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:s!=null?s:be.DEFAULT_ERR_MSG},isMainContext:jr}),u}return i}function I2(e,t,r,n,i,o,a){if(a===void 0&&(a=!1),!e){var s=o==!0?"ThankYouPageAutoDismissed":"FormAutoDismissed",u=void 0;n.autoDismiss?u=n.autoDismiss:(u=o===!0?5e3:28e3,o===!0&&a===!0&&b2===!1&&(u=2e4,b2=!0));var l=setTimeout(function(){jp(t,r,i,s)},u),c=He.getIframeElement(t,r);if(c){var f=function(){clearTimeout(l),e=!0};ix("SurveyContainerMouseOver",t,"mouseover",f,!0),ix("SurveyContainerFocusIn",t,"focusin",f,!0)}}}function U9(e){if(vo(e))throw new Error("Error: Submit messages are null/undefined or length of 0");for(var t=[],r=0;r<e.length;r++)if(e[r].questionAnswers.length>0){cS=He.validatePromptValue(e[r].questionAnswers[0].subtitle,e[r].questionAnswers[0].answer[0]),e[r].questionAnswers[0].subtitle=="additional"&&!vo(e[r].questionAnswers[0].answer[0])&&(e[r].questionAnswers[0].answer[0]==e[r].questionAnswers[0].optionList[0]?e[r].questionAnswers[0].answer[0]="2":(e[r].questionAnswers[0].answer[0]="1",x2=!0));var n=He.getQuestionList(e[r].questionAnswers),i=e[r].PageType,o={pageType:i,questionAnswers:n};t.push(o)}var a=e.map(function(l){return l.questionAnswers.some(function(c){var f;return(f=c.answer)===null||f===void 0?void 0:f[0]})}),s=a.lastIndexOf(!0),u=t.slice(0,s+1);return u}function w2(e,t){return e=="prompt"&&!vo(t)&&cS==!1&&t=="1"}mo.validatePromptValue=w2;function k9(e){return e.subtitle!="label"}function M9(e){if(vo(e))throw new Error("Error: current message is null/undefined or length of 0");for(var t=[],r=0;r<e.length;r++){var n=e[r];He.shouldIncludeSurveyQuestionAnswer(n)&&t.push(He.getSurveyQuestionAnswer(n))}return t}function B9(e){var t=e,r={questionType:t.subtitle,questionId:t.questionId,questionValue:t.title,answerValue:t.answer};return vo(t.optionList)||(r.insightfulQuestionAnswers=He.getQuestionAnswers(t.answer,t.optionList),r.insightfulQuestionOptions=t.optionList),t.subtitle==="rating"&&(r.ratingsListLength=vo(t.optionList)?be.RATINGS_LIST_LENGTH:t.optionList.length),r}function G9(e,t){return t==null?void 0:t.map(function(r){return Ur.SafeUtilFuncs.includes(e!=null?e:[],r)})}var He={registeredEventHandlers:S9,subscribeEventHandler:ix,unsubscribeEventHandler:_9,safeWrapHandleSurveyEvent:C9,createSurveyContainer:E9,handleCvVarInjection:I9,renderSurvey:L9,getIframeElement:N9,getPageInfo:U9,validatePromptValue:w2,shouldIncludeSurveyQuestionAnswer:k9,getSurveyQuestionAnswer:B9,getQuestionList:M9,getQuestionAnswers:G9,injectRuntimeCssVars:x9,injectRuntimeHtmlDataAttrs:A9};mo.unitTestExports=He});var ox=k(us=>{"use strict";var V9=us&&us.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O2=us&&us.__exportStar||function(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&V9(t,e,r)};Object.defineProperty(us,"__esModule",{value:!0});O2(y2(),us);O2(N2(),us)});var D2=k((ax,sx)=>{(function(e,t){typeof ax=="object"&&typeof sx<"u"?sx.exports=t():typeof define=="function"&&define.amd?define(t):e.ES6Promise=t()})(ax,function(){"use strict";function e(U){var _=typeof U;return U!==null&&(_==="object"||_==="function")}function t(U){return typeof U=="function"}var r=void 0;Array.isArray?r=Array.isArray:r=function(U){return Object.prototype.toString.call(U)==="[object Array]"};var n=r,i=0,o=void 0,a=void 0,s=function(_,b){E[i]=_,E[i+1]=b,i+=2,i===2&&(a?a(D):x())};function u(U){a=U}function l(U){s=U}var c=typeof window<"u"?window:void 0,f=c||{},d=f.MutationObserver||f.WebKitMutationObserver,p=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){return function(){return process.nextTick(D)}}function g(){return typeof o<"u"?function(){o(D)}:S()}function m(){var U=0,_=new d(D),b=document.createTextNode("");return _.observe(b,{characterData:!0}),function(){b.data=U=++U%2}}function y(){var U=new MessageChannel;return U.port1.onmessage=D,function(){return U.port2.postMessage(0)}}function S(){var U=setTimeout;return function(){return U(D,1)}}var E=new Array(1e3);function D(){for(var U=0;U<i;U+=2){var _=E[U],b=E[U+1];_(b),E[U]=void 0,E[U+1]=void 0}i=0}function P(){try{var U=Function("return this")().require("vertx");return o=U.runOnLoop||U.runOnContext,g()}catch(_){return S()}}var x=void 0;p?x=h():d?x=m():v?x=y():c===void 0&&typeof Rw=="function"?x=P():x=S();function q(U,_){var b=this,w=new this.constructor(ue);w[se]===void 0&&ft(w);var L=b._state;if(L){var B=arguments[L-1];s(function(){return ke(L,w,B,b._result)})}else $(b,w,U,_);return w}function G(U){var _=this;if(U&&typeof U=="object"&&U.constructor===_)return U;var b=new _(ue);return Ae(b,U),b}var se=Math.random().toString(36).substring(2);function ue(){}var Se=void 0,Te=1,fe=2;function le(){return new TypeError("You cannot resolve a promise with itself")}function $e(){return new TypeError("A promises callback cannot return that same promise.")}function ir(U,_,b,w){try{U.call(_,b,w)}catch(L){return L}}function Et(U,_,b){s(function(w){var L=!1,B=ir(b,_,function(ie){L||(L=!0,_!==ie?Ae(w,ie):K(w,ie))},function(ie){L||(L=!0,te(w,ie))},"Settle: "+(w._label||" unknown promise"));!L&&B&&(L=!0,te(w,B))},U)}function Yt(U,_){_._state===Te?K(U,_._result):_._state===fe?te(U,_._result):$(_,void 0,function(b){return Ae(U,b)},function(b){return te(U,b)})}function et(U,_,b){_.constructor===U.constructor&&b===q&&_.constructor.resolve===G?Yt(U,_):b===void 0?K(U,_):t(b)?Et(U,_,b):K(U,_)}function Ae(U,_){if(U===_)te(U,le());else if(e(_)){var b=void 0;try{b=_.then}catch(w){te(U,w);return}et(U,_,b)}else K(U,_)}function V(U){U._onerror&&U._onerror(U._result),ge(U)}function K(U,_){U._state===Se&&(U._result=_,U._state=Te,U._subscribers.length!==0&&s(ge,U))}function te(U,_){U._state===Se&&(U._state=fe,U._result=_,s(V,U))}function $(U,_,b,w){var L=U._subscribers,B=L.length;U._onerror=null,L[B]=_,L[B+Te]=b,L[B+fe]=w,B===0&&U._state&&s(ge,U)}function ge(U){var _=U._subscribers,b=U._state;if(_.length!==0){for(var w=void 0,L=void 0,B=U._result,ie=0;ie<_.length;ie+=3)w=_[ie],L=_[ie+b],w?ke(b,w,L,B):L(B);U._subscribers.length=0}}function ke(U,_,b,w){var L=t(b),B=void 0,ie=void 0,pe=!0;if(L){try{B=b(w)}catch(I){pe=!1,ie=I}if(_===B){te(_,$e());return}}else B=w;_._state!==Se||(L&&pe?Ae(_,B):pe===!1?te(_,ie):U===Te?K(_,B):U===fe&&te(_,B))}function We(U,_){try{_(function(w){Ae(U,w)},function(w){te(U,w)})}catch(b){te(U,b)}}var tt=0;function ct(){return tt++}function ft(U){U[se]=tt++,U._state=void 0,U._result=void 0,U._subscribers=[]}function Wt(){return new Error("Array Methods must be provided an Array")}var Pt=function(){function U(_,b){this._instanceConstructor=_,this.promise=new _(ue),this.promise[se]||ft(this.promise),n(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),this.length===0?K(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),this._remaining===0&&K(this.promise,this._result))):te(this.promise,Wt())}return U.prototype._enumerate=function(b){for(var w=0;this._state===Se&&w<b.length;w++)this._eachEntry(b[w],w)},U.prototype._eachEntry=function(b,w){var L=this._instanceConstructor,B=L.resolve;if(B===G){var ie=void 0,pe=void 0,I=!1;try{ie=b.then}catch(R){I=!0,pe=R}if(ie===q&&b._state!==Se)this._settledAt(b._state,w,b._result);else if(typeof ie!="function")this._remaining--,this._result[w]=b;else if(L===dt){var F=new L(ue);I?te(F,pe):et(F,b,ie),this._willSettleAt(F,w)}else this._willSettleAt(new L(function(R){return R(b)}),w)}else this._willSettleAt(B(b),w)},U.prototype._settledAt=function(b,w,L){var B=this.promise;B._state===Se&&(this._remaining--,b===fe?te(B,L):this._result[w]=L),this._remaining===0&&K(B,this._result)},U.prototype._willSettleAt=function(b,w){var L=this;$(b,void 0,function(B){return L._settledAt(Te,w,B)},function(B){return L._settledAt(fe,w,B)})},U}();function M(U){return new Pt(this,U).promise}function ki(U){var _=this;return n(U)?new _(function(b,w){for(var L=U.length,B=0;B<L;B++)_.resolve(U[B]).then(b,w)}):new _(function(b,w){return w(new TypeError("You must pass an array to race."))})}function li(U){var _=this,b=new _(ue);return te(b,U),b}function Ln(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ci(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var dt=function(){function U(_){this[se]=ct(),this._result=this._state=void 0,this._subscribers=[],ue!==_&&(typeof _!="function"&&Ln(),this instanceof U?We(this,_):ci())}return U.prototype.catch=function(b){return this.then(null,b)},U.prototype.finally=function(b){var w=this,L=w.constructor;return t(b)?w.then(function(B){return L.resolve(b()).then(function(){return B})},function(B){return L.resolve(b()).then(function(){throw B})}):w.then(b,b)},U}();dt.prototype.then=q,dt.all=M,dt.race=ki,dt.resolve=G,dt.reject=li,dt._setScheduler=u,dt._setAsap=l,dt._asap=s;function pr(){var U=void 0;if(typeof global<"u")U=global;else if(typeof self<"u")U=self;else try{U=Function("return this")()}catch(w){throw new Error("polyfill failed because global object is unavailable in this environment")}var _=U.Promise;if(_){var b=null;try{b=Object.prototype.toString.call(_.resolve())}catch(w){}if(b==="[object Promise]"&&!_.cast)return}U.Promise=dt}return dt.polyfill=pr,dt.Promise=dt,dt})});var F2=k((kue,P2)=>{"use strict";P2.exports=D2().polyfill()});var q3=k((tde,p7)=>{p7.exports={name:"@ms/centro-hvc-loader",version:"4.7.4",description:"Project Centro high value component loader",license:"UNLICENSED",devDependencies:{"@types/webpack-env":"1.15.1",typescript:"4.2.3"},homepage:"https://office.visualstudio.com/OC/_git/M365AdminUX?path=%2Fmodules%2Fhvc-loader",bugs:{url:"https://office.visualstudio.com/OC/_workitems/edit/2364251",email:"centroinfo@microsoft.com"},author:"MAC Platform Team <macplat@microsoft.com>",main:"./dist/hvc-loader/index.js",module:"./dist/hvc-loader/index.js",typings:"./dist/hvc-loader/index.d.ts",dependencies:{tslib:"^2.1.0"},scripts:{build:"tsc -p ./tsconfig.json"}}});var Bg=X(Ve(),1),_w=X($D(),1);var Mg=X(Ve(),1);var KE=typeof window>"u"?global:window,QE="@griffel/";function A4(e,t){return KE[Symbol.for(QE+e)]||(KE[Symbol.for(QE+e)]=t),KE[Symbol.for(QE+e)]}var qf=A4("DEFINITION_LOOKUP_TABLE",{}),Fs="data-make-styles-bucket",JE="data-priority";var iv=7,Sl="___",ZD="_",eP=Sl.length+iv,tP=0,rP=1;function ov(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function XE(e){let t=e.length;if(t===iv)return e;for(let r=t;r<iv;r++)e+="0";return e}function av(e,t,r=[]){return Sl+XE(ov(e+t))}function $E(e,t){let r="",n="";for(let i in e){let o=e[i];if(o===0){n+=i+" ";continue}let a=Array.isArray(o),s=t==="rtl"?(a?o[1]:o)+" ":(a?o[0]:o)+" ";r+=s,n+=s}return[r.slice(0,-1),n.slice(0,-1)]}function ZE(e,t){let r={};for(let n in e){let[i,o]=$E(e[n],t);if(o===""){r[n]="";continue}let a=av(o,t),s=a+(i===""?"":" "+i);qf[a]=[e[n],t],r[n]=s}return r}var nP={};function e0(){let e=null,t="",r="",n=new Array(arguments.length),i="";for(let d=0;d<arguments.length;d++){let p=arguments[d];if(typeof p=="string"&&p!==""){let v=p.indexOf(Sl);if(v===-1)t+=p+" ";else{let h=p.substr(v,eP);v>0&&(t+=p.slice(0,v)),r+=h,n[d]=h}}}if(r==="")return t.slice(0,-1);let o=nP[r];if(o!==void 0)return t+o;let a=[];for(let d=0;d<arguments.length;d++){let p=n[d];if(p){let v=qf[p];v&&(a.push(v[tP]),e=v[rP])}}let s=Object.assign.apply(Object,[{}].concat(a)),[u,l]=$E(s,e),c=av(l,e,n),f=c+" "+u;return nP[r]=f,qf[c]=[s,e],t+f}function iP(e){return Array.isArray(e)?e:[e]}function oP(e,t,r,n){let i=[];if(n[Fs]=t,n[JE]=String(r),e)for(let a in n)e.setAttribute(a,n[a]);function o(a){return e!=null&&e.sheet?e.sheet.insertRule(a,e.sheet.cssRules.length):i.push(a)}return{elementAttributes:n,insertRule:o,element:e,bucketName:t,cssRules(){return e!=null&&e.sheet?Array.from(e.sheet.cssRules).map(a=>a.cssText):i}}}var w4=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"],aP=w4.reduce((e,t,r)=>(e[t]=r,e),{});function N4(e,t,r){return(e==="m"?e+t:e)+r}function sP(e,t,r,n,i={}){var o,a;let s=e==="m",u=(o=i.m)!==null&&o!==void 0?o:"0",l=(a=i.p)!==null&&a!==void 0?a:0,c=N4(e,u,l);if(!n.stylesheets[c]){let f=t&&t.createElement("style"),d=oP(f,e,l,Object.assign({},n.styleElementAttributes,s&&{media:u}));n.stylesheets[c]=d,t!=null&&t.head&&f&&t.head.insertBefore(f,D4(t,r,e,n,i))}return n.stylesheets[c]}function O4(e,t,r){var n,i;let o=t+((n=r.m)!==null&&n!==void 0?n:""),a=e.getAttribute(Fs)+((i=e.media)!==null&&i!==void 0?i:"");return o===a}function D4(e,t,r,n,i={}){var o,a;let s=aP[r],u=(o=i.m)!==null&&o!==void 0?o:"",l=(a=i.p)!==null&&a!==void 0?a:0,c=h=>s-aP[h.getAttribute(Fs)],f=e.head.querySelectorAll("[".concat(Fs,"]"));if(r==="m"){let h=e.head.querySelectorAll("[".concat(Fs,'="').concat(r,'"]'));h.length&&(f=h,c=g=>n.compareMediaQueries(u,g.media))}let d=h=>O4(h,r,i)?l-Number(h.getAttribute("data-priority")):c(h),p=f.length,v=p-1;for(;v>=0;){let h=f.item(v);if(d(h)>0)return h.nextSibling;v--}return p>0?f.item(0):t?t.nextSibling:null}var P4=["-moz-placeholder","-moz-focus-inner","-moz-focusring","-ms-input-placeholder","-moz-read-write","-moz-read-only"].join("|"),sQ=new RegExp(":(".concat(P4,")"));function t0(e,t){try{e.insertRule(t)}catch(r){}}var F4=0,uP=(e,t)=>e<t?-1:e>t?1:0;function r0(e=typeof document>"u"?void 0:document,t={}){let{classNameHashSalt:r,unstable_filterCSSRule:n,insertionPoint:i,styleElementAttributes:o,compareMediaQueries:a=uP}=t,s={classNameHashSalt:r,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(o),compareMediaQueries:a,id:"d".concat(F4++),insertCSSRules(u){for(let l in u){let c=u[l];for(let f=0,d=c.length;f<d;f++){let[p,v]=iP(c[f]),h=sP(l,e,i||null,s,v);s.insertionCache[p]||(s.insertionCache[p]=l,n?n(p)&&t0(h,p):t0(h,p))}}}};return s}var lP=()=>{let e={};return function(r,n){e[r.id]===void 0&&(r.insertCSSRules(n),e[r.id]=!0)}};function n0(e,t,r=lP){let n=r(),i=null,o=null,a;function s(u){let{dir:l,renderer:c}=u,f=l==="ltr";return f?i===null&&(i=ZE(e,l)):o===null&&(o=ZE(e,l)),n(c,t),f?i:o}return s}var _l=X(Ve());var R4=_l.createContext(r0());function Yf(){return _l.useContext(R4)}var Wf=X(Ve()),L4=Wf.createContext("ltr"),i0=({children:e,dir:t})=>Wf.createElement(L4.Provider,{value:t},e);function Kf(e,t){if(t){let r=Object.keys(t).reduce((n,i)=>"".concat(n,"--").concat(i,": ").concat(t[i],"; "),"");return"".concat(e," { ").concat(r," }")}return"".concat(e," {}")}var eR=X(Ve());var Qf={};D_(Qf,{always:()=>fP,optional:()=>U4,resolveShorthand:()=>dP});var cP=X(Ve());var Cl=Symbol.for("fui.slotRenderFunction"),Wi=Symbol.for("fui.slotElementType"),El=Symbol.for("fui.slotClassNameProp");function fP(e,t){let{defaultProps:r,elementType:n}=t,i=dP(e),o=fi(Ne(Ne({},r),i),{[Wi]:n,[El]:i==null?void 0:i.className});return i&&typeof i.children=="function"&&(o[Cl]=i.children,o.children=r==null?void 0:r.children),o}function U4(e,t){if(!(e===null||e===void 0&&!t.renderByDefault))return fP(e,t)}function dP(e){return typeof e=="string"||typeof e=="number"||k4(e)||cP.isValidElement(e)?{children:e}:e}var k4=e=>typeof e=="object"&&e!==null&&Symbol.iterator in e;function Jf(e){return!!(e!=null&&e.hasOwnProperty(Wi))}var BQ=X(Ve());var UQ=X(Ve());var nt=(...e)=>{let t={};for(let r of e){let n=Array.isArray(r)?r:Object.keys(r);for(let i of n)t[i]=1}return t},M4=nt(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),B4=nt(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),G4=nt(["itemID","itemProp","itemRef","itemScope","itemType"]),Rt=nt(B4,M4,G4),pP=nt(Rt,["form"]),o0=nt(Rt,["height","loop","muted","preload","src","width"]),gP=nt(o0,["poster"]),mP=nt(Rt,["start"]),vP=nt(Rt,["value"]),hP=nt(Rt,["download","href","hrefLang","media","rel","target","type"]),yP=nt(Rt,["dateTime"]),Xf=nt(Rt,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),SP=nt(Xf,["accept","alt","autoCorrect","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),_P=nt(Xf,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),CP=nt(Xf,["form","multiple","required"]),EP=nt(Rt,["selected","value"]),TP=nt(Rt,["cellPadding","cellSpacing"]),bP=Rt,IP=nt(Rt,["colSpan","rowSpan","scope"]),xP=nt(Rt,["colSpan","headers","rowSpan","scope"]),AP=nt(Rt,["span"]),wP=nt(Rt,["span"]),NP=nt(Rt,["disabled","form"]),OP=nt(Rt,["acceptCharset","action","encType","encType","method","noValidate","target"]),DP=nt(Rt,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),PP=nt(Rt,["alt","crossOrigin","height","src","srcSet","useMap","width"]),FP=nt(Rt,["open","onCancel","onClose"]);function RP(e,t,r){let n=Array.isArray(t),i={},o=Object.keys(e);for(let a of o)(!n&&t[a]||n&&t.indexOf(a)>=0||a.indexOf("data-")===0||a.indexOf("aria-")===0)&&(!r||(r==null?void 0:r.indexOf(a))===-1)&&(i[a]=e[a]);return i}var V4={label:pP,audio:o0,video:gP,ol:mP,li:vP,a:hP,button:Xf,input:SP,textarea:_P,select:CP,option:EP,table:TP,tr:bP,th:IP,td:xP,colGroup:AP,col:wP,fieldset:NP,form:OP,iframe:DP,img:PP,time:yP,dialog:FP};function a0(e,t,r){let n=e&&V4[e]||Rt;return n.as=1,RP(t,n,r)}var sv=(e,t,r)=>{var n;return a0((n=t.as)!==null&&n!==void 0?n:e,t,r)};var LP=X(Ve()),Tl=LP.createContext(void 0),$f=Tl.Provider;var s0=X(Ve()),H4=s0.createContext(void 0);var Zf=H4.Provider;var u0=X(Ve()),z4=u0.createContext(void 0);var ed=z4.Provider;var uv=X(Ve()),MP=uv.createContext(void 0),j4={targetDocument:typeof document=="object"?document:void 0,dir:"ltr"},td=MP.Provider;function Rs(){var e;return(e=uv.useContext(MP))!==null&&e!==void 0?e:j4}var lv=X(Ve()),l0=lv.createContext(void 0),cv=l0.Provider;function fv(){var e;return(e=lv.useContext(l0))!==null&&e!==void 0?e:{}}var c0=X(Ve()),bl=c0.createContext(void 0);var rd=bl.Provider;var dv=X(Ve());function Il(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}var Ls=X(Ve());var f0={current:0},GP=Ls.createContext(void 0);function d0(){var e;return(e=Ls.useContext(GP))!==null&&e!==void 0?e:f0}var pv=Il()?dv.useLayoutEffect:dv.useEffect;var Po=X(Ve());var VP=Po.createContext(void 0),HP=VP.Provider;function W4(){return Po.useContext(VP)||""}function gv(e="fui-",t){"use no memo";let r=d0(),n=W4(),i=Po.useId;if(i){let o=i(),a=Po.useMemo(()=>o.replace(/:/g,""),[o]);return t||"".concat(n).concat(e).concat(a)}return Po.useMemo(()=>t||"".concat(n).concat(e).concat(++r.current),[n,e,t,r])}var zP=X(Ve());function mv(...e){"use no memo";let t=zP.useCallback(r=>{t.current=r;for(let n of e)typeof n=="function"?n(r):n&&(n.current=r)},[...e]);return t}function nd(e,t){var r;let n=e;var i;return!!(!(n==null||(r=n.ownerDocument)===null||r===void 0)&&r.defaultView&&n instanceof n.ownerDocument.defaultView[(i=t==null?void 0:t.constructorName)!==null&&i!==void 0?i:"HTMLElement"])}var EX=X(Ve());var hX=X(Ve());function jP(e,t){return fi(Ne({},t),{[Wi]:e})}function p0(e,t){return function(n,i,o,a,s){return Jf(i)?t(jP(n,i),null,o,a,s):Jf(n)?t(n,i,o,a,s):e(n,i,o,a,s)}}var JP=X(Ve());function vv(e){var u,l,c;let f=e,{as:t,[u=El]:r,[l=Wi]:n,[c=Cl]:i}=f,a=Lw(f,["as",Hg(u),Hg(l),Hg(c)]),s=typeof n=="string"&&t!=null?t:n;return typeof s!="string"&&t&&(a.as=t),{elementType:s,props:a,renderFunction:i}}var e5=X(QP()),Ki=e5;var XP=(e,t,r)=>{let{elementType:n,renderFunction:i,props:o}=vv(e),a=Ne(Ne({},o),t);return i?Ki.jsx(JP.Fragment,{children:i(n,a)},r):Ki.jsx(n,a,r)};var m0=X(Ve());var $P=(e,t,r)=>{let{elementType:n,renderFunction:i,props:o}=vv(e),a=Ne(Ne({},o),t);return i?Ki.jsx(m0.Fragment,{children:i(n,fi(Ne({},a),{children:Ki.jsxs(m0.Fragment,{children:a.children},void 0)}))},r):Ki.jsxs(n,a,r)};var t5=X(Ve()),Qi=p0(Ki.jsx,XP),ZP=p0(Ki.jsxs,$P);var v0=X(Ve()),r5=v0.createContext(void 0);var h0=r5.Provider;var od=(e,t)=>Qi(td,{value:t.provider,children:Qi($f,{value:t.theme,children:Qi(Zf,{value:t.themeClassName,children:Qi(rd,{value:t.customStyleHooks_unstable,children:Qi(ed,{value:t.tooltip,children:Qi(i0,{dir:t.textDirection,children:Qi(h0,{value:t.iconDirection,children:Qi(cv,{value:t.overrides_unstable,children:ZP(e.root,{children:[Il()?null:Qi("style",Ne({dangerouslySetInnerHTML:{__html:e.serverStyleProps.cssRule}},e.serverStyleProps.attributes)),e.root.children]})})})})})})})})});var n5=typeof WeakRef<"u",eF=class{constructor(e){n5&&typeof e=="object"?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t;let r;return this._weakRef?(r=(e=this._weakRef)==null?void 0:e.deref(),r||delete this._weakRef):(r=this._instance,(t=r==null?void 0:r.isDisposed)!=null&&t.call(r)&&delete this._instance),r}},xl="keyborg:focusin",i5="keyborg:focusout";function o5(e){let t=e.HTMLElement,r=t.prototype.focus,n=!1;return t.prototype.focus=function(){n=!0},e.document.createElement("button").focus(),t.prototype.focus=r,n}var y0=!1;function a5(e){let t=e;y0||(y0=o5(t));let r=t.HTMLElement.prototype.focus;if(r.__keyborgNativeFocus)return;t.HTMLElement.prototype.focus=u;let n=new Set,i=c=>{let f=c.target;if(!f)return;let d=new CustomEvent(i5,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:c}});f.dispatchEvent(d)},o=c=>{let f=c.target;if(!f)return;let d=c.composedPath()[0],p=new Set;for(;d;)d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(p.add(d),d=d.host):d=d.parentNode;for(let v of n){let h=v.deref();(!h||!p.has(h))&&(n.delete(v),h&&(h.removeEventListener("focusin",o,!0),h.removeEventListener("focusout",i,!0)))}a(f,c.relatedTarget||void 0)},a=(c,f,d)=>{var p;let v=c.shadowRoot;if(v){for(let m of n)if(m.deref()===v)return;v.addEventListener("focusin",o,!0),v.addEventListener("focusout",i,!0),n.add(new eF(v));return}let h={relatedTarget:f,originalEvent:d},g=new CustomEvent(xl,{cancelable:!0,bubbles:!0,composed:!0,detail:h});g.details=h,(y0||s.lastFocusedProgrammatically)&&(h.isFocusedProgrammatically=c===((p=s.lastFocusedProgrammatically)==null?void 0:p.deref()),s.lastFocusedProgrammatically=void 0),c.dispatchEvent(g)},s=t.__keyborgData={focusInHandler:o,focusOutHandler:i,shadowTargets:n};t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),t.document.addEventListener("focusout",t.__keyborgData.focusOutHandler,!0);function u(){let c=t.__keyborgData;return c&&(c.lastFocusedProgrammatically=new eF(this)),r.apply(this,arguments)}let l=t.document.activeElement;for(;l&&l.shadowRoot;)a(l),l=l.shadowRoot.activeElement;u.__keyborgNativeFocus=r}function s5(e){let t=e,r=t.HTMLElement.prototype,n=r.focus.__keyborgNativeFocus,i=t.__keyborgData;if(i){t.document.removeEventListener("focusin",i.focusInHandler,!0),t.document.removeEventListener("focusout",i.focusOutHandler,!0);for(let o of i.shadowTargets){let a=o.deref();a&&(a.removeEventListener("focusin",i.focusInHandler,!0),a.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete t.__keyborgData}n&&(r.focus=n)}var u5=500,tF=0,l5=class{constructor(e,t){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=n=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;let i=n.detail;i.relatedTarget&&(i.isFocusedProgrammatically||i.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=n=>{n.buttons===0||n.clientX===0&&n.clientY===0&&n.screenX===0&&n.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{let n=this._win;n&&(this._isMouseOrTouchUsedTimer&&n.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=n.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=n=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(n)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(n)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++tF,this._win=e;let r=e.document;if(t){let n=t.triggerKeys,i=t.dismissKeys;n!=null&&n.length&&(this._triggerKeys=new Set(n)),i!=null&&i.length&&(this._dismissKeys=new Set(i))}r.addEventListener(xl,this._onFocusIn,!0),r.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener("touchstart",this._onMouseOrTouch,!0),r.addEventListener("touchend",this._onMouseOrTouch,!0),r.addEventListener("touchcancel",this._onMouseOrTouch,!0),a5(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){let e=this._win;if(e){this._isMouseOrTouchUsedTimer&&(e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),s5(e);let t=e.document;t.removeEventListener(xl,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("touchstart",this._onMouseOrTouch,!0),t.removeEventListener("touchend",this._onMouseOrTouch,!0),t.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,t;let r=(t=(e=this._win)==null?void 0:e.__keyborg)==null?void 0:t.refs;if(r)for(let n of Object.keys(r))S0.update(r[n],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var t;if(e.key==="Tab")return!0;let r=(t=this._win)==null?void 0:t.document.activeElement,n=!this._triggerKeys||this._triggerKeys.has(e.keyCode),i=r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable);return n&&!i}_shouldDismissKeyboardNavigation(e){var t;return(t=this._dismissKeys)==null?void 0:t.has(e.keyCode)}_scheduleDismiss(){let e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);let t=e.document.activeElement;this._dismissTimer=e.setTimeout(()=>{this._dismissTimer=void 0;let r=e.document.activeElement;t&&r&&t===r&&(this.isNavigatingWithKeyboard=!1)},u5)}}},S0=class rF{constructor(t,r){this._cb=[],this._id="k"+ ++tF,this._win=t;let n=t.__keyborg;n?(this._core=n.core,n.refs[this._id]=this):(this._core=new l5(t,r),t.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(t,r){return new rF(t,r)}static dispose(t){t.dispose()}static update(t,r){t._cb.forEach(n=>n(r))}dispose(){var t;let r=(t=this._win)==null?void 0:t.__keyborg;r!=null&&r.refs[this._id]&&(delete r.refs[this._id],Object.keys(r.refs).length===0&&(r.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var t;return!!((t=this._core)!=null&&t.isNavigatingWithKeyboard)}subscribe(t){this._cb.push(t)}unsubscribe(t){let r=this._cb.indexOf(t);r>=0&&this._cb.splice(r,1)}setVal(t){this._core&&(this._core.isNavigatingWithKeyboard=t)}};function nF(e,t){return S0.create(e,t)}function iF(e){S0.dispose(e)}var hv=X(Ve());var c5="data-keyboard-nav",i$=":global([".concat(c5,"])"),_0="data-fui-focus-visible";function oF(e,t){if(aF(e))return()=>{};let r={current:void 0},n=nF(t);function i(u){n.isNavigatingWithKeyboard()&&nd(u)&&(r.current=u,u.setAttribute(_0,""))}function o(){r.current&&(r.current.removeAttribute(_0),r.current=void 0)}n.subscribe(u=>{u?i(t.document.activeElement):o()});let a=u=>{o();let l=u.composedPath()[0];i(l)},s=u=>{(!u.relatedTarget||nd(u.relatedTarget)&&!e.contains(u.relatedTarget))&&o()};return e.addEventListener(xl,a),e.addEventListener("focusout",s),e.focusVisible=!0,e.contains(t.document.activeElement)&&i(t.document.activeElement),()=>{o(),e.removeEventListener(xl,a),e.removeEventListener("focusout",s),delete e.focusVisible,iF(n)}}function aF(e){return e?e.focusVisible?!0:aF(e==null?void 0:e.parentElement):!1}function yv(e={}){let t=Rs(),r=hv.useRef(null);var n;let i=(n=e.targetDocument)!==null&&n!==void 0?n:t.targetDocument;return hv.useEffect(()=>{if(i!=null&&i.defaultView&&r.current)return oF(r.current,i.defaultView)},[r,i]),r}var oe={2:"#050505",4:"#0a0a0a",6:"#0f0f0f",8:"#141414",10:"#1a1a1a",12:"#1f1f1f",14:"#242424",16:"#292929",18:"#2e2e2e",20:"#333333",22:"#383838",24:"#3d3d3d",26:"#424242",28:"#474747",30:"#4d4d4d",32:"#525252",34:"#575757",36:"#5c5c5c",38:"#616161",40:"#666666",42:"#6b6b6b",44:"#707070",46:"#757575",48:"#7a7a7a",50:"#808080",52:"#858585",54:"#8a8a8a",56:"#8f8f8f",58:"#949494",60:"#999999",62:"#9e9e9e",64:"#a3a3a3",66:"#a8a8a8",68:"#adadad",70:"#b3b3b3",72:"#b8b8b8",74:"#bdbdbd",76:"#c2c2c2",78:"#c7c7c7",80:"#cccccc",82:"#d1d1d1",84:"#d6d6d6",86:"#dbdbdb",88:"#e0e0e0",90:"#e6e6e6",92:"#ebebeb",94:"#f0f0f0",96:"#f5f5f5",98:"#fafafa"},Fo={5:"rgba(255, 255, 255, 0.05)",10:"rgba(255, 255, 255, 0.1)",20:"rgba(255, 255, 255, 0.2)",30:"rgba(255, 255, 255, 0.3)",40:"rgba(255, 255, 255, 0.4)",50:"rgba(255, 255, 255, 0.5)",60:"rgba(255, 255, 255, 0.6)",70:"rgba(255, 255, 255, 0.7)",80:"rgba(255, 255, 255, 0.8)",90:"rgba(255, 255, 255, 0.9)"},Ro={5:"rgba(0, 0, 0, 0.05)",10:"rgba(0, 0, 0, 0.1)",20:"rgba(0, 0, 0, 0.2)",30:"rgba(0, 0, 0, 0.3)",40:"rgba(0, 0, 0, 0.4)",50:"rgba(0, 0, 0, 0.5)",60:"rgba(0, 0, 0, 0.6)",70:"rgba(0, 0, 0, 0.7)",80:"rgba(0, 0, 0, 0.8)",90:"rgba(0, 0, 0, 0.9)"};var xt="#ffffff",sF="#000000";var uF={shade50:"#130204",shade40:"#230308",shade30:"#420610",shade20:"#590815",shade10:"#690a19",primary:"#750b1c",tint10:"#861b2c",tint20:"#962f3f",tint30:"#ac4f5e",tint40:"#d69ca5",tint50:"#e9c7cd",tint60:"#f9f0f2"};var C0={shade50:"#200205",shade40:"#3b0509",shade30:"#6e0811",shade20:"#960b18",shade10:"#b10e1c",primary:"#c50f1f",tint10:"#cc2635",tint20:"#d33f4c",tint30:"#dc626d",tint40:"#eeacb2",tint50:"#f6d1d5",tint60:"#fdf3f4"},lF={shade50:"#210809",shade40:"#3f1011",shade30:"#751d1f",shade20:"#9f282b",shade10:"#bc2f32",primary:"#d13438",tint10:"#d7494c",tint20:"#dc5e62",tint30:"#e37d80",tint40:"#f1bbbc",tint50:"#f8dadb",tint60:"#fdf6f6"},cF={shade50:"#230900",shade40:"#411200",shade30:"#7a2101",shade20:"#a62d01",shade10:"#c43501",primary:"#da3b01",tint10:"#de501c",tint20:"#e36537",tint30:"#e9835e",tint40:"#f4bfab",tint50:"#f9dcd1",tint60:"#fdf6f3"};var fF={shade50:"#200d03",shade40:"#3d1805",shade30:"#712d09",shade20:"#9a3d0c",shade10:"#b6480e",primary:"#ca5010",tint10:"#d06228",tint20:"#d77440",tint30:"#df8e64",tint40:"#efc4ad",tint50:"#f7dfd2",tint60:"#fdf7f4"},dF={shade50:"#271002",shade40:"#4a1e04",shade30:"#8a3707",shade20:"#bc4b09",shade10:"#de590b",primary:"#f7630c",tint10:"#f87528",tint20:"#f98845",tint30:"#faa06b",tint40:"#fdcfb4",tint50:"#fee5d7",tint60:"#fff9f5"},pF={shade50:"#291600",shade40:"#4d2a00",shade30:"#8f4e00",shade20:"#c26a00",shade10:"#e67e00",primary:"#ff8c00",tint10:"#ff9a1f",tint20:"#ffa83d",tint30:"#ffba66",tint40:"#ffddb3",tint50:"#ffedd6",tint60:"#fffaf5"},gF={shade50:"#251a00",shade40:"#463100",shade30:"#835b00",shade20:"#b27c00",shade10:"#d39300",primary:"#eaa300",tint10:"#edad1c",tint20:"#efb839",tint30:"#f2c661",tint40:"#f9e2ae",tint50:"#fcefd3",tint60:"#fefbf4"},mF={shade50:"#282400",shade40:"#4c4400",shade30:"#817400",shade20:"#c0ad00",shade10:"#e4cc00",primary:"#fde300",tint10:"#fde61e",tint20:"#fdea3d",tint30:"#feee66",tint40:"#fef7b2",tint50:"#fffad6",tint60:"#fffef5"},vF={shade50:"#1f1900",shade40:"#3a2f00",shade30:"#6c5700",shade20:"#937700",shade10:"#ae8c00",primary:"#c19c00",tint10:"#c8a718",tint20:"#d0b232",tint30:"#dac157",tint40:"#ecdfa5",tint50:"#f5eece",tint60:"#fdfbf2"},hF={shade50:"#181202",shade40:"#2e2103",shade30:"#553e06",shade20:"#745408",shade10:"#89640a",primary:"#986f0b",tint10:"#a47d1e",tint20:"#b18c34",tint30:"#c1a256",tint40:"#e0cea2",tint50:"#efe4cb",tint60:"#fbf8f2"},yF={shade50:"#170e07",shade40:"#2b1a0e",shade30:"#50301a",shade20:"#6c4123",shade10:"#804d29",primary:"#8e562e",tint10:"#9c663f",tint20:"#a97652",tint30:"#bb8f6f",tint40:"#ddc3b0",tint50:"#edded3",tint60:"#faf7f4"};var SF={shade50:"#0c1501",shade40:"#162702",shade30:"#294903",shade20:"#376304",shade10:"#427505",primary:"#498205",tint10:"#599116",tint20:"#6ba02b",tint30:"#85b44c",tint40:"#bdd99b",tint50:"#dbebc7",tint60:"#f6faf0"},_F={shade50:"#002111",shade40:"#003d20",shade30:"#00723b",shade20:"#009b51",shade10:"#00b85f",primary:"#00cc6a",tint10:"#19d279",tint20:"#34d889",tint30:"#5ae0a0",tint40:"#a8f0cd",tint50:"#cff7e4",tint60:"#f3fdf8"},CF={shade50:"#031a02",shade40:"#063004",shade30:"#0b5a08",shade20:"#0e7a0b",shade10:"#11910d",primary:"#13a10e",tint10:"#27ac22",tint20:"#3db838",tint30:"#5ec75a",tint40:"#a7e3a5",tint50:"#cef0cd",tint60:"#f2fbf2"},E0={shade50:"#031403",shade40:"#052505",shade30:"#094509",shade20:"#0c5e0c",shade10:"#0e700e",primary:"#107c10",tint10:"#218c21",tint20:"#359b35",tint30:"#54b054",tint40:"#9fd89f",tint50:"#c9eac9",tint60:"#f1faf1"},EF={shade50:"#021102",shade40:"#032003",shade30:"#063b06",shade20:"#085108",shade10:"#0a5f0a",primary:"#0b6a0b",tint10:"#1a7c1a",tint20:"#2d8e2d",tint30:"#4da64d",tint40:"#9ad29a",tint50:"#c6e7c6",tint60:"#f0f9f0"},TF={shade50:"#001d1f",shade40:"#00373a",shade30:"#00666d",shade20:"#008b94",shade10:"#00a5af",primary:"#00b7c3",tint10:"#18bfca",tint20:"#32c8d1",tint30:"#58d3db",tint40:"#a6e9ed",tint50:"#cef3f5",tint60:"#f2fcfd"},bF={shade50:"#001516",shade40:"#012728",shade30:"#02494c",shade20:"#026467",shade10:"#037679",primary:"#038387",tint10:"#159195",tint20:"#2aa0a4",tint30:"#4cb4b7",tint40:"#9bd9db",tint50:"#c7ebec",tint60:"#f0fafa"};var IF={shade50:"#000f12",shade40:"#001b22",shade30:"#00333f",shade20:"#004555",shade10:"#005265",primary:"#005b70",tint10:"#0f6c81",tint20:"#237d92",tint30:"#4496a9",tint40:"#94c8d4",tint50:"#c3e1e8",tint60:"#eff7f9"};var xF={shade50:"#001322",shade40:"#002440",shade30:"#004377",shade20:"#005ba1",shade10:"#006cbf",primary:"#0078d4",tint10:"#1a86d9",tint20:"#3595de",tint30:"#5caae5",tint40:"#a9d3f2",tint50:"#d0e7f8",tint60:"#f3f9fd"},AF={shade50:"#000c16",shade40:"#00172a",shade30:"#002c4e",shade20:"#003b6a",shade10:"#00467e",primary:"#004e8c",tint10:"#125e9a",tint20:"#286fa8",tint30:"#4a89ba",tint40:"#9abfdc",tint50:"#c7dced",tint60:"#f0f6fa"};var wF={shade50:"#0d1126",shade40:"#182047",shade30:"#2c3c85",shade20:"#3c51b4",shade10:"#4760d5",primary:"#4f6bed",tint10:"#637cef",tint20:"#778df1",tint30:"#93a4f4",tint40:"#c8d1fa",tint50:"#e1e6fc",tint60:"#f7f9fe"},NF={shade50:"#00061d",shade40:"#000c36",shade30:"#001665",shade20:"#001e89",shade10:"#0023a2",primary:"#0027b4",tint10:"#173bbd",tint20:"#3050c6",tint30:"#546fd2",tint40:"#a3b2e8",tint50:"#ccd5f3",tint60:"#f2f4fc"},OF={shade50:"#120f25",shade40:"#221d46",shade30:"#3f3682",shade20:"#5649b0",shade10:"#6656d1",primary:"#7160e8",tint10:"#8172eb",tint20:"#9184ee",tint30:"#a79cf1",tint40:"#d2ccf8",tint50:"#e7e4fb",tint60:"#f9f8fe"},DF={shade50:"#0f0717",shade40:"#1c0e2b",shade30:"#341a51",shade20:"#46236e",shade10:"#532982",primary:"#5c2e91",tint10:"#6b3f9e",tint20:"#7c52ab",tint30:"#9470bd",tint40:"#c6b1de",tint50:"#e0d3ed",tint60:"#f7f4fb"};var PF={shade50:"#160418",shade40:"#29072e",shade30:"#4c0d55",shade20:"#671174",shade10:"#7a1589",primary:"#881798",tint10:"#952aa4",tint20:"#a33fb1",tint30:"#b55fc1",tint40:"#d9a7e0",tint50:"#eaceef",tint60:"#faf2fb"},FF={shade50:"#1f091d",shade40:"#3a1136",shade30:"#6d2064",shade20:"#932b88",shade10:"#af33a1",primary:"#c239b3",tint10:"#c94cbc",tint20:"#d161c4",tint30:"#da7ed0",tint40:"#edbbe7",tint50:"#f5daf2",tint60:"#fdf5fc"},RF={shade50:"#1c0b1f",shade40:"#35153a",shade30:"#63276d",shade20:"#863593",shade10:"#9f3faf",primary:"#b146c2",tint10:"#ba58c9",tint20:"#c36bd1",tint30:"#cf87da",tint40:"#e6bfed",tint50:"#f2dcf5",tint60:"#fcf6fd"},LF={shade50:"#24091b",shade40:"#441232",shade30:"#80215d",shade20:"#ad2d7e",shade10:"#cd3595",primary:"#e43ba6",tint10:"#e750b0",tint20:"#ea66ba",tint30:"#ef85c8",tint40:"#f7c0e3",tint50:"#fbddf0",tint60:"#fef6fb"};var UF={shade50:"#1f0013",shade40:"#390024",shade30:"#6b0043",shade20:"#91005a",shade10:"#ac006b",primary:"#bf0077",tint10:"#c71885",tint20:"#ce3293",tint30:"#d957a8",tint40:"#eca5d1",tint50:"#f5cee6",tint60:"#fcf2f9"},kF={shade50:"#13000c",shade40:"#240017",shade30:"#43002b",shade20:"#5a003b",shade10:"#6b0045",primary:"#77004d",tint10:"#87105d",tint20:"#98246f",tint30:"#ad4589",tint40:"#d696c0",tint50:"#e9c4dc",tint60:"#faf0f6"},MF={shade50:"#141313",shade40:"#252323",shade30:"#444241",shade20:"#5d5958",shade10:"#6e6968",primary:"#7a7574",tint10:"#8a8584",tint20:"#9a9594",tint30:"#afabaa",tint40:"#d7d4d4",tint50:"#eae8e8",tint60:"#faf9f9"},BF={shade50:"#0f0e0e",shade40:"#1c1b1a",shade30:"#343231",shade20:"#474443",shade10:"#54514f",primary:"#5d5a58",tint10:"#706d6b",tint20:"#84817e",tint30:"#9e9b99",tint40:"#cecccb",tint50:"#e5e4e3",tint60:"#f8f8f8"};var GF={shade50:"#111314",shade40:"#1f2426",shade30:"#3b4447",shade20:"#505c60",shade10:"#5f6d71",primary:"#69797e",tint10:"#79898d",tint20:"#89989d",tint30:"#a0adb2",tint40:"#cdd6d8",tint50:"#e4e9ea",tint60:"#f8f9fa"},VF={shade50:"#090a0b",shade40:"#111315",shade30:"#202427",shade20:"#2b3135",shade10:"#333a3f",primary:"#394146",tint10:"#4d565c",tint20:"#626c72",tint30:"#808a90",tint40:"#bcc3c7",tint50:"#dbdfe1",tint60:"#f6f7f8"};var on={red:lF,green:E0,darkOrange:cF,yellow:mF,berry:FF,lightGreen:CF,marigold:gF},Sv={darkRed:uF,cranberry:C0,pumpkin:fF,peach:pF,gold:vF,brass:hF,brown:yF,forest:SF,seafoam:_F,darkGreen:EF,lightTeal:TF,teal:bF,steel:IF,blue:xF,royalBlue:AF,cornflower:wF,navy:NF,lavender:OF,purple:DF,grape:PF,lilac:RF,pink:LF,magenta:UF,plum:kF,beige:MF,mink:BF,platinum:GF,anchor:VF},Dr={cranberry:C0,green:E0,orange:dF};var HF=["red","green","darkOrange","yellow","berry","lightGreen","marigold"],zF=["darkRed","cranberry","pumpkin","peach","gold","brass","brown","forest","seafoam","darkGreen","lightTeal","teal","steel","blue","royalBlue","cornflower","navy","lavender","purple","grape","lilac","pink","magenta","plum","beige","mink","platinum","anchor"];var Us={success:"green",warning:"orange",danger:"cranberry"};var ad=HF.reduce((e,t)=>{let r=t.slice(0,1).toUpperCase()+t.slice(1),n={["colorPalette".concat(r,"Background1")]:on[t].tint60,["colorPalette".concat(r,"Background2")]:on[t].tint40,["colorPalette".concat(r,"Background3")]:on[t].primary,["colorPalette".concat(r,"Foreground1")]:on[t].shade10,["colorPalette".concat(r,"Foreground2")]:on[t].shade30,["colorPalette".concat(r,"Foreground3")]:on[t].primary,["colorPalette".concat(r,"BorderActive")]:on[t].primary,["colorPalette".concat(r,"Border1")]:on[t].tint40,["colorPalette".concat(r,"Border2")]:on[t].primary};return Object.assign(e,n)},{});ad.colorPaletteYellowForeground1=on.yellow.shade30;ad.colorPaletteRedForegroundInverted=on.red.tint20;ad.colorPaletteGreenForegroundInverted=on.green.tint20;ad.colorPaletteYellowForegroundInverted=on.yellow.tint40;var f5=zF.reduce((e,t)=>{let r=t.slice(0,1).toUpperCase()+t.slice(1),n={["colorPalette".concat(r,"Background2")]:Sv[t].tint40,["colorPalette".concat(r,"Foreground2")]:Sv[t].shade30,["colorPalette".concat(r,"BorderActive")]:Sv[t].primary};return Object.assign(e,n)},{}),jF=Ne(Ne({},ad),f5),ks=Object.entries(Us).reduce((e,[t,r])=>{let n=t.slice(0,1).toUpperCase()+t.slice(1),i={["colorStatus".concat(n,"Background1")]:Dr[r].tint60,["colorStatus".concat(n,"Background2")]:Dr[r].tint40,["colorStatus".concat(n,"Background3")]:Dr[r].primary,["colorStatus".concat(n,"Foreground1")]:Dr[r].shade10,["colorStatus".concat(n,"Foreground2")]:Dr[r].shade30,["colorStatus".concat(n,"Foreground3")]:Dr[r].primary,["colorStatus".concat(n,"ForegroundInverted")]:Dr[r].tint30,["colorStatus".concat(n,"BorderActive")]:Dr[r].primary,["colorStatus".concat(n,"Border1")]:Dr[r].tint40,["colorStatus".concat(n,"Border2")]:Dr[r].primary};return Object.assign(e,i)},{});ks.colorStatusDangerBackground3Hover=Dr[Us.danger].shade10;ks.colorStatusDangerBackground3Pressed=Dr[Us.danger].shade20;ks.colorStatusWarningForeground1=Dr[Us.warning].shade20;ks.colorStatusWarningForeground3=Dr[Us.warning].shade20;ks.colorStatusWarningBorder2=Dr[Us.warning].shade20;var qF=e=>({colorNeutralForeground1:oe[14],colorNeutralForeground1Hover:oe[14],colorNeutralForeground1Pressed:oe[14],colorNeutralForeground1Selected:oe[14],colorNeutralForeground2:oe[26],colorNeutralForeground2Hover:oe[14],colorNeutralForeground2Pressed:oe[14],colorNeutralForeground2Selected:oe[14],colorNeutralForeground2BrandHover:e[80],colorNeutralForeground2BrandPressed:e[70],colorNeutralForeground2BrandSelected:e[80],colorNeutralForeground3:oe[38],colorNeutralForeground3Hover:oe[26],colorNeutralForeground3Pressed:oe[26],colorNeutralForeground3Selected:oe[26],colorNeutralForeground3BrandHover:e[80],colorNeutralForeground3BrandPressed:e[70],colorNeutralForeground3BrandSelected:e[80],colorNeutralForeground4:oe[44],colorNeutralForegroundDisabled:oe[74],colorNeutralForegroundInvertedDisabled:Fo[40],colorBrandForegroundLink:e[70],colorBrandForegroundLinkHover:e[60],colorBrandForegroundLinkPressed:e[40],colorBrandForegroundLinkSelected:e[70],colorNeutralForeground2Link:oe[26],colorNeutralForeground2LinkHover:oe[14],colorNeutralForeground2LinkPressed:oe[14],colorNeutralForeground2LinkSelected:oe[14],colorCompoundBrandForeground1:e[80],colorCompoundBrandForeground1Hover:e[70],colorCompoundBrandForeground1Pressed:e[60],colorBrandForeground1:e[80],colorBrandForeground2:e[70],colorBrandForeground2Hover:e[60],colorBrandForeground2Pressed:e[30],colorNeutralForeground1Static:oe[14],colorNeutralForegroundStaticInverted:xt,colorNeutralForegroundInverted:xt,colorNeutralForegroundInvertedHover:xt,colorNeutralForegroundInvertedPressed:xt,colorNeutralForegroundInvertedSelected:xt,colorNeutralForegroundInverted2:xt,colorNeutralForegroundOnBrand:xt,colorNeutralForegroundInvertedLink:xt,colorNeutralForegroundInvertedLinkHover:xt,colorNeutralForegroundInvertedLinkPressed:xt,colorNeutralForegroundInvertedLinkSelected:xt,colorBrandForegroundInverted:e[100],colorBrandForegroundInvertedHover:e[110],colorBrandForegroundInvertedPressed:e[100],colorBrandForegroundOnLight:e[80],colorBrandForegroundOnLightHover:e[70],colorBrandForegroundOnLightPressed:e[50],colorBrandForegroundOnLightSelected:e[60],colorNeutralBackground1:xt,colorNeutralBackground1Hover:oe[96],colorNeutralBackground1Pressed:oe[88],colorNeutralBackground1Selected:oe[92],colorNeutralBackground2:oe[98],colorNeutralBackground2Hover:oe[94],colorNeutralBackground2Pressed:oe[86],colorNeutralBackground2Selected:oe[90],colorNeutralBackground3:oe[96],colorNeutralBackground3Hover:oe[92],colorNeutralBackground3Pressed:oe[84],colorNeutralBackground3Selected:oe[88],colorNeutralBackground4:oe[94],colorNeutralBackground4Hover:oe[98],colorNeutralBackground4Pressed:oe[96],colorNeutralBackground4Selected:xt,colorNeutralBackground5:oe[92],colorNeutralBackground5Hover:oe[96],colorNeutralBackground5Pressed:oe[94],colorNeutralBackground5Selected:oe[98],colorNeutralBackground6:oe[90],colorNeutralBackgroundInverted:oe[16],colorNeutralBackgroundStatic:oe[20],colorNeutralBackgroundAlpha:Fo[50],colorNeutralBackgroundAlpha2:Fo[80],colorSubtleBackground:"transparent",colorSubtleBackgroundHover:oe[96],colorSubtleBackgroundPressed:oe[88],colorSubtleBackgroundSelected:oe[92],colorSubtleBackgroundLightAlphaHover:Fo[70],colorSubtleBackgroundLightAlphaPressed:Fo[50],colorSubtleBackgroundLightAlphaSelected:"transparent",colorSubtleBackgroundInverted:"transparent",colorSubtleBackgroundInvertedHover:Ro[10],colorSubtleBackgroundInvertedPressed:Ro[30],colorSubtleBackgroundInvertedSelected:Ro[20],colorTransparentBackground:"transparent",colorTransparentBackgroundHover:"transparent",colorTransparentBackgroundPressed:"transparent",colorTransparentBackgroundSelected:"transparent",colorNeutralBackgroundDisabled:oe[94],colorNeutralBackgroundInvertedDisabled:Fo[10],colorNeutralStencil1:oe[90],colorNeutralStencil2:oe[98],colorNeutralStencil1Alpha:Ro[10],colorNeutralStencil2Alpha:Ro[5],colorBackgroundOverlay:Ro[40],colorScrollbarOverlay:Ro[50],colorBrandBackground:e[80],colorBrandBackgroundHover:e[70],colorBrandBackgroundPressed:e[40],colorBrandBackgroundSelected:e[60],colorCompoundBrandBackground:e[80],colorCompoundBrandBackgroundHover:e[70],colorCompoundBrandBackgroundPressed:e[60],colorBrandBackgroundStatic:e[80],colorBrandBackground2:e[160],colorBrandBackground2Hover:e[150],colorBrandBackground2Pressed:e[130],colorBrandBackground3Static:e[60],colorBrandBackground4Static:e[40],colorBrandBackgroundInverted:xt,colorBrandBackgroundInvertedHover:e[160],colorBrandBackgroundInvertedPressed:e[140],colorBrandBackgroundInvertedSelected:e[150],colorNeutralCardBackground:oe[98],colorNeutralCardBackgroundHover:xt,colorNeutralCardBackgroundPressed:oe[96],colorNeutralCardBackgroundSelected:oe[92],colorNeutralCardBackgroundDisabled:oe[94],colorNeutralStrokeAccessible:oe[38],colorNeutralStrokeAccessibleHover:oe[34],colorNeutralStrokeAccessiblePressed:oe[30],colorNeutralStrokeAccessibleSelected:e[80],colorNeutralStroke1:oe[82],colorNeutralStroke1Hover:oe[78],colorNeutralStroke1Pressed:oe[70],colorNeutralStroke1Selected:oe[74],colorNeutralStroke2:oe[88],colorNeutralStroke3:oe[94],colorNeutralStrokeSubtle:oe[88],colorNeutralStrokeOnBrand:xt,colorNeutralStrokeOnBrand2:xt,colorNeutralStrokeOnBrand2Hover:xt,colorNeutralStrokeOnBrand2Pressed:xt,colorNeutralStrokeOnBrand2Selected:xt,colorBrandStroke1:e[80],colorBrandStroke2:e[140],colorBrandStroke2Hover:e[120],colorBrandStroke2Pressed:e[80],colorBrandStroke2Contrast:e[140],colorCompoundBrandStroke:e[80],colorCompoundBrandStrokeHover:e[70],colorCompoundBrandStrokePressed:e[60],colorNeutralStrokeDisabled:oe[88],colorNeutralStrokeInvertedDisabled:Fo[40],colorTransparentStroke:"transparent",colorTransparentStrokeInteractive:"transparent",colorTransparentStrokeDisabled:"transparent",colorNeutralStrokeAlpha:Ro[5],colorNeutralStrokeAlpha2:Fo[20],colorStrokeFocus1:xt,colorStrokeFocus2:sF,colorNeutralShadowAmbient:"rgba(0,0,0,0.12)",colorNeutralShadowKey:"rgba(0,0,0,0.14)",colorNeutralShadowAmbientLighter:"rgba(0,0,0,0.06)",colorNeutralShadowKeyLighter:"rgba(0,0,0,0.07)",colorNeutralShadowAmbientDarker:"rgba(0,0,0,0.20)",colorNeutralShadowKeyDarker:"rgba(0,0,0,0.24)",colorBrandShadowAmbient:"rgba(0,0,0,0.30)",colorBrandShadowKey:"rgba(0,0,0,0.25)"});var T0={borderRadiusNone:"0",borderRadiusSmall:"2px",borderRadiusMedium:"4px",borderRadiusLarge:"6px",borderRadiusXLarge:"8px",borderRadiusCircular:"10000px"};var YF={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"};var WF={durationUltraFast:"50ms",durationFaster:"100ms",durationFast:"150ms",durationNormal:"200ms",durationGentle:"250ms",durationSlow:"300ms",durationSlower:"400ms",durationUltraSlow:"500ms"};var b0={fontSizeBase100:"10px",fontSizeBase200:"12px",fontSizeBase300:"14px",fontSizeBase400:"16px",fontSizeBase500:"20px",fontSizeBase600:"24px",fontSizeHero700:"28px",fontSizeHero800:"32px",fontSizeHero900:"40px",fontSizeHero1000:"68px"},I0={lineHeightBase100:"14px",lineHeightBase200:"16px",lineHeightBase300:"20px",lineHeightBase400:"22px",lineHeightBase500:"28px",lineHeightBase600:"32px",lineHeightHero700:"36px",lineHeightHero800:"40px",lineHeightHero900:"52px",lineHeightHero1000:"92px"},x0={fontWeightRegular:400,fontWeightMedium:500,fontWeightSemibold:600,fontWeightBold:700},A0={fontFamilyBase:"'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif",fontFamilyMonospace:"Consolas, 'Courier New', Courier, monospace",fontFamilyNumeric:"Bahnschrift, 'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif"};var At={none:"0",xxs:"2px",xs:"4px",sNudge:"6px",s:"8px",mNudge:"10px",m:"12px",l:"16px",xl:"20px",xxl:"24px",xxxl:"32px"},KF={spacingHorizontalNone:At.none,spacingHorizontalXXS:At.xxs,spacingHorizontalXS:At.xs,spacingHorizontalSNudge:At.sNudge,spacingHorizontalS:At.s,spacingHorizontalMNudge:At.mNudge,spacingHorizontalM:At.m,spacingHorizontalL:At.l,spacingHorizontalXL:At.xl,spacingHorizontalXXL:At.xxl,spacingHorizontalXXXL:At.xxxl},QF={spacingVerticalNone:At.none,spacingVerticalXXS:At.xxs,spacingVerticalXS:At.xs,spacingVerticalSNudge:At.sNudge,spacingVerticalS:At.s,spacingVerticalMNudge:At.mNudge,spacingVerticalM:At.m,spacingVerticalL:At.l,spacingVerticalXL:At.xl,spacingVerticalXXL:At.xxl,spacingVerticalXXXL:At.xxxl};var w0={strokeWidthThin:"1px",strokeWidthThick:"2px",strokeWidthThicker:"3px",strokeWidthThickest:"4px"};function N0(e,t,r=""){return{["shadow2".concat(r)]:"0 0 2px ".concat(e,", 0 1px 2px ").concat(t),["shadow4".concat(r)]:"0 0 2px ".concat(e,", 0 2px 4px ").concat(t),["shadow8".concat(r)]:"0 0 2px ".concat(e,", 0 4px 8px ").concat(t),["shadow16".concat(r)]:"0 0 2px ".concat(e,", 0 8px 16px ").concat(t),["shadow28".concat(r)]:"0 0 8px ".concat(e,", 0 14px 28px ").concat(t),["shadow64".concat(r)]:"0 0 8px ".concat(e,", 0 32px 64px ").concat(t)}}var _v=e=>{let t=qF(e);return Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne({},T0),b0),I0),A0),x0),w0),KF),QF),WF),YF),t),jF),ks),N0(t.colorNeutralShadowAmbient,t.colorNeutralShadowKey)),N0(t.colorBrandShadowAmbient,t.colorBrandShadowKey,"Brand"))};var JF={10:"#061724",20:"#082338",30:"#0a2e4a",40:"#0c3b5e",50:"#0e4775",60:"#0f548c",70:"#115ea3",80:"#0f6cbd",90:"#2886de",100:"#479ef5",110:"#62abf5",120:"#77b7f7",130:"#96c6fa",140:"#b4d6fa",150:"#cfe4fa",160:"#ebf3fc"};var Ms=_v(JF);var Cv=X(Ve());var Lo=X(Ve());var Al={root:"fui-FluentProvider"},y5=n0({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",fsow6f:["f1o700av","fes3tcz"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),sd=e=>{"use no memo";let t=Yf(),r=y5({dir:e.dir,renderer:t});return e.root.className=e0(Al.root,e.themeClassName,r.root,e.root.className),e};var S5=Lo.useInsertionEffect?Lo.useInsertionEffect:pv,_5=(e,t)=>{if(!(e!=null&&e.head))return;let r=e.createElement("style");return Object.keys(t).forEach(n=>{r.setAttribute(n,t[n])}),e.head.appendChild(r),r},C5=(e,t)=>{let r=e.sheet;r&&(r.cssRules.length>0&&r.deleteRule(0),r.insertRule(t,0))},ud=e=>{"use no memo";let{targetDocument:t,theme:r,rendererAttributes:n}=e,i=Lo.useRef(),o=gv(Al.root),a=n,s=Lo.useMemo(()=>Kf(".".concat(o),r),[r,o]);return E5(t,o),S5(()=>{let u=t==null?void 0:t.getElementById(o);return u?i.current=u:(i.current=_5(t,fi(Ne({},a),{id:o})),i.current&&C5(i.current,s)),()=>{var l;(l=i.current)===null||l===void 0||l.remove()}},[o,t,s,a]),{styleTagId:o,rule:s}};function E5(e,t){Lo.useState(()=>{if(!e)return;let r=e.getElementById(t);r&&e.head.append(r)})}var T5={},b5={},ld=(e,t)=>{"use no memo";let r=Rs(),n=I5(),i=fv(),o=Cv.useContext(bl)||T5,{applyStylesToPortals:a=!0,customStyleHooks_unstable:s,dir:u=r.dir,targetDocument:l=r.targetDocument,theme:c,overrides_unstable:f={}}=e,d=D0(n,c),p=D0(i,f),v=D0(o,s),h=Yf();var g;let{styleTagId:m,rule:y}=ud({theme:d,targetDocument:l,rendererAttributes:(g=h.styleElementAttributes)!==null&&g!==void 0?g:b5});return{applyStylesToPortals:a,customStyleHooks_unstable:v,dir:u,targetDocument:l,theme:d,overrides_unstable:p,themeClassName:m,components:{root:"div"},root:Qf.always(sv("div",fi(Ne({},e),{dir:u,ref:mv(t,yv({targetDocument:l}))})),{elementType:"div"}),serverStyleProps:{cssRule:y,attributes:fi(Ne({},h.styleElementAttributes),{id:m})}}};function D0(e,t){return e&&t?Ne(Ne({},e),t):e||t}function I5(){return Cv.useContext(Tl)}var cd=X(Ve());function fd(e){let{applyStylesToPortals:t,customStyleHooks_unstable:r,dir:n,root:i,targetDocument:o,theme:a,themeClassName:s,overrides_unstable:u}=e,l=cd.useMemo(()=>({dir:n,targetDocument:o}),[n,o]),[c]=cd.useState(()=>({})),f=cd.useMemo(()=>({textDirection:n}),[n]);return{customStyleHooks_unstable:r,overrides_unstable:u,provider:l,textDirection:n,iconDirection:f,tooltip:c,theme:a,themeClassName:t?i.className:s}}var Bs=eR.forwardRef((e,t)=>{let r=ld(e,t);sd(r);let n=fd(r);return od(r,n)});Bs.displayName="FluentProvider";var yn=X(Ve(),1);function sr(){return x5}function Ji(){return typeof window<"u"?window:null}function tR(e){Da.sendUserFact=e}function rR(e){Da.processTelemetryEvent=e}function nR(e){let t=Ji();Da.setUiStrings=e,t.OfficeBrowserFeedback=t.OfficeBrowserFeedback||{},t.OfficeBrowserFeedback.setUiStrings=Da.setUiStrings}function iR(e){Da.isFeedbackSurveyEnabledByAADC=e}function oR(e){mi.customUXHandler=e}function aR(e){mi.showSurvey=e}function sR(e){mi.showFormSurvey=e}function uR(e){mi.showCustomSurvey=e}function lR(e){mi.initialize=e}function cR(e){mi.start=e}function fR(e){mi.stop=e}function dR(e){mi.getEngine=e}function pR(e){mi.updateTheme=e}function gR(e){Da.updateTelemetrySink=e}function mR(e){mi.getSettingIdMap=e}function vR(e){mi.getStorageProvider=e}var P0=class{},F0=class{constructor(){this.floodgate=new P0}};var Da=new F0,mi=Da.floodgate,x5={OfficeBrowserFeedback:Da};function Ev(e,t,r){return Tv(e,1,t,r)}function Uo(e,t,r){return Tv(e,2,t,r)}function dd(e,t,r){return Tv(e,3,t,r)}function Re(e,t,r){return Tv(e,0,t,r)}function Tv(e,t,r,n){return{name:e,dataType:t,value:r,classification:n||4}}function R0(e,t){return e?e+"."+t:t}function it(e,t,r,n,i){i===void 0&&(i=4),n&&e.push(Re("".concat(R0(t,r)),n,i))}function $i(e,t,r,n){typeof n=="boolean"&&e.push(Ev("".concat(R0(t,r)),n))}function pd(e,t,r,n){if(typeof n=="number"){var i=Math.round(n);e.push(Uo("".concat(R0(t,r)),i))}}var A5={getFields:function(e){var t="Activity.Result",r="Office.System.Result",n=[];return pd(n,t,"Code",e.code),it(n,t,"Type",e.type),pd(n,t,"Tag",e.tag),$i(n,t,"IsExpected",e.isExpected),n.push(Re("zC.Activity.Result",r)),n}},wl={contractName:"Office.System.Activity",getFields:function(e){var t="Activity",r=[];return it(r,t,"CV",e.cV),pd(r,t,"Duration",e.duration),pd(r,t,"Count",e.count),pd(r,t,"AggMode",e.aggMode),$i(r,t,"Success",e.success),e.result&&r.push.apply(r,A5.getFields(e.result)),r.push(Re("zC.Activity",this.contractName)),r}},xv={getFields:function(e){var t="User",r=[];return it(r,t,"PrimaryIdentityHash",e.primaryIdentityHash),it(r,t,"PrimaryIdentitySpace",e.primaryIdentitySpace),it(r,t,"TenantId",e.tenantId,1),it(r,t,"TenantGroup",e.tenantGroup,1),$i(r,t,"IsAnonymous",e.isAnonymous),$i(r,t,"IsSignedIn",e.isSignedIn),it(r,t,"TelemetryRegion",e.telemetryRegion),r}};var bv;(function(e){e.Web="Web",e.Desktop="Desktop",e.Universal="Universal",e.Mobile="Mobile",e.Win32="Win32",e.Mac="Mac",e.iOS="iOS",e.Android="Android"})(bv||(bv={}));var Av={getFields:function(e){var t="App",r=[];return it(r,t,"Name",e.name,1),it(r,t,"Platform",e.platform,1),it(r,t,"Version",e.version,1),r}},wv={getFields:function(e){var t="Session",r=[];return it(r,t,"Id",e.id,1),it(r,t,"EcsETag",e.ecsETag,1),r}};var Iv;(function(e){e.Automation="Automation",e.Dogfood="Dogfood",e.Microsoft="Microsoft",e.Insiders="Insiders",e.Production="Production"})(Iv||(Iv={}));var CR={getFields:function(e){var t="Release",r=[];return it(r,t,"AudienceGroup",e.audienceGroup,1),r}},hR;(function(e){var t="Office.System.Copilot",r="Copilot",n;(function(u){u.IsEnabled="IsEnabled",u.IsSeen="IsSeen",u.IsTried="IsTried",u.IsKept="IsKept",u.IsRejected="IsRejected"})(n=e.FeatureActionType||(e.FeatureActionType={}));var i;(function(u){u.ContentGeneration="Content Generation",u.Commanding="Commanding",u.QAandSummaries="QA and Summaries",u.Collaboration="Collaboration",u.Suggestions="Suggestions"})(i=e.Capability||(e.Capability={}));var o;(function(u){u.Chat="Chat",u.Canvas="Canvas",u.SuggestionsPane="Suggestions Pane",u.Backstage="Backstage"})(o=e.EntryPoint||(e.EntryPoint={}));var a;(function(u){u.Create="Create",u.Command="Command",u.Ask="Ask",u.Summarize="Summarize",u.Share="Share",u.Analyze="Analyze"})(a=e.Verb||(e.Verb={}));function s(u){var l=[];return it(l,r,"FeatureActionType",u.featureActionType),$i(l,r,"IsUserInitiated",u.isUserInitiated),it(l,r,"FeatureName",u.featureName),it(l,r,"SubFeatureName",u.subFeatureName),it(l,r,"Capability",u.capability),$i(l,r,"IsThumbsUp",u.isThumbsUp),it(l,r,"EntryPoint",u.entryPoint),it(l,r,"Verb",u.verb),it(l,r,"InteractionId",u.interactionId),it(l,r,"ConversationId",u.conversationId),l.push(Re("zC.".concat(r),t)),l}e.getFields=s})(hR||(hR={}));var yR;(function(e){var t="Office.System.Asha",r="Asha",n;(function(o){o.Pillar="Pillar",o.Error="Error"})(n=e.EventType||(e.EventType={}));function i(o){var a=[];return it(a,r,"EventType",o.eventType),it(a,r,"Pillar",o.pillar),it(a,r,"Scenario",o.scenario),it(a,r,"Veto",o.veto),it(a,r,"Error",o.error),$i(a,r,"InStaging",o.inStaging),$i(a,r,"IsSessionEndingError",o.isSessionEndingError),$i(a,r,"IsIntentional",o.isIntentional),$i(a,r,"IsInternal",o.isInternal),a.push(Re("zC.".concat(r),t)),a}e.getFields=i})(yR||(yR={}));var SR;(function(e){function t(r,n){var i=[];return n.name!==void 0&&i.push(Re("".concat(r,".Name"),n.name)),n.platform!==void 0&&i.push(Re("".concat(r,".Platform"),n.platform)),n.version!==void 0&&i.push(Re("".concat(r,".Version"),n.version)),n.sessionId!==void 0&&i.push(Re("".concat(r,".SessionId"),n.sessionId)),n.immediateHost!==void 0&&i.push(Re("".concat(r,".ImmediateHost"),n.immediateHost)),n.subModuleName!==void 0&&i.push(Re("".concat(r,".SubModuleName"),n.subModuleName)),n.context!==void 0&&i.push(Re("".concat(r,".Context"),n.context)),n.referrer!==void 0&&i.push(Re("".concat(r,".Referrer"),n.referrer)),i}e.getFields=t})(SR||(SR={}));var _R;(function(e){var t="Office.System.ContentIdentifier",r="ContentIdentifier";function n(i){var o=[];return o.push(Re("".concat(r,".ContentType"),i.contentType)),o.push(Re("".concat(r,".ContentId"),i.contentId)),i.subContentType!==void 0&&o.push(Re("".concat(r,".SubContentType"),i.subContentType)),i.subContentId!==void 0&&o.push(Re("".concat(r,".SubContentId"),i.subContentId)),o.push(Re("zC.".concat(r),t)),o}e.getFields=n})(_R||(_R={}));var L0=function(e,t){return L0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},L0(e,t)};function Nl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");L0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var mt=function(){return mt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},mt.apply(this,arguments)};function ER(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Le(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})}function Ye(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function gd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function U0(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function w5(){var e=[];return{fireEvent:function(t){e.forEach(function(r){return r(t)})},addListener:function(t){t&&e.push(t)}}}var N5=w5();function ot(e,t,r){N5.fireEvent({level:e,category:t,message:r})}function Ov(e,t,r){ot(0,e,function(){var n=r instanceof Error?r.message:"";return"".concat(t,": ").concat(n)})}var k0=".",Ol={};function M0(e,t){if(e.substring(0,7)==="Office"+k0&&e[e.length-1]!==k0)Ol[e]?(t.ariaTenantToken&&(Ol[e].ariaTenantToken=t.ariaTenantToken),t.dnmToken&&(Ol[e].dnmToken=t.dnmToken)):Ol[e]=t;else{ot(0,0,function(){return"Namespace: ".concat(e)});return}}function B0(e,t){for(var r=e.length;r>0;){var n=e.substr(0,r);if(Ol[n]){var i=Ol[n];return t.ariaTenantToken=i.ariaTenantToken,t.dnmToken=i.dnmToken,!0}r=e.lastIndexOf(k0,r-1)}return!1}var bR=9007199254740991,O5=-bR,IR=98,xR=/^Office(\.[A-Z][a-zA-Z0-9]*){2,}$/,V0=/^[a-zA-Z0-9_\.]{1,95}$/;function AR(e){D5(e.eventName)||G0("eventName",e.eventName,xR,IR);var t=e.eventContract;t&&(t.name&&!wR(t.name)&&G0("eventContract",t.name,V0),TR(t.dataFields)),TR(e.dataFields)}function D5(e){return!e||e.length>IR?!1:xR.test(e)}function wR(e){return V0.test(e)}function TR(e){e&&e.forEach(function(t){(typeof t.name!="string"||!wR(t.name))&&G0("dataField name",t.name,V0),t.dataType===2&&P5(t.value)})}function P5(e){if(typeof e!="number"||!isFinite(e)||Math.floor(e)!==e||e<O5||e>bR)throw new Error("Invalid integer ".concat(JSON.stringify(e)))}function G0(e,t,r,n){throw new Error("Invalid ".concat(e," '").concat(t,"' as it does not match regex ").concat(r)+(n?" or exceeds ".concat(n," chars"):""))}var NR="4.23.1139";var OR=2,F5=1e3,H0=-1;function ko(e){var t={eventName:e.eventName,eventFlags:e.eventFlags||{},telemetryProperties:e.telemetryProperties?mt({},e.telemetryProperties):{},dataFields:e.dataFields?e.dataFields.slice():[],timestamp:e.timestamp||new Date().getTime()};return e.eventContract&&(t.eventContract={name:e.eventContract.name,dataFields:e.eventContract.dataFields.slice()}),t}var DR=function(){function e(t,r,n){var i,o,a;this.telemetrySinks=[],this.persistentDataFields=[],this.partAFields=[],this.eventQueue=[],this.config=n||{},this.instanceId=++e.instanceCounter,t&&(this.telemetrySinks=t.telemetrySinks,(i=this.persistentDataFields).push.apply(i,t.persistentDataFields),this.config=mt(mt({},t.getConfig()),this.config),(o=this.partAFields).push.apply(o,t.partAFields)),r&&(a=this.persistentDataFields).push.apply(a,r)}return e.prototype.addEventContentType=function(t,r){t.push(Uo("EventContent.Type",r))},e.prototype.sendTelemetryEvent=function(t){var r=ko(t),n=r.telemetryProperties;n.nexusTenantToken=H0;var i=n.ariaTenantToken;if(!i){var o=B0(r.eventName,n);if(!o&&!i){ot(0,0,function(){return"No tenant token: "+t.eventName});return}}this.sendTelemetryEventInternal(r,1)},e.prototype.sendNonStandardEvent=function(t,r){var n=ko(t);this.sendTelemetryEventInternal(n,r)},e.prototype.sendCustomerContent=function(t){var r=ko(t),n=r.telemetryProperties,i=n.customerContentVersion;return(!i||i>OR)&&(n.customerContentVersion=OR),n.ariaTenantToken=void 0,n.nexusTenantToken=void 0,n.dnmToken=void 0,this.addEventContentType(r.dataFields,2),this.sendTelemetryEventInternal(r,2)},e.prototype.sendDirectNumericEvent=function(t){var r=ko(t),n=r.telemetryProperties;if(!n.dnmToken){var i=B0(r.eventName,n);if(!i&&!n.dnmToken){ot(0,0,function(){return"No dnm token: "+r.eventName});return}}this.addEventContentType(r.dataFields,1),this.sendTelemetryEventInternal(r,3)},e.prototype.sendTelemetryEventInternal=function(t,r){if(r!==2&&(t.telemetryProperties.customerContentVersion||t.telemetryProperties.customerContentType)){ot(0,0,function(){return"Customer content"});return}try{if(this.telemetrySinks.length===0){this.config.enableQueue&&this.eventQueue.length<F5?this.eventQueue.push([t,r]):ot(1,0,function(){return"No telemetry sinks are attached."});return}this.processTelemetryEvent(t,r)}catch(n){Ov(0,"SendTelemetryEvent",n);return}this.telemetrySinks.forEach(function(n){try{r===3||r===2?n.sendNonStandardEvent&&n.sendNonStandardEvent(t,r):n.sendTelemetryEvent(t)}catch(i){}})},e.prototype.processTelemetryEvent=function(t,r){var n,i,o;if(t.dataFields&&((o=t.dataFields)===null||o===void 0||o.unshift(Re("OTelJS.Version",NR)),r!==3&&this.persistentDataFields&&(n=t.dataFields).unshift.apply(n,this.persistentDataFields)),this.partAFields.length>0){var a=t.eventContract||{name:"",dataFields:[]};(i=a.dataFields).push.apply(i,this.partAFields),t.eventContract=a}this.config.disableValidation||AR(t)},e.prototype.addSink=function(t){this.telemetrySinks.push(t),this.flushQueue()},e.prototype.flushQueue=function(){var t=this.eventQueue;if(this.eventQueue=[],this.telemetrySinks.length>0)for(var r=0,n=t;r<n.length;r++){var i=n[r],o=i[0],a=i[1];this.sendTelemetryEventInternal(o,a)}},e.prototype.setTenantToken=function(t,r,n){M0(t,{ariaTenantToken:r,nexusTenantToken:n})},e.prototype.setDNMToken=function(t,r){M0(t,{dnmToken:r})},e.prototype.cloneEvent=function(t){return ko(t)},e.prototype.getConfig=function(){return this.config},e.instanceCounter=0,e}();var R5=1,L5=0,Mo=function(){return typeof self=="object"&&typeof self.performance=="object"&&typeof self.performance.now=="function"?Mo=function(){return self.performance.now()}:Mo=function(){return Date.now()},Mo()},Dv=function(e){var t=Mo(),r,n=ko(e.telemetryEvent);return mt(mt({cv:e.parentCv.getNext()},n),{createChildActivity:function(i){return Dv({telemetryEvent:i,sendTelemetryEvent:e.sendTelemetryEvent,parentCv:this.cv})},setResult:function(i,o,a){this.result={code:i,type:o,tag:a}},endNow:function(){var i=this,o,a;if(r){ot(0,0,function(){return"'".concat(i.eventName,"' already ended")});return}this.success===void 0&&this.result===void 0&&ot(1,0,function(){return"Activity does not have success or result set"});var s=Mo(),u=Math.floor((s-t)*1e3);r=!0;var l={duration:u,count:R5,aggMode:L5,cV:this.cv.value,success:this.success,result:this.result},c=(a=(o=this.eventContract)===null||o===void 0?void 0:o.dataFields)!==null&&a!==void 0?a:[];return c.push.apply(c,wl.getFields(l)),this.eventContract={name:wl.contractName,dataFields:c},e.sendTelemetryEvent(this)}})};var z0,U5=function(){function e(t){this.value=t,this.nextChild=0}return e.prototype.getNext=function(){return new e("".concat(this.value,".").concat(++this.nextChild))},e}();function PR(){if(!z0){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=22,r=[],n=0;n<t;n++)r.push(e.charAt(Math.floor(Math.random()*e.length)));z0=new U5(r.join(""))}return z0}var FR={getFields:function(e){var t="Error",r=[];return r.push(Re("".concat(t,".ErrorGroup"),e.errorGroup)),r.push(Uo("".concat(t,".Tag"),e.tag)),e.code!==void 0&&r.push(Uo("".concat(t,".Code"),e.code)),e.id!==void 0&&r.push(Uo("".concat(t,".Id"),e.id)),e.count!==void 0&&r.push(Uo("".concat(t,".Count"),e.count)),r}};var RR=function(e){Nl(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.baseCv=PR(),o}return t.prototype.createActivity=function(r){return Dv({sendTelemetryEvent:this.sendTelemetryEvent.bind(this),telemetryEvent:r,parentCv:this.baseCv})},t.prototype.sendActivity=function(r,n,i,o){return this.sendTelemetryEvent({eventName:r,eventContract:{name:wl.contractName,dataFields:wl.getFields(n)},dataFields:i,eventFlags:o})},t.prototype.sendError=function(r){var n=FR.getFields(r.error);return r.dataFields!=null&&n.push.apply(n,r.dataFields),this.sendTelemetryEvent({eventName:r.eventName,dataFields:n,eventFlags:r.eventFlags})},t.prototype.createCustomerContentActivity=function(r){return Dv({sendTelemetryEvent:this.sendCustomerContent.bind(this),telemetryEvent:r,parentCv:this.baseCv})},t}(DR);var md;(function(e){e.USGOV_DOD="https://pf.events.data.microsoft.com/OneCollector/1.0/",e.USGOV_DOJ="https://tb.events.data.microsoft.com/OneCollector/1.0/",e.PUBLIC="https://browser.events.data.microsoft.com/OneCollector/1.0/",e.CUSTOMER_CONTENT="",e.EUDB="https://eu-office.events.data.microsoft.com/OneCollector/1.0/",e.EDPS="https://eu-r-office.events.data.microsoft.com/OneCollector/1.0/"})(md||(md={}));var vi="function",hr="object",yr="undefined",Xt="prototype",Pv="hasOwnProperty";var Cn=Object,vd=Cn[Xt],hd=Cn.assign,Fv=Cn.create,Dl=Cn.defineProperty,En=vd[Pv];var LR=null;function Pa(e){e===void 0&&(e=!0);var t=e===!1?null:LR;return t||(typeof globalThis!==yr&&(t=globalThis),!t&&typeof self!==yr&&(t=self),!t&&typeof window!==yr&&(t=window),!t&&typeof global!==yr&&(t=global),LR=t),t}function Pl(e){throw new TypeError(e)}function Fa(e){var t=Fv;if(t)return t(e);if(e==null)return{};var r=typeof e;r!==hr&&r!==vi&&Pl("Object prototype may only be an Object:"+e);function n(){}return n[Xt]=e,new n}var ite=(Pa()||{}).Symbol,ote=(Pa()||{}).Reflect;var j0=function(e,t){return j0=Cn.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Pv](i)&&(r[i]=n[i])},j0(e,t)};function Bo(e,t){typeof t!==vi&&t!==null&&Pl("Class extends value "+String(t)+" is not a constructor or null"),j0(e,t);function r(){this.constructor=e}e[Xt]=t===null?Fa(t):(r[Xt]=t[Xt],new r)}function Rv(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}var hi="initialize",an="name",yd="getNotifyMgr",yi="identifier",Fe="push",Tn="isInitialized",Zi="config",Lv="instrumentationKey",Sr="logger",_e="length",Gs="time",at="processNext",Uv="getProcessTelContext",Vs="addNotificationListener",Hs="removeNotificationListener",q0="stopPollingInternalLogs",zs="onComplete",js="getPlugin",Fl="flush",Sd="_extensions",Go="splice",bn="teardown",Rl="messageId",Ra="message",Si="isAsync",Ll="_doTeardown",qs="update",In="getNext",qn="diagLog",La="setNextPlugin",Vo="createNew",Y0="cookieCfg",Ho="indexOf",_i="substring",_d="userAgent",Ys="split",Cd="setEnabled",Ws="substr",kv="nodeType",Ul="apply",Ci="replace",W0="enableDebugExceptions",UR="logInternalMessage",K0="toLowerCase",ur="call",eo="type",Mv="handler",Ks="listeners",Ed="isChildEvt",Qs="getCtx",Ei="setCtx",Bv="complete",Gv="traceId",Vv="spanId",Hv="traceFlags";var xe="",Q0="channels",Tt="core",J0="createPerfMgr",Td="disabled",kl="extensionConfig",kR="extensions",sn="processTelemetry",Yn="priority",Ml="eventsSent",Ua="eventsDiscarded",Bl="eventsSendRequest",ka="perfEvent",zv="errorToConsole",bd="warnToConsole",Js="getPerfMgr";var HR="toISOString",zR="endsWith",jR="startsWith",MR="indexOf";var $0="trim",qR="toString",M5="__proto__",jv="constructor",BR=Dl,Z0=Cn.freeze,Pte=Cn.seal,GR=Cn.keys,tT=String[Xt],B5=tT[$0],G5=tT[zR],V5=tT[jR],H5=Date[Xt],z5=H5[HR],j5=Array.isArray,YR=vd[qR],WR=En[qR],q5=WR[ur](Cn),Y5=/-([a-z])/g,W5=/([^\w\d_$])/g,K5=/^(\d+[\w\d_$])/,qv=Object.getPrototypeOf;function Q5(e){if(e){if(qv)return qv(e);var t=e[M5]||e[Xt]||e[jv];if(t)return t}return null}function Je(e){return e===void 0||typeof e===yr}function Oe(e){return e===null||Je(e)}function rT(e){return!Oe(e)}function Gl(e,t){return!!(e&&En[ur](e,t))}function Wn(e){return!!(e&&typeof e===hr)}function ze(e){return!!(e&&typeof e===vi)}function Vl(e){var t=e;return t&&un(t)&&(t=t[Ci](Y5,function(r,n){return n.toUpperCase()}),t=t[Ci](W5,"_"),t=t[Ci](K5,function(r,n){return"_"+n})),t}function Lt(e,t){if(e)for(var r in e)En[ur](e,r)&&t[ur](e,r,e[r])}function Id(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=G5?e[zR](t):J5(e,t)),r}function J5(e,t){var r=!1,n=t?t[_e]:0,i=e?e[_e]:0;if(n&&i&&i>=n&&!(r=e===t)){for(var o=i-1,a=n-1;a>=0;a--){if(e[o]!=t[a])return!1;o--}r=!0}return r}function xd(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=V5?e[jR](t):X5(e,t)),r}function X5(e,t){var r=!1,n=t?t[_e]:0;if(e&&n&&e[_e]>=n&&!(r=e===t)){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;r=!0}return r}function lr(e,t){return e&&t?e[Ho](t)!==-1:!1}var Pe=j5||$5;function $5(e){return!!(e&&YR[ur](e)==="[object Array]")}function Ad(e){return!!(e&&YR[ur](e)==="[object Error]")}function un(e){return typeof e=="string"}function Ti(e){return typeof e=="number"}function Ma(e){return typeof e=="boolean"}function eT(e){var t=!1;if(e&&typeof e=="object"){var r=qv?qv(e):Q5(e);r?(r[jv]&&En[ur](r,jv)&&(r=r[jv]),t=typeof r===vi&&WR[ur](r)===q5):t=!0}return t}function Ba(e){if(e)return z5?e[HR]():Z5(e)}function Z5(e){if(e&&e.getUTCFullYear){var t=function(r){var n=String(r);return n[_e]===1&&(n="0"+n),n};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ne(e,t,r){var n=e[_e];try{for(var i=0;i<n&&!(i in e&&t[ur](r||e,e[i],i,e)===-1);i++);}catch(o){}}function Pr(e,t,r){if(e){if(e[MR])return e[MR](t,r);var n=e[_e],i=r||0;try{for(var o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;o++)if(o in e&&e[o]===t)return o}catch(a){}}return-1}function Ut(e){return e&&(e=B5&&e[$0]?e[$0]():e[Ci]?e[Ci](/^\s+|(?=\s)\s+$/g,xe):e),e}var VR=!{toString:null}.propertyIsEnumerable("toString"),X0=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function bi(e){var t=typeof e;if(t!==vi&&(t!==hr||e===null)&&Pl("objKeys called on non-object"),!VR&&GR)return GR(e);var r=[];for(var n in e)e&&En[ur](e,n)&&r[Fe](n);if(VR)for(var i=X0[_e],o=0;o<i;o++)e&&En[ur](e,X0[o])&&r[Fe](X0[o]);return r}function zo(e,t,r,n){if(BR)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),BR(e,t,i),!0}catch(o){}return!1}function e6(e){return e}function nT(e){return Z0&&Lt(e,function(t,r){(Pe(r)||Wn(r))&&Z0(r)}),Ii(e)}var Ii=Z0||e6;function _r(){var e=Date;return e.now?e.now():new e().getTime()}function Hl(e){return Ad(e)?e[an]:xe}function xn(e,t,r,n,i){var o=r;return e&&(o=e[t],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,e[t]=o)),o}function Xs(e,t,r){var n;return e?(n=e[t],!n&&Oe(n)&&(n=Je(r)?{}:r,e[t]=n)):n=Je(r)?{}:r,n}function An(e,t){return Oe(e)?t:e}function wd(e){return!!e}function cr(e){throw new Error(e)}function t6(e,t){var r=null,n=null;return ze(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t][Ul](n,i)}}function $s(e,t,r,n,i){e&&t&&r&&(i!==!1||Je(e[t]))&&(e[t]=t6(r,n))}function Nd(e,t,r,n){return e&&t&&Wn(e)&&Pe(r)&&ne(r,function(i){un(i)&&$s(e,i,t,i,n)}),e}function Ga(e){return e&&hd&&(e=Cn(hd({},e))),e}function zl(e,t,r,n,i,o){var a=arguments,s=a[0]||{},u=a[_e],l=!1,c=1;for(u>0&&Ma(s)&&(l=s,s=a[c]||{},c++),Wn(s)||(s={});c<u;c++){var f=a[c],d=Pe(f),p=Wn(f);for(var v in f){var h=d&&v in f||p&&En[ur](f,v);if(h){var g=f[v],m=void 0;if(l&&g&&((m=Pe(g))||eT(g))){var y=s[v];m?Pe(y)||(y=[]):eT(y)||(y={}),g=zl(l,y,g)}g!==void 0&&(s[v]=g)}}}return s}function iT(e){var t={};return Lt(e,function(r,n){t[r]=n,t[n]=r}),nT(t)}var Kn=iT({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});var Yv,Wv="undefined",Xv="constructor",to="prototype",$v="function",Zv="_dynInstFuncs",sT="_isDynProxy",jl="_dynClass",r6="_dynCls$",uT="_dynInstChk",Od=uT,$R="_dfOpts",KR="_unknown_",fT="__proto__",Kv="_dyn"+fT,QR="__dynProto$Gbl",oT="_dynInstProto",Qv="useBaseInst",lT="setInstFuncs",rh=Object,Dd=rh.getPrototypeOf,JR=rh.getOwnPropertyNames;function n6(){var e;return typeof globalThis!==Wv&&(e=globalThis),!e&&typeof self!==Wv&&(e=self),!e&&typeof window!==Wv&&(e=window),!e&&typeof global!==Wv&&(e=global),e||{}}var XR=n6(),cT=XR[QR]||(XR[QR]={o:(Yv={},Yv[lT]=!0,Yv[Qv]=!0,Yv),n:1e3});function jo(e,t){return e&&rh[to].hasOwnProperty.call(e,t)}function Jv(e){return e&&(e===rh[to]||e===Array[to])}function dT(e){return Jv(e)||e===Function[to]}function Zs(e){var t;if(e){if(Dd)return Dd(e);var r=e[fT]||e[to]||(e[Xv]?e[Xv][to]:null);t=e[Kv]||r,jo(e,Kv)||(delete e[oT],t=e[Kv]=e[oT]||e[Kv],e[oT]=r)}return t}function eh(e,t){var r=[];if(JR)r=JR(e);else for(var n in e)typeof n=="string"&&jo(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function pT(e,t,r){return t!==Xv&&typeof e[t]===$v&&(r||jo(e,t))&&t!==fT&&t!==to}function th(e){throw new TypeError("DynamicProto: "+e)}function ql(){return Object.create?function(e){var t=Object.create;if(t)return t(e);if(e==null)return{};var r=typeof e;if(r!=="object"&&r!=="function")throw new TypeError("Object prototype may only be an Object:"+e);function n(){}return n.prototype=e,new n}(null):{}}function i6(e){var t=ql();return eh(e,function(r){!t[r]&&pT(e,r,!1)&&(t[r]=e[r])}),t}function gT(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function o6(e,t,r,n){function i(u,l,c){var f=l[c];if(f[sT]&&n){var d=u[Zv]||{};d[Od]!==!1&&(f=(d[l[jl]]||{})[c]||f)}return function(){return f.apply(u,arguments)}}var o=ql();eh(r,function(u){o[u]=i(t,r,u)});for(var a=Zs(e),s=[];a&&!dT(a)&&!gT(s,a);)eh(a,function(u){!o[u]&&pT(a,u,!Dd)&&(o[u]=i(t,a,u))}),s.push(a),a=Zs(a);return o}function a6(e,t,r,n){var i=null;if(e&&jo(r,jl)){var o=e[Zv]||ql();if(i=(o[r[jl]]||ql())[t],i||th("Missing ["+t+"] "+$v),!i[uT]&&o[Od]!==!1){for(var a=!jo(e,t),s=Zs(e),u=[];a&&s&&!dT(s)&&!gT(u,s);){var l=s[t];if(l){a=l===n;break}u.push(s),s=Zs(s)}try{a&&(e[t]=i),i[uT]=1}catch(c){o[Od]=!1}}}return i}function s6(e,t,r){var n=t[e];return n===r&&(n=Zs(t)[e]),typeof n!==$v&&th("["+e+"] is not a "+$v),n}function u6(e,t,r,n,i){function o(u,l){var c=function(){var f=a6(this,l,u,c)||s6(l,u,c);return f.apply(this,arguments)};return c[sT]=1,c}if(!Jv(e)){var a=r[Zv]=r[Zv]||ql();if(!Jv(a)){var s=a[t]=a[t]||ql();a[Od]!==!1&&(a[Od]=!!i),Jv(s)||eh(r,function(u){pT(r,u,!1)&&r[u]!==n[u]&&(s[u]=r[u],delete r[u],(!jo(e,u)||e[u]&&!e[u][sT])&&(e[u]=o(e,u)))})}}}function l6(e,t){if(Dd){for(var r=[],n=Zs(t);n&&!dT(n)&&!gT(r,n);){if(n===e)return!0;r.push(n),n=Zs(n)}return!1}return!0}function aT(e,t){return jo(e,to)?e.name||t||KR:((e||{})[Xv]||{}).name||t||KR}function Xe(e,t,r,n){jo(e,to)||th("theClass is an invalid class definition.");var i=e[to];l6(i,t)||th("["+aT(e)+"] not in hierarchy of ["+aT(t)+"]");var o=null;jo(i,jl)?o=i[jl]:(o=r6+aT(e,"_")+"$"+cT.n,cT.n++,i[jl]=o);var a=Xe[$R],s=!!a[Qv];s&&n&&n[Qv]!==void 0&&(s=!!n[Qv]);var u=i6(t),l=o6(i,t,u,s);r(t,l);var c=!!Dd&&!!a[lT];c&&n&&(c=!!n[lT]),u6(i,o,t,u,c!==!1)}Xe[$R]=cT.o;var ZR="window",c6="document";var f6="navigator";var d6="location",p6="console",g6="performance",eL="JSON",m6="crypto",v6="msCrypto",h6="ReactNative",y6="msie",S6="trident/",tL="XMLHttpRequest",mT=null,vT=null,_6=!1,Yl=null,hT=null;function rL(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[Xt];n&&(r=t in n)}}catch(o){}if(!r)try{var i=new e;r=!Je(i[t])}catch(o){}}return r}function kt(e){var t=Pa();return t&&t[e]?t[e]:e===ZR&&nh()?window:null}function nh(){return!!(typeof window===hr&&window)}function qo(){return nh()?window:kt(ZR)}function yT(){return!!(typeof document===hr&&document)}function xi(){return yT()?document:kt(c6)}function ih(){return!!(typeof navigator===hr&&navigator)}function ro(){return ih()?navigator:kt(f6)}function Wl(e){if(e&&_6){var t=kt("__mockLocation");if(t)return t}return typeof location===hr&&location?location:kt(d6)}function oh(){return typeof console!==yr?console:kt(p6)}function ah(){return kt(g6)}function Kl(){return!!(typeof JSON===hr&&JSON||kt(eL)!==null)}function Pd(){return Kl()?JSON||kt(eL):null}function sh(){return kt(m6)}function uh(){return kt(v6)}function Ql(){var e=ro();return e&&e.product?e.product===h6:!1}function Yo(){var e=ro();if(e&&(e[_d]!==vT||mT===null)){vT=e[_d];var t=(vT||xe)[K0]();mT=lr(t,y6)||lr(t,S6)}return mT}function Mt(e){var t=Object[Xt].toString[ur](e),r=xe;return t==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[an]+"'":Kl()&&(r=Pd().stringify(e)),t+r}function Jl(){return hT===null&&(hT=ih()&&!!ro().sendBeacon),hT}function Fd(e){var t=!1;try{t=!!kt("fetch");var r=kt("Request");t&&e&&r&&(t=rL(r,"keepalive"))}catch(n){}return t}function Rd(){return Yl===null&&(Yl=typeof XDomainRequest!==yr,Yl&&Ld()&&(Yl=Yl&&!rL(kt(tL),"withCredentials"))),Yl}function Ld(){var e=!1;try{var t=kt(tL);e=!!t}catch(r){}return e}var ST=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],ch=null,lh;function C6(e,t){return function(){var r=arguments,n=_T(t);if(n){var i=n.listener;i&&i[e]&&i[e][Ul](i,r)}}}function E6(){var e=kt("Microsoft");return e&&(ch=e.ApplicationInsights),ch}function _T(e){var t=ch;return!t&&e.disableDbgExt!==!0&&(t=ch||E6()),t?t.ChromeDbgExt:null}function nL(e){if(!lh){lh={};for(var t=0;t<ST[_e];t++)lh[ST[t]]=C6(ST[t],e)}return lh}var T6="AI (Internal): ",b6="AI: ",I6="AITR_";function iL(e){return e?'"'+e[Ci](/\"/g,xe)+'"':xe}function oL(e,t){var r=oh();if(r){var n="log";r[e]&&(n=e),ze(r[n])&&r[n](t)}}var Xl=function(){function e(t,r,n,i){n===void 0&&(n=!1);var o=this;o[Rl]=t,o[Ra]=(n?b6:T6)+t;var a=xe;Kl()&&(a=Pd().stringify(i));var s=(r?" message:"+iL(r):xe)+(i?" props:"+iL(a):xe);o[Ra]+=s}return e.dataType="MessageData",e}();function fh(e,t){return(e||{})[Sr]||new no(t)}var no=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,a,s;Xe(e,this,function(u){c(t||{}),u.consoleLoggingLevel=function(){return i},u.telemetryLoggingLevel=function(){return o},u.maxInternalMessageLimit=function(){return a},u[W0]=function(){return s},u.throwInternal=function(p,v,h,g,m){m===void 0&&(m=!1);var y=new Xl(v,h,m,g);if(s)throw Mt(y);var S=p===1?zv:bd;if(Je(y[Ra]))d("throw"+(p===1?"Critical":"Warning"),y);else{if(m){var E=+y[Rl];!n[E]&&i>=p&&(u[S](y[Ra]),n[E]=!0)}else i>=p&&u[S](y[Ra]);l(p,y)}},u[bd]=function(p){oL("warn",p),d("warning",p)},u[zv]=function(p){oL("error",p),d("error",p)},u.resetInternalMessageCount=function(){r=0,n={}},u[UR]=l;function l(p,v){if(!f()){var h=!0,g=I6+v[Rl];if(n[g]?h=!1:n[g]=!0,h&&(p<=o&&(u.queue[Fe](v),r++,d(p===1?"error":"warn",v)),r===a)){var m="Internal events throttle limit per PageView reached for this app.",y=new Xl(23,m,!1);u.queue[Fe](y),p===1?u[zv](m):u[bd](m)}}}function c(p){i=An(p.loggingLevelConsole,0),o=An(p.loggingLevelTelemetry,1),a=An(p.maxMessageLimit,25),s=An(p.enableDebug,An(p[W0],!1))}function f(){return r>=a}function d(p,v){var h=_T(t||{});h&&h[qn]&&h[qn](p,v)}})}return e.__ieDyn=1,e}();function aL(e){return e||new no}function wt(e,t,r,n,i,o){o===void 0&&(o=!1),aL(e).throwInternal(t,r,n,i,o)}function Va(e,t){aL(e)[bd](t)}var $l="ctx",ET="ParentContextKey",Ud="ChildrenContextKey",x6=null,Zl=function(){function e(t,r,n){var i=this,o=!1;if(i.start=_r(),i[an]=t,i[Si]=n,i[Ed]=function(){return!1},ze(r)){var a;o=zo(i,"payload",function(){return!a&&ze(r)&&(a=r(),r=null),a})}i[Qs]=function(s){return s?s===e[ET]||s===e[Ud]?i[s]:(i[$l]||{})[s]:null},i[Ei]=function(s,u){if(s)if(s===e[ET])i[s]||(i[Ed]=function(){return!0}),i[s]=u;else if(s===e[Ud])i[s]=u;else{var l=i[$l]=i[$l]||{};l[s]=u}},i[Bv]=function(){var s=0,u=i[Qs](e[Ud]);if(Pe(u))for(var l=0;l<u[_e];l++){var c=u[l];c&&(s+=c[Gs])}i[Gs]=_r()-i.start,i.exTime=i[Gs]-s,i[Bv]=function(){},!o&&ze(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var dh=function(){function e(t){this.ctx={},Xe(e,this,function(r){r.create=function(n,i,o){return new Zl(n,i,o)},r.fire=function(n){n&&(n[Bv](),t&&ze(t[ka])&&t[ka](n))},r[Ei]=function(n,i){if(n){var o=r[$l]=r[$l]||{};o[n]=i}},r[Qs]=function(n){return(r[$l]||{})[n]}})}return e.__ieDyn=1,e}();var CT="CoreUtils.doPerf";function Bt(e,t,r,n,i){if(e){var o=e;if(o[Js]&&(o=o[Js]()),o){var a=void 0,s=o[Qs](CT);try{if(a=o.create(t(),n,i),a){if(s&&a[Ei]&&(a[Ei](Zl[ET],s),s[Qs]&&s[Ei])){var u=s[Qs](Zl[Ud]);u||(u=[],s[Ei](Zl[Ud],u)),u[Fe](a)}return o[Ei](CT,a),r(a)}}catch(l){a&&a[Ei]&&a[Ei]("exception",l)}finally{a&&o.fire(a),o[Ei](CT,s)}}}return r()}function TT(){return x6}var sL=4294967296,eu=4294967295,uL=!1,kd=123456789,Md=987654321;function A6(e){e<0&&(e>>>=0),kd=123456789+e&eu,Md=987654321-e&eu,uL=!0}function w6(){try{var e=_r()&2147483647;A6((Math.random()*sL^e)+e)}catch(t){}}function tu(e){var t=0,r=sh()||uh();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&eu),t===0&&Yo()&&(uL||w6(),t=bT()&eu),t===0&&(t=Math.floor(sL*Math.random()|0)),e||(t>>>=0),t}function bT(e){Md=36969*(Md&65535)+(Md>>16)&eu,kd=18e3*(kd&65535)+(kd>>16)&eu;var t=(Md<<16)+(kd&65535)>>>0&eu|0;return e||(t>>>=0),t}function Bd(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=tu()>>>0,n=0,i=xe;i[_e]<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(tu()<<2&4294967295|r&3)>>>0,n=0);return i}var lL=Dl,cL="2.8.18",N6="."+Bd(6),O6=0;function D6(e,t,r){if(lL)try{return lL(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch(n){}return!1}function fL(e){return e[kv]===1||e[kv]===9||!+e[kv]}function P6(e,t){var r=t[e.id];if(!r){r={};try{fL(t)&&(D6(t,e.id,r)||(t[e.id]=r))}catch(n){}}return r}function io(e,t){return t===void 0&&(t=!1),Vl(e+O6+++(t?"."+cL:xe)+N6)}function ph(e){var t={id:io("_aiData-"+(e||xe)+"."+cL),accept:function(r){return fL(r)},get:function(r,n,i,o){var a=r[t.id];return a?a[Vl(n)]:(o&&(a=P6(t,r),a[Vl(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch(i){}}};return t}var dL="toGMTString",pL="toUTCString",wT="cookie",IT="expires",AT="enabled",gL="isCookieUseDisabled",mL="disableCookiesUsage",vL="_ckMgr",gh=null,xT=null,hL=null,Gd=xi(),yL={},SL={};function mh(e){return e?e.isEnabled():!0}function F6(e){var t=e[Y0]=e[Y0]||{};if(xn(t,"domain",e.cookieDomain,rT,Oe),xn(t,"path",e.cookiePath||"/",null,Oe),Oe(t[AT])){var r=void 0;Je(e[gL])||(r=!e[gL]),Je(e[mL])||(r=!e[mL]),t[AT]=r}return t}function TL(e,t){return t&&e&&Pe(e.ignoreCookies)?e.ignoreCookies[Ho](t)!==-1:!1}function R6(e,t){return t&&e&&Pe(e.blockedCookies)&&e.blockedCookies[Ho](t)!==-1?!0:TL(e,t)}function NT(e,t){var r,n=F6(e||SL),i=n.path||"/",o=n.domain,a=n[AT]!==!1,s=(r={isEnabled:function(){var u=a&&Vd(t),l=SL[vL];return u&&l&&s!==l&&(u=mh(l)),u}},r[Cd]=function(u){a=u!==!1},r.set=function(u,l,c,f,d){var p=!1;if(mh(s)&&!R6(n,u)){var v={},h=Ut(l||xe),g=h[Ho](";");if(g!==-1&&(h=Ut(l[_i](0,g)),v=bL(l[_i](g+1))),xn(v,"domain",f||o,wd,Je),!Oe(c)){var m=Yo();if(Je(v[IT])){var y=_r(),S=y+c*1e3;if(S>0){var E=new Date;E.setTime(S),xn(v,IT,_L(E,m?dL:pL)||_L(E,m?dL:pL)||xe,wd)}}m||xn(v,"max-age",xe+c,null,Je)}var D=Wl();D&&D.protocol==="https:"&&(xn(v,"secure",null,null,Je),xT===null&&(xT=!OT((ro()||{})[_d])),xT&&xn(v,"SameSite","None",null,Je)),xn(v,"path",d||i,null,Je);var P=n.setCookie||EL;P(u,CL(h,v)),p=!0}return p},r.get=function(u){var l=xe;return mh(s)&&!TL(n,u)&&(l=(n.getCookie||L6)(u)),l},r.del=function(u,l){var c=!1;return mh(s)&&(c=s.purge(u,l)),c},r.purge=function(u,l){var c,f=!1;if(Vd(t)){var d=(c={},c.path=l||"/",c[IT]="Thu, 01 Jan 1970 00:00:01 GMT",c);Yo()||(d["max-age"]="0");var p=n.delCookie||EL;p(u,CL(xe,d)),f=!0}return f},r);return s[vL]=s,s}function Vd(e){if(gh===null){gh=!1;try{var t=Gd||{};gh=t[wT]!==void 0}catch(r){wt(e,2,68,"Cannot access document.cookie - "+Hl(r),{exception:Mt(r)})}}return gh}function bL(e){var t={};if(e&&e[_e]){var r=Ut(e)[Ys](";");ne(r,function(n){if(n=Ut(n||xe),n){var i=n[Ho]("=");i===-1?t[n]=null:t[Ut(n[_i](0,i))]=Ut(n[_i](i+1))}})}return t}function _L(e,t){return ze(e[t])?e[t]():null}function CL(e,t){var r=e||xe;return Lt(t,function(n,i){r+="; "+n+(Oe(i)?xe:"="+i)}),r}function L6(e){var t=xe;if(Gd){var r=Gd[wT]||xe;hL!==r&&(yL=bL(r),hL=r),t=Ut(yL[e]||xe)}return t}function EL(e,t){Gd&&(Gd[wT]=e+"="+t)}function OT(e){return un(e)?!!(lr(e,"CPU iPhone OS 12")||lr(e,"iPad; CPU OS 12")||lr(e,"Macintosh; Intel Mac OS X 10_14")&&lr(e,"Version/")&&lr(e,"Safari")||lr(e,"Macintosh; Intel Mac OS X 10_14")&&Id(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||lr(e,"Chrome/5")||lr(e,"Chrome/6")||lr(e,"UnrealEngine")&&!lr(e,"Chrome")||lr(e,"UCBrowser/12")||lr(e,"UCBrowser/11")):!1}var DL="on",IL="attachEvent",xL="addEventListener",AL="detachEvent",wL="removeEventListener",DT="events",jd="visibilitychange",hh="pagehide",PL="pageshow",FL="unload",RL="beforeunload",LL=io("aiEvtPageHide"),UL=io("aiEvtPageShow"),U6=/\.[\.]+/g,k6=/[\.]+$/,M6=1,vh=ph("events"),B6=/^([^.]*)(?:\.(.+)|)/;function NL(e){return e&&e[Ci]?e[Ci](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,xe):e}function PT(e,t){var r;if(t){var n=xe;Pe(t)?(n=xe,ne(t,function(o){o=NL(o),o&&(o[0]!=="."&&(o="."+o),n+=o)})):n=NL(t),n&&(n[0]!=="."&&(n="."+n),e=(e||xe)+n)}var i=B6.exec(e||xe)||[];return r={},r[eo]=i[1],r.ns=(i[2]||xe).replace(U6,".").replace(k6,xe)[Ys](".").sort().join("."),r}function kL(e,t,r){r===void 0&&(r=!0);var n=vh.get(e,DT,{},r),i=n[t];return i||(i=n[t]=[]),i}function ML(e,t,r,n){e&&t&&t[eo]&&(e[wL]?e[wL](t[eo],r,n):e[AL]&&e[AL](DL+t[eo],r))}function G6(e,t,r,n){var i=!1;return e&&t&&t[eo]&&r&&(e[xL]?(e[xL](t[eo],r,n),i=!0):e[IL]&&(e[IL](DL+t[eo],r),i=!0)),i}function OL(e,t,r,n){for(var i=t[_e];i--;){var o=t[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(ML(e,o.evtName,o[Mv],o.capture),t[Go](i,1))}}function V6(e,t,r){if(t[eo])OL(e,kL(e,t[eo]),t,r);else{var n=vh.get(e,DT,{});Lt(n,function(i,o){OL(e,o,t,r)}),bi(n)[_e]===0&&vh.kill(e,DT)}}function Ha(e,t){var r;return t?(Pe(t)?r=[e].concat(t):r=[e,t],r=PT("xx",r).ns[Ys](".")):r=e,r}function Hd(e,t,r,n,i){var o;i===void 0&&(i=!1);var a=!1;if(e)try{var s=PT(t,n);if(a=G6(e,s,r,i),a&&vh.accept(e)){var u=(o={guid:M6++,evtName:s},o[Mv]=r,o.capture=i,o);kL(e,s.type)[Fe](u)}}catch(l){}return a}function zd(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var o=PT(t,n),a=!1;V6(e,o,function(s){return o.ns&&!r||s[Mv]===r?(a=!0,!0):!1}),a||ML(e,o,r,i)}catch(s){}}function yh(e,t,r){var n=!1,i=qo();i&&(n=Hd(i,e,t,r),n=Hd(i.body,e,t,r)||n);var o=xi();return o&&(n=Hd(o,e,t,r)||n),n}function FT(e,t,r){var n=qo();n&&(zd(n,e,t,r),zd(n.body,e,t,r));var i=xi();i&&zd(i,e,t,r)}function ec(e,t,r,n){var i=!1;return t&&e&&e[_e]>0&&ne(e,function(o){o&&(!r||Pr(r,o)===-1)&&(i=yh(o,t,n)||i)}),i}function RT(e,t,r,n){var i=!1;return t&&e&&Pe(e)&&(i=ec(e,t,r,n),!i&&r&&r[_e]>0&&(i=ec(e,t,null,n))),i}function ru(e,t,r){e&&Pe(e)&&ne(e,function(n){n&&FT(n,t,r)})}function qd(e,t,r){return RT([RL,FL,hh],e,t,r)}function Sh(e,t){ru([RL,FL,hh],e,t)}function Yd(e,t,r){function n(a){var s=xi();e&&s&&s.visibilityState==="hidden"&&e(a)}var i=Ha(LL,r),o=ec([hh],e,t,i);return(!t||Pr(t,jd)===-1)&&(o=ec([jd],n,t,i)||o),!o&&t&&(o=Yd(e,null,r)),o}function _h(e,t){var r=Ha(LL,t);ru([hh],e,r),ru([jd],null,r)}function Wd(e,t,r){function n(a){var s=xi();e&&s&&s.visibilityState==="visible"&&e(a)}var i=Ha(UL,r),o=ec([PL],e,t,i);return o=ec([jd],n,t,i)||o,!o&&t&&(o=Wd(e,null,r)),o}function Ch(e,t){var r=Ha(UL,t);ru([PL],e,r),ru([jd],null,r)}function Kd(){var e=Th();return e[_i](0,8)+"-"+e[_i](8,12)+"-"+e[_i](12,16)+"-"+e[_i](16,20)+"-"+e[_i](20)}function Eh(){var e=ah();return e&&e.now?e.now():_r()}function Th(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=xe,r,n=0;n<4;n++)r=tu(),t+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(tu()&3)|0];return t[Ws](0,8)+t[Ws](9,4)+"4"+t[Ws](13,3)+i+t[Ws](16,3)+t[Ws](19,12)}var z6="00000000000000000000000000000000",j6="0000000000000000";function GL(e,t,r){return e&&e[_e]===t&&e!==r?!!e.match(/^[\da-f]*$/i):!1}function BT(e){return GL(e,32,z6)}function GT(e){return GL(e,16,j6)}var q6=ph("plugin");function Wo(e){return q6.get(e,"state",{},!0)}function bh(e,t){for(var r=[],n=null,i=e[In](),o;i;){var a=i[js]();if(a){n&&ze(n[La])&&ze(a[sn])&&n[La](a);var s=!1;ze(a[Tn])?s=a[Tn]():(o=Wo(a),s=o[Tn]),s||r[Fe](a),n=a,i=i[In]()}}ne(r,function(u){var l=e[Tt]();u[hi](e.getCfg(),l,t,e[In]()),o=Wo(u),!u[Tt]&&!o[Tt]&&(o[Tt]=l),o[Tn]=!0,delete o[bn]})}function Ih(e){return e.sort(function(t,r){var n=0;if(r){var i=ze(r[sn]);ze(t[sn])?n=i?t[Yn]-r[Yn]:1:i&&(n=-1)}else n=t?1:-1;return n})}function VL(e){var t={};return{getName:function(){return t[an]},setName:function(r){e&&e.setName(r),t[an]=r},getTraceId:function(){return t[Gv]},setTraceId:function(r){e&&e.setTraceId(r),BT(r)&&(t[Gv]=r)},getSpanId:function(){return t[Vv]},setSpanId:function(r){e&&e.setSpanId(r),GT(r)&&(t[Vv]=r)},getTraceFlags:function(){return t[Hv]},setTraceFlags:function(r){e&&e.setTraceFlags(r),t[Hv]=r}}}var Y6="TelemetryPluginChain",HL="_hasRun",zL="_getTelCtx",jL=0;function W6(e,t,r){for(;e;){if(e[js]()===r)return e;e=e[In]()}return oo([r],t[Zi]||{},t)}function VT(e,t,r,n){var i=null,o=[];n!==null&&(i=n?W6(e,r,n):e);var a={_next:u,ctx:{core:function(){return r},diagLog:function(){return fh(r,t)},getCfg:function(){return t},getExtCfg:l,getConfig:c,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:s}};function s(d,p){for(var v=[],h=2;h<arguments.length;h++)v[h-2]=arguments[h];d&&o[Fe]({func:d,self:Je(p)?a.ctx:p,args:v})}function u(){var d=i;if(i=d?d[In]():null,!d){var p=o;p&&p[_e]>0&&(ne(p,function(v){try{v.func[ur](v.self,v.args)}catch(h){wt(r[Sr],2,73,"Unexpected Exception during onComplete - "+Mt(h))}}),o=[])}return d}function l(d,p,v){p===void 0&&(p={}),v===void 0&&(v=0);var h;if(t){var g=t[kl];g&&d&&(h=g[d])}if(!h)h=p;else if(Wn(p)&&v!==0){var m=zl(!0,p,h);t&&v===2&&Lt(p,function(y){if(Oe(m[y])){var S=t[y];Oe(S)||(m[y]=S)}}),h=m}return h}function c(d,p,v){v===void 0&&(v=!1);var h,g=l(d,null);return g&&!Oe(g[p])?h=g[p]:t&&!Oe(t[p])&&(h=t[p]),Oe(h)?v:h}function f(d){for(var p;p=a._next();){var v=p[js]();v&&d(v)}}return a}function Ai(e,t,r,n){var i=VT(e,t,r,n),o=i.ctx;function a(u){var l=i._next();return l&&l[sn](u,o),!l}function s(u,l){return u===void 0&&(u=null),Pe(u)&&(u=oo(u,t,r,l)),Ai(u||o[In](),t,r,l)}return o[at]=a,o[Vo]=s,o}function tc(e,t,r){var n=t[Zi]||{},i=VT(e,n,t,r),o=i.ctx;function a(u){var l=i._next();return l&&l.unload(o,u),!l}function s(u,l){return u===void 0&&(u=null),Pe(u)&&(u=oo(u,n,t,l)),tc(u||o[In](),t,l)}return o[at]=a,o[Vo]=s,o}function Qd(e,t,r){var n=t[Zi]||{},i=VT(e,n,t,r),o=i.ctx;function a(u){return o.iterate(function(l){ze(l[qs])&&l[qs](o,u)})}function s(u,l){return u===void 0&&(u=null),Pe(u)&&(u=oo(u,n,t,l)),Qd(u||o[In](),t,l)}return o[at]=a,o[Vo]=s,o}function oo(e,t,r,n){var i=null,o=!n;if(Pe(e)&&e[_e]>0){var a=null;ne(e,function(s){if(!o&&n===s&&(o=!0),o&&s&&ze(s[sn])){var u=K6(s,t,r);i||(i=u),a&&a._setNext(u),a=u}})}return n&&!i?oo([n],t,r):i}function K6(e,t,r){var n=null,i=ze(e[sn]),o=ze(e[La]),a;e?a=e[yi]+"-"+e[Yn]+"-"+jL++:a="Unknown-0-"+jL++;var s={getPlugin:function(){return e},getNext:function(){return n},processTelemetry:c,unload:f,update:d,_id:a,_setNext:function(p){n=p}};function u(){var p;return e&&ze(e[zL])&&(p=e[zL]()),p||(p=Ai(s,t,r)),p}function l(p,v,h,g,m){var y=!1,S=e?e[yi]:Y6,E=p[HL];return E||(E=p[HL]={}),p.setNext(n),e&&Bt(p[Tt](),function(){return S+":"+h},function(){E[a]=!0;try{var D=n?n._id:xe;D&&(E[D]=!1),y=v(p)}catch(x){var P=n?E[n._id]:!0;P&&(y=!0),(!n||!P)&&wt(p[qn](),1,73,"Plugin ["+S+"] failed during "+h+" - "+Mt(x)+", run flags: "+Mt(E))}},g,m),y}function c(p,v){v=v||u();function h(g){if(!e||!i)return!1;var m=Wo(e);return m[bn]||m[Td]?!1:(o&&e[La](n),e[sn](p,g),!0)}l(v,h,"processTelemetry",function(){return{item:p}},!p.sync)||v[at](p)}function f(p,v){function h(){var g=!1;if(e){var m=Wo(e),y=e[Tt]||m[Tt];e&&(!y||y===p.core())&&!m[bn]&&(m[Tt]=null,m[bn]=!0,m[Tn]=!1,e[bn]&&e[bn](p,v)===!0&&(g=!0))}return g}l(p,h,"unload",function(){},v[Si])||p[at](v)}function d(p,v){function h(){var g=!1;if(e){var m=Wo(e),y=e[Tt]||m[Tt];e&&(!y||y===p.core())&&!m[bn]&&e[qs]&&e[qs](p,v)===!0&&(g=!0)}return g}l(p,h,"update",function(){},!1)||p[at](v)}return Ii(s)}var Jd=500,Q6="Channel has invalid priority - ";function qL(e,t,r){t&&Pe(t)&&t[_e]>0&&(t=t.sort(function(n,i){return n[Yn]-i[Yn]}),ne(t,function(n){n[Yn]<Jd&&cr(Q6+n[yi])}),e[Fe]({queue:Ii(t),chain:oo(t,r[Zi],r)}))}function YL(e,t){function r(){return Ai(null,t[Zi],t,null)}function n(l,c,f,d){var p=l?l[_e]+1:1;function v(){p--,p===0&&(d&&d(),d=null)}p>0&&ne(l,function(h){if(h&&h.queue[_e]>0){var g=h.chain,m=c[Vo](g);m[zs](v),f(m)}else p--}),v()}function i(l,c){var f=c||{reason:0};return n(e,l,function(d){d[at](f)},function(){l[at](f)}),!0}function o(l,c){var f=c||{reason:0,isAsync:!1};return n(e,l,function(d){d[at](f)},function(){l[at](f),s=!1}),!0}function a(l){var c=null;return e&&e[_e]>0&&ne(e,function(f){if(f&&f.queue[_e]>0&&(ne(f.queue,function(d){if(d[yi]===l)return c=d,-1}),c))return-1}),c}var s=!1,u={identifier:"ChannelControllerPlugin",priority:Jd,initialize:function(l,c,f,d){s=!0,ne(e,function(p){p&&p.queue[_e]>0&&bh(Ai(p.chain,l,c),f)})},isInitialized:function(){return s},processTelemetry:function(l,c){n(e,c||r(),function(f){f[at](l)},function(){c[at](l)})},update:i,pause:function(){n(e,r(),function(l){l.iterate(function(c){c.pause&&c.pause()})},null)},resume:function(){n(e,r(),function(l){l.iterate(function(c){c.resume&&c.resume()})},null)},teardown:o,getChannel:a,flush:function(l,c,f,d){var p=1,v=!1,h=null;d=d||5e3;function g(){p--,v&&p===0&&(h&&(clearTimeout(h),h=null),c&&c(v),c=null)}return n(e,r(),function(m){m.iterate(function(y){if(y[Fl]){p++;var S=!1;y[Fl](l,function(){S=!0,g()},f)||S||(l&&h==null?h=setTimeout(function(){h=null,g()},d):g())}})},function(){v=!0,g()}),!0},_setQueue:function(l){e=l}};return u}function WL(e,t,r){var n=[];if(e&&ne(e,function(o){return qL(n,o,r)}),t){var i=[];ne(t,function(o){o[Yn]>Jd&&i[Fe](o)}),qL(n,i,r)}return n}function Xd(){var e=[];function t(n){n&&e[Fe](n)}function r(n,i){ne(e,function(o){try{o(n,i)}catch(a){wt(n[qn](),2,73,"Unexpected error calling unload handler - "+Mt(a))}}),e=[]}return{add:t,run:r}}var za="getPlugin",rc=function(){function e(){var t=this,r,n,i,o,a;l(),Xe(e,t,function(c){c[hi]=function(f,d,p,v){u(f,d,v),r=!0},c[bn]=function(f,d){var p,v=c[Tt];if(!v||f&&v!==f[Tt]())return;var h,g=!1,m=f||tc(null,v,i&&i[za]?i[za]():i),y=d||(p={reason:0},p[Si]=!1,p);function S(){if(!g){g=!0,o.run(m,d);var E=a;a=[],ne(E,function(D){D.rm()}),h===!0&&m[at](y),l()}}return!c[Ll]||c[Ll](m,y,S)!==!0?S():h=!0,h},c[qs]=function(f,d){var p=c[Tt];if(!p||f&&p!==f[Tt]())return;var v,h=!1,g=f||Qd(null,p,i&&i[za]?i[za]():i),m=d||{reason:0};function y(){h||(h=!0,u(g.getCfg(),g.core(),g[In]()))}return!c._doUpdate||c._doUpdate(g,m,y)!==!0?y():v=!0,v},c._addHook=function(f){f&&(Pe(f)?a=a.concat(f):a[Fe](f))},$s(c,"_addUnloadCb",function(){return o},"add")}),t[qn]=function(c){return s(c)[qn]()},t[Tn]=function(){return r},t.setInitialized=function(c){r=c},t[La]=function(c){i=c},t[at]=function(c,f){f?f[at](c):i&&ze(i[sn])&&i[sn](c,null)},t._getTelCtx=s;function s(c){c===void 0&&(c=null);var f=c;if(!f){var d=n||Ai(null,{},t[Tt]);i&&i[za]?f=d[Vo](null,i[za]):f=d[Vo](null,i)}return f}function u(c,f,d){c&&xn(c,kl,[],null,Oe),!d&&f&&(d=f[Uv]()[In]());var p=i;i&&i[za]&&(p=i[za]()),t[Tt]=f,n=Ai(d,c,f,p)}function l(){r=!1,t[Tt]=null,n=null,i=null,a=[],o=Xd()}}return e.__ieDyn=1,e}();var KL=function(e){Bo(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),Xe(t,r,function(a,s){a.addTelemetryInitializer=function(u){var l={id:n++,fn:u};i[Fe](l);var c={remove:function(){ne(i,function(f,d){if(f.id===l.id)return i[Go](d,1),-1})}};return c},a[sn]=function(u,l){for(var c=!1,f=i[_e],d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn[Ul](null,[u])===!1){c=!0;break}}catch(v){wt(l[qn](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Hl(v),{exception:Mt(v)},!0)}}c||a[at](u,l)},a[Ll]=function(){o()}});function o(){n=0,i=[]}return r}return t.__ieDyn=1,t}(rc);var $L="Plugins must provide initialize method",QL="_notificationManager",JL="SDK is still unloading...",J6="SDK is not initialized",X6={loggingLevelConsole:1};function $6(e,t){return new dh(t)}function Z6(e,t,r){var n,i=[],o={};return ne(r,function(a){(Oe(a)||Oe(a[hi]))&&cr($L);var s=a[Yn],u=a[yi];a&&s&&(Oe(o[s])?o[s]=u:Va(e,"Two extensions have same priority #"+s+" - "+o[s]+", "+u)),(!s||s<t)&&i[Fe](a)}),n={all:r},n[Tt]=i,n}function XL(e,t){var r=!1;return ne(t,function(n){if(n===e)return r=!0,-1}),r}function ez(){var e;return Fa((e={},e[Vs]=function(t){},e[Hs]=function(t){},e[Ml]=function(t){},e[Ua]=function(t,r){},e[Bl]=function(t,r){},e))}var HT=function(){function e(){var t,r,n,i,o,a,s,u,l,c,f,d,p,v,h,g,m,y,S,E,D=0,P=!1;Xe(e,this,function(x){G(),x[Tn]=function(){return r},x[hi]=function(V,K,te,$){v&&cr(JL),x[Tn]()&&cr("Core should not be initialized more than once"),t=V||{},x[Zi]=t,Oe(V[Lv])&&cr("Please provide instrumentation key"),i=$,x[QL]=$,ir(),Et(),Yt(),te&&(x[Sr]=te);var ge=Xs(t,kR,[]);l=[],l[Fe].apply(l,Rv(Rv([],K,!1),ge,!1)),d=Xs(t,Q0,[]),ue(null),(!p||p[_e]===0)&&cr("No "+Q0+" available"),r=!0,x.releaseQueue()},x.getTransmissionControls=function(){var V=[];return p&&ne(p,function(K){V[Fe](K.queue)}),Ii(V)},x.track=function(V){V.iKey=V.iKey||t[Lv],V[Gs]=V[Gs]||Ba(new Date),V.ver=V.ver||"4.0",!v&&x[Tn]()?se()[at](V):n[Fe](V)},x[Uv]=se,x[yd]=function(){return i||(i=ez(),x[QL]=i),i},x[Vs]=function(V){i&&i[Vs](V)},x[Hs]=function(V){i&&i[Hs](V)},x.getCookieMgr=function(){return s||(s=NT(t,x[Sr])),s},x.setCookieMgr=function(V){s=V},x[Js]=function(){if(!o&&!a&&An(t.enablePerfMgr)){var V=An(t[J0]);ze(V)&&(a=V(x,x[yd]()))}return o||a||TT()},x.setPerfMgr=function(V){o=V},x.eventCnt=function(){return n[_e]},x.releaseQueue=function(){if(r&&n[_e]>0){var V=n;n=[],ne(V,function(K){se()[at](K)})}},x.pollInternalLogs=function(V){return g=V||null,P=!1,D&&(clearInterval(D),D=null),q(!0)};function q(V){if(!D&&!P){var K=V||x[Sr]&&x[Sr].queue[_e]>0;if(K){var te=An(t.diagnosticLogInterval);(!te||!(te>0))&&(te=1e4),D=setInterval(function(){clearInterval(D),D=0,le()},te)}}return D}x[q0]=function(){P=!0,D&&(clearInterval(D),D=0,le())},Nd(x,function(){return h},["addTelemetryInitializer"]),x.unload=function(V,K,te){var $;V===void 0&&(V=!0),r||cr(J6),v&&cr(JL);var ge=($={reason:50},$[Si]=V,$.flushComplete=!1,$),ke=tc(Te(),x);ke[zs](function(){G(),K&&K(ge)},x);function We(tt){ge.flushComplete=tt,v=!0,y.run(ke,ge),x[q0](),ke[at](ge)}le(),$e(V,We,6,te)||We(!1)},x[js]=Se,x.addPlugin=function(V,K,te,$){if(!V){$&&$(!1),Ae($L);return}var ge=Se(V[yi]);if(ge&&!K){$&&$(!1),Ae("Plugin ["+V[yi]+"] is already loaded!");return}var ke={reason:16};function We(ft){l[Fe](V),ke.added=[V],ue(ke),$&&$(!0)}if(ge){var tt=[ge.plugin],ct={reason:2,isAsync:!!te};fe(tt,ct,function(ft){ft?(ke.removed=tt,ke.reason|=32,We(!0)):$&&$(!1)})}else We(!1)},x.evtNamespace=function(){return m},x[Fl]=$e,x.getTraceCtx=function(V){return E||(E=VL()),E},x.setTraceCtx=function(V){E=V||null},$s(x,"addUnloadCb",function(){return y},"add");function G(){r=!1,t=zl(!0,{},X6),x[Zi]=t,x[Sr]=new no(t),x[Sd]=[],h=new KL,n=[],i=null,o=null,a=null,s=null,u=null,c=null,l=[],f=null,d=null,p=null,v=!1,g=null,m=io("AIBaseCore",!0),y=Xd(),E=null}function se(){var V=Ai(Te(),t,x);return V[zs](q),V}function ue(V){var K=Z6(x[Sr],Jd,l);c=K[Tt],u=null;var te=K.all;if(p=Ii(WL(d,te,x)),f){var $=Pr(te,f);$!==-1&&te[Go]($,1),$=Pr(c,f),$!==-1&&c[Go]($,1),f._setQueue(p)}else f=YL(p,x);te[Fe](f),c[Fe](f),x[Sd]=Ih(te),f[hi](t,x,te);var ge=se();bh(ge,te),x[Sd]=Ii(Ih(c||[])).slice(),V&&et(V)}function Se(V){var K,te=null,$=null;return ne(x[Sd],function(ge){if(ge[yi]===V&&ge!==f&&ge!==h)return $=ge,-1}),!$&&f&&($=f.getChannel(V)),$&&(te=(K={plugin:$},K[Cd]=function(ge){Wo($)[Td]=!ge},K.isEnabled=function(){var ge=Wo($);return!ge[bn]&&!ge[Td]},K.remove=function(ge,ke){var We;ge===void 0&&(ge=!0);var tt=[$],ct=(We={reason:1},We[Si]=ge,We);fe(tt,ct,function(ft){ft&&ue({reason:32,removed:tt}),ke&&ke(ft)})},K)),te}function Te(){if(!u){var V=(c||[]).slice();Pr(V,h)===-1&&V[Fe](h),u=oo(Ih(V),t,x)}return u}function fe(V,K,te){if(V&&V[_e]>0){var $=oo(V,t,x),ge=tc($,x);ge[zs](function(){var ke=!1,We=[];ne(l,function(ct,ft){XL(ct,V)?ke=!0:We[Fe](ct)}),l=We;var tt=[];d&&(ne(d,function(ct,ft){var Wt=[];ne(ct,function(Pt){XL(Pt,V)?ke=!0:Wt[Fe](Pt)}),tt[Fe](Wt)}),d=tt),te&&te(ke),q()}),ge[at](K)}else te(!1)}function le(){if(x[Sr]&&x[Sr].queue){var V=x[Sr].queue.slice(0);x[Sr].queue[_e]=0,ne(V,function(K){var te,$=(te={},te[an]=g||"InternalMessageId: "+K[Rl],te.iKey=An(t[Lv]),te.time=Ba(new Date),te.baseType=Xl.dataType,te.baseData={message:K[Ra]},te);x.track($)})}}function $e(V,K,te,$){return f?f[Fl](V,K,te||6,$):(K&&K(!1),!0)}function ir(){var V=An(t.disableDbgExt);V===!0&&S&&(i[Hs](S),S=null),i&&!S&&V!==!0&&(S=nL(t),i[Vs](S))}function Et(){var V=An(t.enablePerfMgr);!V&&a&&(a=null),V&&Xs(t,J0,$6)}function Yt(){var V=Xs(t,kl,{});V.NotificationManager=i}function et(V){var K=Qd(Te(),x);K[zs](q),(!x._updateHook||x._updateHook(K,V)!==!0)&&K[at](V)}function Ae(V){var K=x[Sr];K?(wt(K,2,73,V),q()):cr(V)}})}return e.__ieDyn=1,e}();function xh(e,t,r,n){ne(e,function(i){if(i&&i[t])if(r)setTimeout(function(){return n(i)},0);else try{n(i)}catch(o){}})}var zT=function(){function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;Xe(e,this,function(n){n[Vs]=function(i){n.listeners[Fe](i)},n[Hs]=function(i){for(var o=Pr(n[Ks],i);o>-1;)n.listeners[Go](o,1),o=Pr(n[Ks],i)},n[Ml]=function(i){xh(n[Ks],Ml,!0,function(o){o[Ml](i)})},n[Ua]=function(i,o){xh(n[Ks],Ua,!0,function(a){a[Ua](i,o)})},n[Bl]=function(i,o){xh(n[Ks],Bl,o,function(a){a[Bl](i,o)})},n[ka]=function(i){i&&(r||!i[Ed]())&&xh(n[Ks],ka,!1,function(o){i[Si]?setTimeout(function(){return o[ka](i)},0):o[ka](i)})}})}return e.__ieDyn=1,e}();var Ah=function(e){Bo(t,e);function t(){var r=e.call(this)||this;return Xe(t,r,function(n,i){n[hi]=function(s,u,l,c){i[hi](s,u,l||new no(s),c||new zT(s))},n.track=function(s){Bt(n[Js](),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),cr("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)};function o(s){Oe(s[an])&&(a(s),cr("telemetry name required"))}function a(s){var u=n[yd]();u&&u[Ua]([s],2)}}),r}return t.__ieDyn=1,t}(HT);var nc="",ZL="https://browser.events.data.microsoft.com/OneCollector/1.0/",pz="pluginVersionString",Fie=pz+"Arr",jT="version",wh="properties";var Ko,t1="3.2.18",$d="1DS-Web-JS-"+t1,mz="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",e1="withCredentials",vz="timeout",hz=(Ko={},Ko[0]=0,Ko[2]=6,Ko[1]=1,Ko[3]=7,Ko[4098]=6,Ko[4097]=1,Ko[4099]=7,Ko);var yz=!!xi(),Sz=!!qo();function wn(e){return!(e===nc||Oe(e))}function qT(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return nc}function YT(e){return!!(e&&Ti(e)&&e>=1&&e<=4)}function WT(e,t,r){if(!t&&!wn(t)||typeof e!="string")return null;var n=typeof t;if(n==="string"||n==="number"||n==="boolean"||Pe(t))t={value:t};else if(n==="object"&&!En.call(t,"value"))t={value:r?JSON.stringify(t):t};else if(Oe(t.value)||t.value===nc||!un(t.value)&&!Ti(t.value)&&!Ma(t.value)&&!Pe(t.value))return null;if(Pe(t.value)&&!n1(t.value))return null;if(!Oe(t.kind)){if(Pe(t.value)||!r1(t.kind))return null;t.value=t.value.toString()}return t}function KT(e,t,r){var n=-1;if(!Je(e))if(t>0&&(t===32?n=8192:t<=13&&(n=t<<5)),_z(r))n===-1&&(n=0),n|=r;else{var i=hz[Nh(e)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function ic(e,t,r,n,i){var o={},a=!1,s=0,u=arguments.length,l=Object[Xt],c=arguments;for(l.toString.call(c[0])==="[object Boolean]"&&(a=c[0],s++);s<u;s++){var e=c[s];Lt(e,function(d,p){a&&p&&Wn(p)?Pe(p)?(o[d]=o[d]||[],ne(p,function(v,h){v&&Wn(v)?o[d][h]=ic(!0,o[d][h],v):o[d][h]=v})):o[d]=ic(!0,o[d],p):o[d]=p})}return o}var Nn=Eh;function r1(e){return e===0||e>0&&e<=13||e===32}function _z(e){return e>=0&&e<=9}function n1(e){return e.length>0}function Zd(e,t){var r=e;r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=Nn()}function Nh(e){var t=0;if(e!=null){var r=typeof e;r==="string"?t=1:r==="number"?t=2:r==="boolean"?t=3:r===hr&&(t=4,Pe(e)?(t=4096,e.length>0&&(t|=Nh(e[0]))):En.call(e,"value")&&(t=8192|Nh(e.value)))}return t}function QT(){return!!kt("chrome")}function JT(e,t,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function a(u,l,c){try{u[l]=c}catch(f){}}var s=new XMLHttpRequest;return n&&a(s,mz,n),r&&a(s,e1,r),s.open(e,t,!i),r&&a(s,e1,r),!i&&o&&a(s,vz,o),s}var Cz=function(e){Bo(t,e);function t(){var r=e.call(this)||this;return r.pluginVersionStringArr=[],Xe(t,r,function(n,i){(!n.logger||!n.logger.queue)&&(n.logger=new no({loggingLevelConsole:1})),n.initialize=function(o,a,s,u){Bt(n,function(){return"AppInsightsCore.initialize"},function(){var l=n.pluginVersionStringArr;if(o){o.endpointUrl||(o.endpointUrl=ZL);var c=o.propertyStorageOverride;c&&(!c.getProperty||!c.setProperty)&&cr("Invalid property storage override passed."),o.channels&&ne(o.channels,function(p){p&&ne(p,function(v){if(v.identifier&&v.version){var h=v.identifier+"="+v.version;l.push(h)}})})}n.getWParam=function(){return typeof document<"u"||o.enableWParam?0:-1},a&&ne(a,function(p){if(p&&p.identifier&&p.version){var v=p.identifier+"="+p.version;l.push(v)}}),n.pluginVersionString=l.join(";"),n.pluginVersionStringArr=l;try{i.initialize(o,a,s,u),n.pollInternalLogs("InternalLog")}catch(p){var f=n.logger,d=Mt(p);d.indexOf("channels")!==-1&&(d+="\n - Channels must be provided through config.channels only!"),wt(f,1,514,"SDK Initialization Failed - no telemetry will be sent: "+d)}},function(){return{config:o,extensions:a,logger:s,notificationManager:u}})},n.track=function(o){Bt(n,function(){return"AppInsightsCore.track"},function(){var a=o;if(a){a.timings=a.timings||{},a.timings.trackStart=Nn(),YT(a.latency)||(a.latency=1);var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=$d;var u=a.baseData=a.baseData||{};u[wh]=u[wh]||{};var l=u[wh];l[jT]=l[jT]||n.pluginVersionString||nc}i.track(a)},function(){return{item:o}},!o.sync)}}),r}return t.__ieDyn=1,t}(Ah),XT=Cz;var i1="Data.",o1="zC.",Ez="Release.AudienceGroup";var Tz="App.Name",bz="App.Platform",Iz="App.Version",a1="User.PrimaryIdentityHash",Oh="User.PrimaryIdentitySpace",ep="User.TenantId",Dh="User.IsAnonymous",Ph="User.IsSignedIn",xz="Session.Id",u1="f998cc5ba4d448d6a1e8e913ff18be94-dd122e0a-fcf8-4dc5-9dbb-6afac5325183-7405",l1="b22a201c3f1d41d28ccc399ba6cc9ca2-1972c77f-1f79-4283-a0f9-b4ddc4646f55-7121",$T=void 0;function Fh(e,t,r,n){var i=!0;if(t)for(var o=function(c){var f=c.classification,d=c.dataType,p=c.name;if(f&&!(f===4||f===1||n===2&&f===32||n===3&&f===2048))return i=!1,"break";if(n===3&&r&&d!==3&&d!==1&&d!==2&&p!=="OTelJS.Version"&&p!=="OTelJS.Sink")return ot(0,1,function(){return"DNM: Invalid field type "+p}),i=!1,"break";var v=void 0;r?p.substr(0,3)===o1?v=o1+i1+p.substr(3):v=i1+p:v=p;var h=void 0;switch(d){case 3:h=6;break;case 2:h=4;break;case 4:h=8;break;case 0:return e[v]=typeof c.value=="string"?c.value.substr(0,25e3):c.value,"continue";case 1:default:return e[v]=c.value,"continue"}var g={value:c.value,propertyType:h};e[v]=g},a=0,s=t;a<s.length;a++){var u=s[a],l=o(u);if(l==="break")break}return i}function ZT(e,t){try{return e()}catch(r){return Ov(1,"1DS Sink",r),t}}function c1(e,t){for(var r=function(o){var a=t[o];if(!a.processEvent(e))return ot(2,1,function(){return"".concat(e.eventName," suppressed by ").concat(a.name)}),{value:!1}},n=0;n<t.length;n++){var i=r(n);if(typeof i=="object")return i.value}return!0}function s1(e){ot(0,1,function(){return"Invalid "+e})}function oc(e){return un(e)&&e!==""}function f1(e,t){return Object.values(t).includes(e)}function Az(e){return f1(e,bv)}function wz(e){return f1(e,Iv)}function Nz(e){return["MSACID","MSAPUID","OrgIdCID","OrgIdPUID","UserObjectId","Other"].includes(e)}function Oz(e){return!e||e==="Other"}function eb(e,t){var r=!0;function n(o,a){a(e[o])||(s1(o),r=!1)}function i(o){var a=t?"":"i",s=new RegExp("^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$",a);return s.test(o)}return n(Tz,oc),n(bz,t?Az:oc),n(Iz,oc),n(xz,i),t?(n(Ez,wz),n(Ph,Ma),e[Ph]?(n(a1,oc),n(Oh,Nz),["OrgIdCID","OrgIdPUID","UserObjectId"].includes(e[Oh])?n(ep,i):n(ep,Oe)):(n(Oh,Oz),n(ep,Oe))):!e[Dh]&&e[Ph]!==!1&&(n(a1,oc),n(Oh,oc),e[ep]&&n(ep,i)),!Oe(e[Dh])&&e[Ph]===e[Dh]&&(s1(Dh),r=!1),r}function d1(e){return e.timestamp?new Date(e.timestamp):new Date}var Dz=2;var p1=function(){function e(t,r){var n=this;this.eventsProcessed=0,this.eventsSent=0,this.eventsDiscarded=0;var i=[],o=!1,a=!0,s={name:"DiagnosticLevel",processEvent:function(h){var g=h.eventFlags.diagnosticLevel;return o||g===10||g===110||g===120}},u={},l=Kd();this.init=function(h){return eb(u,!1)},this.begin=function(){return a=a&&eb(u,!0),a},this.getOneDSTelemetryEvent=function(h){return f(h,{eventType:1})},this.getOneDSCustomerContent=function(h){var g=h.telemetryProperties.customerContentVersion;if(g&&Math.floor(g)<=Dz&&h.telemetryProperties.customerContentType===1)return f(h,{eventType:2})};var c=function(h,g){if(g===2)return l1;if(!h.telemetryProperties||g===1&&!h.telemetryProperties.ariaTenantToken){ot(0,1,function(){return"Missing Aria Token"});return}if(g===1)return h.telemetryProperties.ariaTenantToken},f=function(h,g){if(a){var m=ko(h);if(c1(m,i)){var y=d1(m).toISOString(),S={"Event.Name":m.eventName,"Event.Source":"OTelJS","Event.Time":{value:y,propertyType:9}};n.eventsProcessed++,S["Event.Sequence"]={value:n.eventsProcessed,propertyType:4},S["Event.Id"]=l+"."+n.eventsProcessed;for(var E in u)S[E]=u[E];if(!Fh(S,m.dataFields,!0,g.eventType)){ot(0,1,function(){return"Dropping Event: "+m.eventName});return}var D="custom";m.eventContract&&(m.eventContract.name&&(S["Event.Contract"]=m.eventContract.name,D+="."+m.eventContract.name.toLowerCase().replace(/\./g,"_")),Fh(S,m.eventContract.dataFields,!1,g.eventType));var P=c(m,g.eventType);if(!P)return;var x={iKey:P,name:m.eventName,data:S,time:y,baseType:D,ext:{sdk:{seq:n.eventsProcessed}}};return x}}};this.addPreprocessor=function(h){i.push(h)},this.getOneDSPersistentDataFields=function(){return u},this.getPreprocessors=function(){return i};var d=function(h){Fh(u,h,!1,1)};this.addPersistentDataFields=d,this.setOptionalEventsEnabled=function(h){o=h},this.setFullEventsEnabled=this.setOptionalEventsEnabled,r.enableOptionalEvents&&(o=!0),d(t);var p=r.coreFields;if(p){d(Av.getFields(p.app)),d(xv.getFields(p.user)),d(wv.getFields(p.session));var v=p.release;v&&d(CR.getFields(v))}this.addPreprocessor(s)}return e}();var tp="REAL_TIME",g1="NEAR_REAL_TIME",m1="BEST_EFFORT";var wi="",Rh="POST",v1="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Lh="drop",h1="send",tb="requeue",y1="rspFail",S1="oth",_1="no-cache, no-store",rb="application/x-json-stream",nb="cache-control",Uh="content-type",C1="kill-tokens",ib="kill-duration",E1="kill-duration-seconds",ob="time-delta-millis",kh="client-version",ab="client-id",Mh="time-delta-to-apply-millis",Bh="upload-time",Gh="apikey",rp="AuthMsaDeviceTicket",sb="AuthXToken";var T1="NoResponseBody",ac="msfpc",ub="trace",Vh="user";function I1(e){var t=(e.ext||{}).intweb;return t&&wn(t[ac])?t[ac]:null}function b1(e){for(var t=null,r=0;t===null&&r<e.length;r++)t=I1(e[r]);return t}var sc=function(){function e(t,r){var n=r?[].concat(r):[],i=this,o=b1(n);i.iKey=function(){return t},i.Msfpc=function(){return o||wi},i.count=function(){return n.length},i.events=function(){return n},i.addEvent=function(a){return a?(n.push(a),o||(o=I1(a)),!0):!1},i.split=function(a,s){var u;if(a<n.length){var l=n.length-a;Oe(s)||(l=s<l?s:l),u=n.splice(a,l),o=b1(n)}return new e(t,u)}}return e.create=function(t,r){return new e(t,r)},e}();var Pz=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;Xe(e,this,function(a){a.allowRequestSending=function(){return t},a.firstRequestSent=function(){n&&(n=!1,o||(t=!1))},a.shouldAddClockSkewHeaders=function(){return r},a.getClockSkewHeaderValue=function(){return i},a.setClockSkew=function(s){o||(s?(i=s,r=!0,o=!0):r=!1,t=!0)}})}return e.__ieDyn=1,e}(),x1=Pz;var Fz=1e3,Rz=function(){function e(){var t={};function r(n){var i=[];return n&&ne(n,function(o){i.push(Ut(o))}),i}Xe(e,this,function(n){n.setKillSwitchTenants=function(i,o){if(i&&o)try{var a=r(i.split(","));if(o==="this-request-only")return a;for(var s=parseInt(o,10)*Fz,u=0;u<a.length;++u)t[a[u]]=_r()+s}catch(l){return[]}return[]},n.isTenantKilled=function(i){var o=t,a=Ut(i);return o[a]!==void 0&&o[a]>_r()?!0:(delete o[a],!1)}})}return e.__ieDyn=1,e}(),A1=Rz;var Lz=.8,Uz=1.2,w1=3e3,kz=6e5;function N1(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function Hh(e){var t=0,r=w1*Lz,n=w1*Uz,i=Math.floor(Math.random()*(n-r))+r;return t=Math.pow(2,e)*i,Math.min(t,kz)}var Mz=20,Bz=3984588,P1=65e3,F1=2e6,Gz=Math.min(F1,P1),O1="metadata",zh="f",Vz=/\./,R1=function(){function e(t,r,n,i){var o="data",a="baseData",s="ext",u=!!i,l=!0,c=r,f={};Xe(e,this,function(d){d.createPayload=function(h,g,m,y,S,E){return{apiKeys:[],payloadBlob:wi,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:g,isSync:m,isBeacon:y,sendType:E,sendReason:S}},d.appendPayload=function(h,g,m){var y=h&&g&&!h.overflow;return y&&Bt(t,function(){return"Serializer:appendPayload"},function(){for(var S=g.events(),E=h.payloadBlob,D=h.numEvents,P=!1,x=[],q=[],G=h.isBeacon,se=G?P1:Bz,ue=G?Gz:F1,Se=0,Te=0;Se<S.length;){var fe=S[Se];if(fe){if(D>=m){h.overflow=g.split(Se);break}var le=d.getEventBlob(fe);if(le&&le.length<=ue){var $e=le.length,ir=E.length;if(ir+$e>se){h.overflow=g.split(Se);break}E&&(E+="\n"),E+=le,Te++,Te>Mz&&(E.substr(0,1),Te=0),P=!0,D++}else le?x.push(fe):q.push(fe),S.splice(Se,1),Se--}Se++}if(x&&x.length>0&&h.sizeExceed.push(sc.create(g.iKey(),x)),q&&q.length>0&&h.failedEvts.push(sc.create(g.iKey(),q)),P){h.batches.push(g),h.payloadBlob=E,h.numEvents=D;var Et=g.iKey();Pr(h.apiKeys,Et)===-1&&h.apiKeys.push(Et)}},function(){return{payload:h,theBatch:{iKey:g.iKey(),evts:g.events()},max:m}}),y},d.getEventBlob=function(h){try{return Bt(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=h.name,g.time=h.time,g.ver=h.ver,g.iKey="o:"+qT(h.iKey);var m={},y=h[s];y&&(g[s]=m,Lt(y,function(D,P){var x=m[D]={};v(P,x,"ext."+D,!0,null,null,!0)}));var S=g[o]={};S.baseType=h.baseType;var E=S[a]={};return v(h.baseData,E,a,!1,[a],function(D,P,x){D1(m,D,P,x)},l),v(h.data,S,o,!1,[],function(D,P,x){D1(m,D,P,x)},l),JSON.stringify(g)},function(){return{item:h}})}catch(g){return null}};function p(h,g){var m=f[h];return m===void 0&&(h.length>=7&&(m=xd(h,"ext.metadata")||xd(h,"ext.web")),f[h]=m),m}function v(h,g,m,y,S,E,D){Lt(h,function(P,x){var q=null;if(x||wn(x)){var G=m,se=P,ue=S,Se=g;if(u&&!y&&Vz.test(P)){var Te=P.split("."),fe=Te.length;if(fe>1){ue&&(ue=ue.slice());for(var le=0;le<fe-1;le++){var $e=Te[le];Se=Se[$e]=Se[$e]||{},G+="."+$e,ue&&ue.push($e)}se=Te[fe-1]}}var ir=y&&p(G,se);if(!ir&&c&&c.handleField(G,se)?q=c.value(G,se,x,n):q=WT(se,x,n),q){var Et=q.value;if(Se[se]=Et,E&&E(ue,se,q),D&&typeof Et=="object"&&!Pe(Et)){var Yt=ue;Yt&&(Yt=Yt.slice(),Yt.push(se)),v(x,Et,G+"."+se,y,Yt,E,D)}}}})}})}return e.__ieDyn=1,e}();function D1(e,t,r,n){if(n&&e){var i=KT(n.value,n.kind,n.propertyType);if(i>-1){var o=e[O1];o||(o=e[O1]={f:{}});var a=o[zh];if(a||(a=o[zh]={}),t)for(var s=0;s<t.length;s++){var u=t[s];a[u]||(a[u]={f:{}});var l=a[u][zh];l||(l=a[u][zh]={}),a=l}a=a[r]={},Pe(n.value)?a.a={t:i}:a.t=i}}}var nu,lb="sendAttempt",L1="&"+T1+"=true",Hz=(nu={},nu[1]=tb,nu[100]=tb,nu[200]="sent",nu[8004]=Lh,nu[8003]=Lh,nu),cb={},fb={};function iu(e,t,r){cb[e]=t,r!==!1&&(fb[t]=e)}iu(rp,rp,!1);iu(kh,kh);iu(ab,"Client-Id");iu(Gh,Gh);iu(Mh,Mh);iu(Bh,Bh);iu(sb,sb);function U1(e){try{return e.responseText}catch(t){}return wi}function k1(e,t){var r=!1;if(e&&t){var n=bi(e);if(n&&n.length>0)for(var i=t.toLowerCase(),o=0;o<n.length;o++){var a=n[o];if(a&&Gl(t,a)&&a.toLowerCase()===i){r=!0;break}}}return r}function uc(e,t,r,n){t&&r&&r.length>0&&(n&&cb[t]?(e.hdrs[cb[t]]=r,e.useHdrs=!0):e.url+="&"+t+"="+r)}function M1(e,t){return t&&(Ti(t)?e=[t].concat(e):Pe(t)&&(e=t.concat(e))),e}var B1=function(){function e(t,r,n,i,o){this._responseHandlers=[];var a="?cors=true&"+Uh.toLowerCase()+"="+rb,s=new A1,u=!1,l=new x1,c=!1,f=0,d,p,v,h,g=!0,m=[],y={},S=[],E=null,D=!1,P,x=!1,q=!1,G,se,ue,Se,Te;Xe(e,this,function(fe){var le=!0;fe.initialize=function(_,b,w,L,B){var ie;B||(B={}),a=_+a,q=Je(B.avoidOptions)?!0:!B.avoidOptions,h=b,P=b.getCookieMgr(),D=!h.config.disableEventTimings;var pe=!!h.config.enableCompoundKey;d=w,p=d.diagLog();var I=B.valueSanitizer,F=B.stringifyObjects;Je(B.enableCompoundKey)||(pe=!!B.enableCompoundKey),G=B.xhrTimeout,se=!!B.disableXhrSync,ue=!!B.disableFetchKeepAlive,Te=B.addNoResponse!==!1,c=!Ql(),E=new R1(h,I,F,pe),Oe(B.useSendBeacon)||(c=!!B.useSendBeacon);var R=L,W=B.alwaysUseXhrOverride?L:null,Z=B.alwaysUseXhrOverride?L:null,ce=[3,2];if(!L){g=!1;var we=Wl();we&&we.protocol&&we.protocol.toLowerCase()==="file:"&&(le=!1);var Be=[];Ql()?(Be=[2,1],ce=[2,1,3]):Be=[1,2,3],Be=M1(Be,B.transports),L=$e(Be,!1),L||Va(p,"No available transport to send events"),R=$e(Be,!0)}W||(ce=M1(ce,B.unloadTransports),W=$e(ce,!0)),Se=!g&&(c&&Jl()||!ue&&Fd(!0)),v=(ie={},ie[0]=L,ie[1]=R||$e([1,2,3],!0),ie[2]=W||R||$e([1],!0),ie[3]=Z||$e([2,3],!0)||R||$e([1],!0),ie)};function $e(_,b){for(var w=0,L=null,B=0;L==null&&B<_.length;)w=_[B],w===1?Rd()?L=ir:Ld()&&(L=Yt):w===2&&Fd(b)&&(!b||b&&!ue)?L=Et:c&&w===3&&Jl()&&(L=Ae),B++;return L?{_transport:w,_isSync:b,sendPOST:L}:null}fe._getDbgPlgTargets=function(){return[v[0],s,E,v]};function ir(_,b,w){var L=new XDomainRequest;L.open(Rh,_.urlString),_.timeout&&(L.timeout=_.timeout),L.onload=function(){var B=U1(L);et(b,200,{},B),dt(B)},L.onerror=function(){et(b,400,{})},L.ontimeout=function(){et(b,500,{})},L.onprogress=function(){},w?L.send(_.data):o.set(function(){L.send(_.data)},0)}function Et(_,b,w){var L,B=_.urlString,ie=!1,pe=!1,I=(L={body:_.data,method:Rh},L[v1]=!0,L);w&&(I.keepalive=!0,_._sendReason===2&&(ie=!0,Te&&(B+=L1))),le&&(I.credentials="include"),_.headers&&bi(_.headers).length>0&&(I.headers=_.headers),fetch(B,I).then(function(F){var R={},W=wi,Z=F.headers;Z&&Z.forEach(function(ce,we){R[we]=ce}),F.body&&F.text().then(function(ce){W=ce}),pe||(pe=!0,et(b,F.status,R,W),dt(W))}).catch(function(F){pe||(pe=!0,et(b,0,{}))}),ie&&!pe&&(pe=!0,et(b,200,{})),!pe&&_.timeout>0&&o.set(function(){pe||(pe=!0,et(b,500,{}))},_.timeout)}function Yt(_,b,w){var L=_.urlString;function B(F,R,W){if(!F[W]&&R&&R.getResponseHeader){var Z=R.getResponseHeader(W);Z&&(F[W]=Ut(Z))}return F}function ie(F){var R={};return F.getAllResponseHeaders?R=Ln(F.getAllResponseHeaders()):(R=B(R,F,ob),R=B(R,F,ib),R=B(R,F,E1)),R}function pe(F,R){et(b,F.status,ie(F),R)}w&&_.disableXhrSync&&(w=!1);var I=JT(Rh,L,le,!0,w,_.timeout);Lt(_.headers,function(F,R){I.setRequestHeader(F,R)}),I.onload=function(){var F=U1(I);pe(I,F),dt(F)},I.onerror=function(){pe(I)},I.ontimeout=function(){pe(I)},I.send(_.data)}function et(_,b,w,L){try{_(b,w,L)}catch(B){wt(p,2,518,Mt(B))}}function Ae(_,b,w){var L=_,B=200,ie=L._thePayload,pe=_.urlString+(Te?L1:wi);try{var I=ro();if(!I.sendBeacon(pe,_.data))if(ie){var F=[];ne(ie.batches,function(R){if(F&&R&&R.count()>0){for(var W=R.events(),Z=0;Z<W.length;Z++)if(!I.sendBeacon(pe,E.getEventBlob(W[Z]))){F.push(R.split(Z));break}}else F.push(R.split(0))}),pr(F,8003,ie.sendType,!0)}else B=0}catch(R){Va(p,"Failed to send telemetry using sendBeacon API. Ex:"+Mt(R)),B=0}finally{et(b,B,{},wi)}}function V(_){return _===2||_===3}function K(_){return x&&V(_)&&(_=2),_}fe.addQueryStringParameter=function(_,b){for(var w=0;w<m.length;w++)if(m[w].name===_){m[w].value=b;return}m.push({name:_,value:b})},fe.addHeader=function(_,b){y[_]=b},fe.canSendRequest=function(){return te()&&l.allowRequestSending()},fe.sendQueuedRequests=function(_,b){Je(_)&&(_=0),x&&(_=K(_),b=2),ge(S,_,0)&&We($(),0,!1,_,b||0)},fe.isCompletelyIdle=function(){return!u&&f===0&&S.length===0},fe.setUnloading=function(_){x=_},fe.addBatch=function(_){if(_&&_.count()>0){if(s.isTenantKilled(_.iKey()))return!1;S.push(_)}return!0},fe.teardown=function(){S.length>0&&We($(),0,!0,2,2)},fe.pause=function(){u=!0},fe.resume=function(){u=!1,fe.sendQueuedRequests(0,4)},fe.sendSynchronousBatch=function(_,b,w){_&&_.count()>0&&(Oe(b)&&(b=1),x&&(b=K(b),w=2),We([_],0,!1,b,w||0))};function te(){return!u&&f<r}function $(){var _=S;return S=[],_}function ge(_,b,w){var L=!1;return _&&_.length>0&&!u&&v[b]&&E&&(L=b!==0||te()&&(w>0||l.allowRequestSending())),L}function ke(_){var b={};return _&&ne(_,function(w,L){b[L]={iKey:w.iKey(),evts:w.events()}}),b}function We(_,b,w,L,B){if(!(!_||_.length===0)){if(u){pr(_,1,L);return}L=K(L);try{var ie=_,pe=L!==0;Bt(h,function(){return"HttpManager:_sendBatches"},function(I){I&&(_=_.slice(0));for(var F=[],R=null,W=Nn(),Z=v[L]||(pe?v[1]:v[0]),ce=Z&&Z._transport,we=Se&&(x||V(L)||ce===3||Z._isSync&&ce===2);ge(_,L,b);){var Be=_.shift();Be&&Be.count()>0&&(s.isTenantKilled(Be.iKey())?F.push(Be):(R=R||E.createPayload(b,w,pe,we,B,L),E.appendPayload(R,Be,t)?R.overflow!==null&&(_=[R.overflow].concat(_),R.overflow=null,ft(R,W,Nn(),B),W=Nn(),R=null):(ft(R,W,Nn(),B),W=Nn(),_=[Be].concat(_),R=null)))}R&&ft(R,W,Nn(),B),_.length>0&&(S=_.concat(S)),pr(F,8004,L)},function(){return{batches:ke(ie),retryCount:b,isTeardown:w,isSynchronous:pe,sendReason:B,useSendBeacon:V(L),sendType:L}},!pe)}catch(I){wt(p,2,48,"Unexpected Exception sending batch: "+Mt(I))}}}function tt(_,b){var w={url:a,hdrs:{},useHdrs:!1};b?(w.hdrs=ic(w.hdrs,y),w.useHdrs=bi(w.hdrs).length>0):Lt(y,function(I,F){fb[I]?uc(w,fb[I],F,!1):(w.hdrs[I]=F,w.useHdrs=!0)}),uc(w,ab,"NO_AUTH",b),uc(w,kh,$d,b);var L=wi;ne(_.apiKeys,function(I){L.length>0&&(L+=","),L+=I}),uc(w,Gh,L,b),uc(w,Bh,_r().toString(),b);var B=ci(_);if(wn(B)&&(w.url+="&ext.intweb.msfpc="+B),l.shouldAddClockSkewHeaders()&&uc(w,Mh,l.getClockSkewHeaderValue(),b),h.getWParam){var ie=h.getWParam();ie>=0&&(w.url+="&w="+ie)}for(var pe=0;pe<m.length;pe++)w.url+="&"+m[pe].name+"="+m[pe].value;return w}function ct(_,b,w){_[b]=_[b]||{},_[b][d.identifier]=w}function ft(_,b,w,L){if(_&&_.payloadBlob&&_.payloadBlob.length>0){var B=!!fe.sendHook,ie=v[_.sendType];!V(_.sendType)&&_.isBeacon&&_.sendReason===2&&(ie=v[2]||v[3]||ie);var pe=q;(_.isBeacon||ie._transport===3)&&(pe=!1);var I=tt(_,pe);pe=pe||I.useHdrs;var F=Nn();Bt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var R=0;R<_.batches.length;R++)for(var W=_.batches[R],Z=W.events(),ce=0;ce<Z.length;ce++){var we=Z[ce];if(D){var Be=we.timings=we.timings||{};ct(Be,"sendEventStart",F),ct(Be,"serializationStart",b),ct(Be,"serializationCompleted",w)}we[lb]>0?we[lb]++:we[lb]=1}pr(_.batches,1e3+(L||0),_.sendType,!0);var Qe={data:_.payloadBlob,urlString:I.url,headers:I.hdrs,_thePayload:_,_sendReason:L,timeout:G,disableXhrSync:se,disableFetchKeepAlive:ue};pe&&(k1(Qe.headers,nb)||(Qe.headers[nb]=_1),k1(Qe.headers,Uh)||(Qe.headers[Uh]=rb));var hs=null;ie&&(hs=function(Co){l.firstRequestSent();var Mi=function(Eo,I_){Pt(Eo,I_,_,L)},Un=_.isTeardown||_.isSync;try{ie.sendPOST(Co,Mi,Un),fe.sendListener&&fe.sendListener(Qe,Co,Un,_.isBeacon)}catch(Eo){Va(p,"Unexpected exception sending payload. Ex:"+Mt(Eo)),et(Mi,0,{})}}),Bt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(hs)if(_.sendType===0&&f++,B&&!_.isBeacon&&ie._transport!==3){var Co={data:Qe.data,urlString:Qe.urlString,headers:ic({},Qe.headers),timeout:Qe.timeout,disableXhrSync:Qe.disableXhrSync,disableFetchKeepAlive:Qe.disableFetchKeepAlive},Mi=!1;Bt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{fe.sendHook(Co,function(Un){Mi=!0,!g&&!Un._thePayload&&(Un._thePayload=Un._thePayload||Qe._thePayload,Un._sendReason=Un._sendReason||Qe._sendReason),hs(Un)},_.isSync||_.isTeardown)}catch(Un){Mi||hs(Qe)}})}else hs(Qe)})},function(){return{thePayload:_,serializationStart:b,serializationCompleted:w,sendReason:L}},_.isSync)}_.sizeExceed&&_.sizeExceed.length>0&&pr(_.sizeExceed,8003,_.sendType),_.failedEvts&&_.failedEvts.length>0&&pr(_.failedEvts,8002,_.sendType)}function Wt(_,b){D&&ne(_,function(w){var L=w.timings=w.timings||{};ct(L,"sendEventCompleted",b)})}function Pt(_,b,w,L){var B=9e3,ie=null,pe=!1,I=!1;try{var F=!0;if(typeof _!==yr){if(b){l.setClockSkew(b[ob]);var R=b[ib]||b["kill-duration-seconds"];ne(s.setKillSwitchTenants(b[C1],R),function(Z){ne(w.batches,function(ce){if(ce.iKey()===Z){ie=ie||[];var we=ce.split(0);w.numEvents-=we.count(),ie.push(we)}})})}if(_==200||_==204){B=200;return}(!N1(_)||w.numEvents<=0)&&(F=!1),B=9e3+_%1e3}if(F){B=100;var W=w.retryCnt;w.sendType===0&&(W<n?(pe=!0,li(function(){w.sendType===0&&f--,We(w.batches,W+1,w.isTeardown,x?2:w.sendType,5)},x,Hh(W))):(I=!0,x&&(B=8001)))}}finally{pe||(l.setClockSkew(),M(w,B,L,I)),pr(ie,8004,w.sendType)}}function M(_,b,w,L){try{L&&d._backOffTransmission(),b===200&&(!L&&!_.isSync&&d._clearBackOff(),ki(_.batches)),pr(_.batches,b,_.sendType,!0)}finally{_.sendType===0&&(f--,w!==5&&fe.sendQueuedRequests(_.sendType,w))}}function ki(_){if(D){var b=Nn();ne(_,function(w){w&&w.count()>0&&Wt(w.events(),b)})}}function li(_,b,w){b?_():o.set(_,w)}function Ln(_){var b={};if(un(_)){var w=Ut(_).split(/[\r\n]+/);ne(w,function(L){if(L){var B=L.indexOf(": ");if(B!==-1){var ie=Ut(L.substring(0,B)).toLowerCase(),pe=Ut(L.substring(B+1));b[ie]=pe}else b[Ut(L)]=1}})}return b}function ci(_){for(var b=0;b<_.batches.length;b++){var w=_.batches[b].Msfpc();if(w)return encodeURIComponent(w)}return wi}function dt(_){var b=fe._responseHandlers;try{for(var w=0;w<b.length;w++)try{b[w](_)}catch(B){wt(p,1,519,"Response handler failed: "+B)}if(_){var L=JSON.parse(_);wn(L.webResult)&&wn(L.webResult[ac])&&P.set("MSFPC",L.webResult[ac],365*86400)}}catch(B){}}function pr(_,b,w,L){if(_&&_.length>0&&i){var B=i[U(b)];if(B){var ie=w!==0;Bt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){li(function(){try{B.call(i,_,b,ie,w)}catch(pe){wt(p,1,74,"send request notification failed: "+pe)}},L||ie,0)},function(){return{batches:ke(_),reason:b,isSync:ie,sendSync:L,sendType:w}},!ie)}}}function U(_){var b=Hz[_];return wn(b)||(b=S1,_>=9e3&&_<=9999?b=y1:_>=8e3&&_<=8999?b=Lh:_>=1e3&&_<=1999&&(b=h1)),b}})}return e.__ieDyn=1,e}();function zz(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout(e,t,r)}function jz(e){clearTimeout(e)}function np(e,t){return{set:e||zz,clear:t||jz}}var qz=.25,G1=500,Yz=20,V1=6,H1=2,Wz=4,z1=2,Kz=1,ou="eventsDiscarded",jh="overrideInstrumentationKey",j1="maxEventRetryAttempts",q1="maxUnloadEventRetryAttempts",Qz="addUnloadCb",Jz=function(e){Bo(t,e);function t(){var r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.18";var n,i=!1,o=[],a=null,s=!1,u=0,l=500,c=0,f=1e4,d={},p=tp,v=null,h=null,g=0,m=0,y,S,E={},D,P,x=-1,q,G=!0,se=!1,ue=V1,Se=H1,Te,fe;return Xe(t,r,function(le,$e){te(),le._getDbgPlgTargets=function(){return[S]},le.initialize=function(I,F,R){Bt(F,function(){return"PostChannel:initialize"},function(){var W=F;$e.initialize(I,F,R);try{var Z=!!F[Qz];Te=Ha(io(le.identifier),F.evtNamespace&&F.evtNamespace());var ce=le._getTelCtx();I.extensionConfig[le.identifier]=I.extensionConfig[le.identifier]||{},n=ce.getExtCfg(le.identifier),fe=np(n.setTimeoutOverride,n.clearTimeoutOverride),G=!n.disableOptimizeObj&&QT(),ir(W),n.eventsLimitInMem>0&&(f=n.eventsLimitInMem),n.immediateEventLimit>0&&(l=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(D=n.autoFlushEventsLimit),Ti(n[j1])&&(ue=n[j1]),Ti(n[q1])&&(Se=n[q1]),pe(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(y=n.httpXHROverride),wn(I.anonCookieName)&&S.addQueryStringParameter("anoncknm",I.anonCookieName),S.sendHook=n.payloadPreprocessor,S.sendListener=n.payloadListener;var we=n.overrideEndpointUrl?n.overrideEndpointUrl:I.endpointUrl;le._notificationManager=F.getNotifyMgr(),S.initialize(we,le.core,le,y,n);var Be=I.disablePageUnloadEvents||[];qd(Et,Be,Te),Yd(Et,Be,Te),Wd(Yt,I.disablePageShowEvents,Te)}catch(Qe){throw le.setInitialized(!1),Qe}},function(){return{coreConfig:I,core:F,extensions:R}})},le.processTelemetry=function(I,F){Zd(I,le.identifier),F=le._getTelCtx(F);var R=F.getExtCfg(le.identifier),W=!!n.disableTelemetry;R&&(W=W||!!R.disableTelemetry);var Z=I;!W&&!i&&(n[jh]&&(Z.iKey=n[jh]),R&&R[jh]&&(Z.iKey=R[jh]),et(Z,!0),se?ke(2,2):K()),le.processNext(Z,F)},le._doTeardown=function(I,F){ke(2,2),i=!0,S.teardown(),Sh(null,Te),_h(null,Te),Ch(null,Te),te()};function ir(I){var F=I.getWParam;I.getWParam=function(){var R=0;return n.ignoreMc1Ms0CookieProcessing&&(R=R|2),R|F()}}function Et(I){var F=I||qo().event;F.type!=="beforeunload"&&(se=!0,S.setUnloading(se)),ke(2,2)}function Yt(I){se=!1,S.setUnloading(se)}function et(I,F){if(I.sendAttempt||(I.sendAttempt=0),I.latency||(I.latency=1),I.ext&&I.ext[ub]&&delete I.ext[ub],I.ext&&I.ext[Vh]&&I.ext[Vh].id&&delete I.ext[Vh].id,G&&(Zd,I.ext=Ga(I.ext),I.baseData&&(I.baseData=Ga(I.baseData)),I.data&&(I.data=Ga(I.data))),I.sync){if(g||s)I.latency=3,I.sync=!1;else if(S){G&&(I=Ga(I)),S.sendSynchronousBatch(sc.create(I.iKey,[I]),I.sync===!0?1:I.sync,3);return}}var R=I.latency,W=c,Z=f;R===4&&(W=u,Z=l);var ce=!1;if(W<Z)ce=!ft(I,F);else{var we=1,Be=Yz;R===4&&(we=4,Be=1),ce=!0,Wt(I.iKey,I.latency,we,Be)&&(ce=!ft(I,F))}ce&&U(ou,[I],Kn.QueueFull)}le.setEventQueueLimits=function(I,F){f=I>0?I:1e4,D=F>0?F:0,pe();var R=c>I;if(!R&&P>0)for(var W=1;!R&&W<=3;W++){var Z=E[W];Z&&Z.batches&&ne(Z.batches,function(ce){ce&&ce.count()>=P&&(R=!0)})}ct(!0,R)},le.pause=function(){ge(),s=!0,S.pause()},le.resume=function(){s=!1,S.resume(),K()},le.addResponseHandler=function(I){S._responseHandlers.push(I)},le._loadTransmitProfiles=function(I){Ln(),Lt(I,function(F,R){var W=R.length;if(W>=2){var Z=W>2?R[2]:0;if(R.splice(0,W-2),R[1]<0&&(R[0]=-1),R[1]>0&&R[0]>0){var ce=R[0]/R[1];R[0]=Math.ceil(ce)*R[1]}Z>=0&&R[1]>=0&&Z>R[1]&&(Z=R[1]),R.push(Z),d[F]=R}})},le.flush=function(I,F,R){if(I===void 0&&(I=!0),!s)if(R=R||1,I)a==null?(ge(),M(1,0,R),a=$(function(){a=null,ki(F,R)},0)):o.push(F);else{var W=ge();Ae(1,1,R),F!=null&&F(),W&&K()}},le.setMsaAuthTicket=function(I){S.addHeader(rp,I)},le.hasEvents=V,le._setTransmitProfile=function(I){p!==I&&d[I]!==void 0&&(ge(),p=I,K())};function Ae(I,F,R){var W=M(I,F,R);return S.sendQueuedRequests(F,R),W}function V(){return c>0}function K(){if(x>=0&&M(x,0,q)&&S.sendQueuedRequests(0,q),u>0&&!h&&!s){var I=d[p][2];I>=0&&(h=$(function(){h=null,Ae(4,0,1),K()},I))}var F=d[p][1];!v&&!a&&F>=0&&!s&&(V()?v=$(function(){v=null,Ae(m===0?3:1,0,1),m++,m%=2,K()},F):m=0)}le._backOffTransmission=function(){g<Wz&&(g++,ge(),K())},le._clearBackOff=function(){g&&(g=0,ge(),K())};function te(){n=null,i=!1,o=[],a=null,s=!1,u=0,l=500,c=0,f=1e4,d={},p=tp,v=null,h=null,g=0,m=0,y=null,E={},D=void 0,P=0,x=-1,q=null,G=!0,se=!1,ue=V1,Se=H1,Te=null,fe=np(),S=new B1(G1,z1,Kz,{requeue:dt,send:b,sent:w,drop:L,rspFail:B,oth:ie},fe),ci(),We(),pe()}function $(I,F){F===0&&g&&(F=1);var R=1e3;return g&&(R=Hh(g-1)),fe.set(I,F*R)}function ge(){return v!==null?(fe.clear(v),v=null,m=0,!0):!1}function ke(I,F){ge(),a&&(fe.clear(a),a=null),s||Ae(1,I,F)}function We(){E[4]={batches:[],iKeyMap:{}},E[3]={batches:[],iKeyMap:{}},E[2]={batches:[],iKeyMap:{}},E[1]={batches:[],iKeyMap:{}}}function tt(I,F,R){var W=E[F];W||(F=1,W=E[F]);var Z=W.iKeyMap[I];return!Z&&R&&(Z=sc.create(I),W.batches.push(Z),W.iKeyMap[I]=Z),Z}function ct(I,F){S.canSendRequest()&&!g&&(D>0&&c>D&&(F=!0),F&&a==null&&le.flush(I,null,20))}function ft(I,F){G&&(I=Ga(I));var R=I.latency,W=tt(I.iKey,R,!0);return W.addEvent(I)?(R!==4?(c++,F&&I.sendAttempt===0&&ct(!I.sync,P>0&&W.count()>=P)):u++,!0):!1}function Wt(I,F,R,W){for(;R<=F;){var Z=tt(I,F,!0);if(Z&&Z.count()>0){var ce=Z.split(0,W),we=ce.count();if(we>0)return R===4?u-=we:c-=we,_(ou,[ce],Kn.QueueFull),!0}R++}return Pt(),!1}function Pt(){for(var I=0,F=0,R=function(Z){var ce=E[Z];ce&&ce.batches&&ne(ce.batches,function(we){Z===4?I+=we.count():F+=we.count()})},W=1;W<=4;W++)R(W);c=F,u=I}function M(I,F,R){var W=!1,Z=F===0;return!Z||S.canSendRequest()?Bt(le.core,function(){return"PostChannel._queueBatches"},function(){for(var ce=[],we=4;we>=I;){var Be=E[we];Be&&Be.batches&&Be.batches.length>0&&(ne(Be.batches,function(Qe){S.addBatch(Qe)?W=W||Qe&&Qe.count()>0:ce=ce.concat(Qe.events()),we===4?u-=Qe.count():c-=Qe.count()}),Be.batches=[],Be.iKeyMap={}),we--}ce.length>0&&U(ou,ce,Kn.KillSwitch),W&&x>=I&&(x=-1,q=0)},function(){return{latency:I,sendType:F,sendReason:R}},!Z):(x=x>=0?Math.min(x,I):I,q=Math.max(q,R)),W}function ki(I,F){Ae(1,0,F),Pt(),li(function(){I&&I(),o.length>0?a=$(function(){a=null,ki(o.shift(),F)},0):(a=null,K())})}function li(I){S.isCompletelyIdle()?I():a=$(function(){a=null,li(I)},qz)}function Ln(){ge(),ci(),p=tp,K()}function ci(){d={},d[tp]=[2,1,0],d[g1]=[6,3,0],d[m1]=[18,9,0]}function dt(I,F){var R=[],W=ue;se&&(W=Se),ne(I,function(Z){Z&&Z.count()>0&&ne(Z.events(),function(ce){ce&&(ce.sync&&(ce.latency=4,ce.sync=!1),ce.sendAttempt<W?(Zd(ce,le.identifier),et(ce,!1)):R.push(ce))})}),R.length>0&&U(ou,R,Kn.NonRetryableStatus),se&&ke(2,2)}function pr(I,F){var R=le._notificationManager||{},W=R[I];if(W)try{W.apply(R,F)}catch(Z){wt(le.diagLog(),1,74,I+" notification failed: "+Z)}}function U(I,F){for(var R=[],W=2;W<arguments.length;W++)R[W-2]=arguments[W];F&&F.length>0&&pr(I,[F].concat(R))}function _(I,F){for(var R=[],W=2;W<arguments.length;W++)R[W-2]=arguments[W];F&&F.length>0&&ne(F,function(Z){Z&&Z.count()>0&&pr(I,[Z.events()].concat(R))})}function b(I,F,R){I&&I.length>0&&pr("eventsSendRequest",[F>=1e3&&F<=1999?F-1e3:0,R!==!0])}function w(I,F){_("eventsSent",I,F),K()}function L(I,F){_(ou,I,F>=8e3&&F<=8999?F-8e3:Kn.Unknown)}function B(I){_(ou,I,Kn.NonRetryableStatus),K()}function ie(I,F){_(ou,I,Kn.Unknown),K()}function pe(){!n||!n.disableAutoBatchFlushLimit?P=Math.max(G1*(z1+1),f/6):P=0}zo(le,"_setTimeoutOverride",function(){return fe.set},function(I){fe=np(I,fe.clear)}),zo(le,"_clearTimeoutOverride",function(){return fe.clear},function(I){fe=np(fe.set,I)})}),r}return t.__ieDyn=1,t}(rc),db=Jz;var Y1="HttpManager:_sendBatches",W1="PrivacyGuard:_processTelemetry",Xz=function(){function e(t,r,n){this.start=Mo(),this.name=t,this.isAsync=n===!0,this.payload=r}return e.prototype.isChildEvt=function(){return!1},e.prototype.complete=function(){this.time=Mo()-this.start,this.exTime=this.time},e}();var K1=function(){function e(t){this._callbacks=t}return e.prototype.create=function(t,r,n){if(t===Y1||t===W1){var i=new Xz(t,r,n);return i}return null},e.prototype.fire=function(t){if(t&&t.complete(),this._callbacks)switch(t.name){case Y1:this.handleSendBatches(t);break;case W1:this.handlePrivacyGuardNotification(t);break}},e.prototype.setCtx=function(t,r){},e.prototype.getCtx=function(t){},e.prototype.handleSendBatches=function(t){if(this._callbacks.requestProcessingStats){var r=0;if(t.payload){var n=t.payload();if(n.batches)for(var i in n.batches)r+=n.batches[i].evts.length}this._callbacks.requestProcessingStats(t.time||0,r)}},e.prototype.handlePrivacyGuardNotification=function(t){this._callbacks.privacyGuardStats&&t.time&&t.time>0&&this._callbacks.privacyGuardStats(t.time)},e}();function Q1(e,t){var r=e.httpXHROverride,n={instrumentationKey:t,endpointUrl:e.endpointUrl,channelConfiguration:{eventsLimitInMem:e.eventsLimitInMem,httpXHROverride:r,autoFlushEventsLimit:e.autoFlushEventsLimit,setTimeoutOverride:e.setTimeoutOverride,clearTimeoutOverride:e.clearTimeoutOverride,ignoreMc1Ms0CookieProcessing:!0,disableOptimizeObj:!0},enableWParam:!r,disableCookiesUsage:!0,extensionConfig:mt({},e.extensionConfig)};e.stats&&e.stats.networkStats&&n.channelConfiguration&&(n.channelConfiguration.payloadListener=function(o,a){var s,u=a||o;u.data&&((s=e.stats)===null||s===void 0||s.networkStats(u.data.length))});var i=new $z;return i.initialize(n,e.plugins),i.setUploadFrequency(e.uploadFrequency),e.notificationListener&&i.addNotificationListener(e.notificationListener),e.stats&&i.setPerfMgr(new K1(e.stats)),i}var J1=function(e,t){t&&t.addNotificationListener({eventsSent:function(r){ot(2,2,function(){return"Successfully sent ".concat(r.length," event(s)")}),ot(3,2,function(){return"Sent event(s) details : ".concat(JSON.stringify(r,null,2))}),e.eventsSent+=r.length},eventsDiscarded:function(r,n){ot(0,2,function(){return"Discarded ".concat(r.length," event(s) because ").concat(Kn[n]||n)}),ot(3,2,function(){return"Discarded event(s) details : ".concat(JSON.stringify(r,null,2))}),e.eventsDiscarded+=r.length}})},$z=function(e){Nl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.initialize=function(r,n){this._postChannel=new db;var i=n!=null?n:[];r.channels=[[this._postChannel]],r.extensionConfig=r.extensionConfig||[],r.extensionConfig[this._postChannel.identifier]=mt(mt({},r.channelConfiguration),r.extensionConfig[this._postChannel.identifier]);try{e.prototype.initialize.call(this,r,i)}catch(o){this.logger.warnToConsole("Failed to initialize SDK."+o)}},t.prototype.setUploadFrequency=function(r){if(!(!this._postChannel||!r)){var n=r/1e3,i=n/2,o={};o.OTelCustomTransmissionProfile=[n,i],this._postChannel._loadTransmitProfiles(o),this._postChannel._setTransmitProfile("OTelCustomTransmissionProfile")}},t.prototype.flush=function(r){this._postChannel&&this._postChannel.flush(r)},t.prototype.shutdown=function(){this._postChannel&&this._postChannel.teardown()},t}(XT);var pb=function(e){Nl(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.instanceId=++t.instanceCounter;var o;i.sendTelemetryEvent=function(s){return ZT(function(){var u=i.getOneDSTelemetryEvent(s);u&&o&&o.track(u)},$T)},i.sendOneDSTelemetryEvent=function(s){return ZT(function(){o==null||o.track(s)},$T)},i.sendCustomerContent=function(s){},i.sendNonStandardEvent=function(s,u){var l=!1;a.forEach(function(c){c.canHandle(u)&&(c.processEvent(s),l=!0)}),l||ot(0,1,function(){return"Missing Handler for "+u+"to process"+s.eventName})},i.flush=function(s){o==null||o.flush(s),a.forEach(function(u){u.flush(s)})},i.shutdown=function(){try{o==null||o.shutdown(),a.forEach(function(s){s.shutdown()})}catch(s){ot(0,2,function(){return"An error occurred on shutdown"})}};var a=n.nonStandardEventHandlers||[];if(o=Q1(n,u1),a.forEach(function(s){s.initialize(i,n)}),!n.endpointUrl)throw new Error("Missing Endpoint Url");return n.disableStatsTracking||J1(i,o),i}return t.instanceCounter=0,t}(p1);var qh=class{constructor(){Uw(this,"sink")}getTelemetrySink(){return this.sink||(this.sink=this.createMockConsoleSink()),this.sink}createSink(t=!1){let r=[...xv.getFields({primaryIdentityHash:"11111111-2222-2222-2222-333333333333",primaryIdentitySpace:"UserObjectId",tenantId:"33333333-2222-2222-2222-111111111111",isAnonymous:!1}),...Av.getFields({name:"Microsoft Fabric",platform:"Web",version:"42.42.43"}),...wv.getFields({id:"sampleSessionId"})];return t?new pb(r,{endpointUrl:md.EUDB}):new pb(r,{endpointUrl:md.PUBLIC})}createMockConsoleSink(){return{sendTelemetryEvent:function(r,n){var u,l,c;let i=(u=r.dataFields.find(f=>f.name==="EventId"))==null?void 0:u.value,o=(l=r.dataFields.find(f=>f.name==="Message"))==null?void 0:l.value,a=(c=r.dataFields.find(f=>f.name==="ErrorMessage"))==null?void 0:c.value,s="FG LOG: EventId: ".concat(i,", Message: ").concat(o,", ErrorMessage: ").concat(a);console.log(s)}}}};var yk=X(Ee()),Sk=X(Qo()),_k=X(pp()),Ck=X(pk());function gk(e){return e==null}var Lb=X(Ee()),ly=X(Qo()),gq=function(){function e(t){this.hostStorageProvider=t}return e.prototype.put=function(t){return this.hostStorageProvider.write(Lb.FloodgateStorageProviderFileType.DynamicCampaignDefinitions,JSON.stringify(t)),Promise.resolve()},e.prototype.pull=function(){var t;try{t=JSON.parse(this.hostStorageProvider.read(Lb.FloodgateStorageProviderFileType.DynamicCampaignDefinitions))}catch(r){t={}}return new Promise(function(r){return r(t)})},e.prototype.putData=function(t,r){return this.put(r),ly.Resolved()},e.prototype.getData=function(t){return ly.fromThenable(this.pull())},e}(),Ub=gq;var mk={name:"@ms-ofb/officebrowserfeedback-ext-dynamic-campaign",version:"0.0.13",description:"Dynamic campaign fetching extension for Floodgate web sdk.",author:"Feedback/Floodgate Team",main:"dist/esm/index.js",types:"dist/esm/types/index.d.ts",repository:{type:"git",url:"https://office.visualstudio.com/CLE/_git/OfficeFeedback-Web"},devDependencies:{"@babel/core":"^7.19.6","@babel/preset-env":"^7.19.4","@babel/preset-typescript":"^7.18.6","@jsdevtools/coverage-istanbul-loader":"^3.0.5","@types/jasmine":"^4.3.0","@types/node":"^16.11.61","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0","babel-loader":"^9.0.0",eslint:"^8.23.1","gulp-nuget-pack":"^0.1.0",husky:"^8.0.1","jasmine-core":"^4.4.0",karma:"^6.4.1","karma-chrome-launcher":"^3.1.1","karma-cli":"^2.0.0","karma-coverage":"^2.2.0","karma-jasmine":"^5.1.0","karma-junit-reporter":"^2.0.1","karma-spec-reporter":"^0.0.34","karma-webpack":"^5.0.0","source-map-loader":"^4.0.1","terser-webpack-plugin":"^5.3.6","ts-node":"^10.9.1",typescript:"^4.5",webpack:"^5.74.0","webpack-cli":"^4.10.0","webpack-merge":"^5.8.0",webpackbar:"^5.0.2"},dependencies:{"@ms-ofb/floodgate-shared-typings":"^1.0.26","@skype/ecsclient":"^2.2.1","core-js":"^3.33.0",subscribableevent:"^1.0.1",synctasks:"^0.3.3"},scripts:{build:"tsc & webpack -c ./webpack/webpack.prod.config.js","build-dev":"tsc & webpack -c ./webpack/webpack.dev.config.js","build-esm":"tsc","build-js-bundle":"webpack -c ./webpack/webpack.prod.config.js",lint:"eslint --ext .ts .",prepare:"cd ../.. & husky install .githooks/husky",test:"karma start './karma.conf.js'"}};var kb=new Map;kb.set("disableexperiments","true");kb.set("disablerollouts","false");var vq={host:"https://config.edge.skype.com",clientName:"CHILL",clientVersion:mk.version,timeout:6e4,allowBackgroundFetch:!0,filters:kb},Mb=vq;var cy;(function(e){e.EcsClientStartFailed="FloodgateCore_ECSClient_Start_Failed"})(cy||(cy={}));var fy=function(){return fy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fy.apply(this,arguments)},hq=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((n=n.apply(e,t||[])).next())})},yq=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},vk=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},hk=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Sq=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_q=function(){function e(t){var r,n,i;if(this.telemetryEvents=new _k.default,!gk(t.localStorageProvider))i=new Ub(t.localStorageProvider);else throw new Error("[Dynamic Campaign] - The Storage provider is not defined but it is a required field.");t.filters=new Map(hk(hk([],vk(Array.from(Mb.filters.entries())),!1),vk(Array.from((n=(r=t.filters)===null||r===void 0?void 0:r.entries())!==null&&n!==void 0?n:[])),!1)),t.appName&&t.filters.set("Application",t.appName),t.appVersion&&t.filters.set("version",t.appVersion),t.language&&t.filters.set("language",t.language),t.filters.has("agents")&&(t.filters.has("agent")||t.filters.set("agent",t.filters.get("agents")),t.filters.delete("agents"));var o=fy(fy({},Mb),t);this._skypeClientConfig={hosts:[o.host],clientName:o.clientName,clientVersion:o.clientVersion,configsToFetch:[yk.EcsConfigType.Default],initialAppActiveState:!0,fetchTimeout:o.timeout,getEcsParameters:function(){var a,s,u={};try{for(var l=Sq(o.filters.keys()),c=l.next();!c.done;c=l.next()){var f=c.value;u[f]=o.filters.get(f)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return Sk.Resolved(u)},databaseInterface:i,fetchAttemptMax:t.fetchAttemptMax||10},this.ecsClient=new Ck.default,this.ecsClient.setAllowBackgroundFetch(o.allowBackgroundFetch),[].findIndex(function(a){return a===void 0})}return e.prototype.start=function(){return hq(this,void 0,void 0,function(){var t,r=this;return yq(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.ecsClient.telemetryEventAdded.subscribe(function(i,o){r.telemetryEvents.fire(i,o)}),[4,this.ecsClient.initialize(this._skypeClientConfig).toEs6Promise()];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.telemetryEvents.fire(cy.EcsClientStartFailed,{ErrorMessage:t}),[3,3];case 3:return[2]}})})},e.prototype.getConfig=function(){return this.ecsClient.getConfig()},e.prototype.queueManualRefresh=function(){this.ecsClient.requestUpdate()},e.prototype.pause=function(){this.ecsClient.pause()},e.prototype.resume=function(){this.ecsClient.resume()},e}(),dy=_q;var XG=X(Ee()),E_=X(na()),$G=X(du()),hw=X(ln()),ZG=X(ox());var Mue=X(F2());var R2={error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},trace:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},event:function(e,t,r){r===void 0&&(r=1)},userFactEvent:function(e,t){}};function De(){return R2}function fS(e){e&&(R2=e)}var H9=function(){function e(){}return e.prototype.setSessionId=function(t){this.sessionId=t},e.prototype.setUserFactRules=function(t){this.userFactRules=t},e.prototype.getSessionId=function(){return this.sessionId},e.prototype.getUserFactRules=function(){return this.userFactRules},e}();var z9=new H9;function Cu(){return z9}var lx=4*60*60*1e3,dS={environment:"prod",userFactsUrl:"https://attributes.engagement.office.com/facts",userFactsRequestTimeOut:3e3,userFactsCacheExpiration:lx,eventSamplingRate:1},j9={environment:"int",userFactsUrl:"https://attributes.engagement.office-int.com/facts",userFactsRequestTimeOut:3e3,userFactsCacheExpiration:lx,eventSamplingRate:1},q9={environment:"edog",userFactsUrl:"https://attributes.engagement.officeppe.com/facts",userFactsRequestTimeOut:3e3,userFactsCacheExpiration:lx,eventSamplingRate:1},L2=dS;function cx(e){var t;if(cx){var r=dS,n=(t=e==null?void 0:e.environment)!==null&&t!==void 0?t:dS.environment;switch(n){case"int":r=j9;break;case"edog":r=q9;break;default:break}L2=mt(mt({},r),e)}}function Eu(e){var t;return(t=L2[e])!==null&&t!==void 0?t:dS[e]}function kr(){var e=Eu("eventSamplingRate");return e?e/100:.01}var Y9=typeof window<"u"&&window;function Ic(){return Y9}function U2(){try{var e="__storage_test__";return Ic().localStorage.setItem(e,e),Ic().localStorage.removeItem(e),!0}catch(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ic().localStorage.length!==0}}function ls(e,t){if(!e)return t;try{var r=Ic().localStorage.getItem(e),n=r&&(r[0]==="{"||r[0]==="[")?JSON.parse(r):r;return n!=null?n:t}catch(i){}return t}function k2(e,t){if(!(!e||!t))try{var r=typeof t=="string"?t:JSON.stringify(t);Ic().localStorage.setItem(e,r)}catch(n){}}function ho(e,t,r,n){var i=K9(e,t,r);return H2(i,n),i}function B2(e,t,r,n){var i=pS(n);return i?(i.content=t,H2(i,n),i):ho(e,t,r,n)}function Tu(e){var t=pS(e);return t&&t.content}function G2(e,t){var r=pS(e);return V2(r)?t:r.content}function qp(e){var t=pS(e);return V2(t)}function K9(e,t,r){var n={contentType:e,content:t,expiryDate:new Date(Date.now()+r),lastRetrievedDate:new Date};return n}function V2(e){return!e||!e.expiryDate||e.expiryDate<new Date}function H2(e,t){k2(t!=null?t:e.contentType,e)}function pS(e){var t=ls(e);return t&&(t.expiryDate=typeof t.expiryDate=="string"?new Date(t.expiryDate):t.expiryDate),t}var z2="AppUsage",ia;(function(e){e[e.Equal=0]="Equal",e[e.NotEqual=1]="NotEqual",e[e.GreaterThan=2]="GreaterThan",e[e.GreaterThanOrEqual=3]="GreaterThanOrEqual",e[e.LessThan=4]="LessThan",e[e.LessThanOrEqual=5]="LessThanOrEqual"})(ia||(ia={}));var fx={2155:"WordWebLastUsed",2156:"ExcelWebLastUsed",2157:"PowerPointWebLastUsed"};function j2(e,t){if(t.dataType!=e.type)return!1;switch(e.comparator){case ia.Equal:return t.value===e.value;case ia.NotEqual:return t.value!=e.value;case ia.GreaterThan:return t.value>e.value;case ia.GreaterThanOrEqual:return t.value>=e.value;case ia.LessThan:return t.value<e.value;case ia.LessThanOrEqual:return t.value<=e.value;default:return!1}}function J9(e,t){if(t.dataFields){var r=t.dataFields.find(function(i){return i.name===e.propertyName});if(r)return j2(e,r)}if(t.eventContract&&t.eventContract.dataFields){var n=t.eventContract.dataFields.find(function(i){return i.name===e.propertyName});if(n)return j2(e,n)}return!1}function q2(e,t,r){if(e===null||t===null)return!1;var n=W2(e.dedupIntervalSeconds,t,r);return n||De().event("UserFacts_User_Fact_Not_Sent_Dedup_Interval",{eventName:e.userFactName},kr()),n}function Y2(e,t,r,n){if(e===null||r===null)return!1;if(!e.props.every(function(o){return J9(o,t)}))return De().event("UserFacts_Telemetry_Event_Manifest_Mismatch",{eventName:e.userFactName},kr()),!1;var i=W2(e.dedupIntervalSeconds,r,n);return i||De().event("UserFacts_Telemetry_Event_Not_Sent_Dedup_Interval",{eventName:e.userFactName},kr()),i}function W2(e,t,r){return t==null?!1:r?t.getTime()-r.getTime()>=e*1e3:!0}var Er=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},qr={searchParams:"URLSearchParams"in Er,iterable:"Symbol"in Er&&"iterator"in Symbol,blob:"FileReader"in Er&&"Blob"in Er&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in Er,arrayBuffer:"ArrayBuffer"in Er};function X9(e){return e&&DataView.prototype.isPrototypeOf(e)}qr.arrayBuffer&&(K2=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],J2=ArrayBuffer.isView||function(e){return e&&K2.indexOf(Object.prototype.toString.call(e))>-1});var K2,J2;function xc(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function px(e){return typeof e!="string"&&(e=String(e)),e}function gx(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return qr.iterable&&(t[Symbol.iterator]=function(){return t}),t}function er(e){this.map={},e instanceof er?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}er.prototype.append=function(e,t){e=xc(e),t=px(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};er.prototype.delete=function(e){delete this.map[xc(e)]};er.prototype.get=function(e){return e=xc(e),this.has(e)?this.map[e]:null};er.prototype.has=function(e){return this.map.hasOwnProperty(xc(e))};er.prototype.set=function(e,t){this.map[xc(e)]=px(t)};er.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};er.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),gx(e)};er.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),gx(e)};er.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),gx(e)};qr.iterable&&(er.prototype[Symbol.iterator]=er.prototype.entries);function dx(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function X2(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function $9(e){var t=new FileReader,r=X2(t);return t.readAsArrayBuffer(e),r}function Z9(e){var t=new FileReader,r=X2(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8";return t.readAsText(e,i),r}function eW(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Q2(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function $2(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:qr.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:qr.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:qr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():qr.arrayBuffer&&qr.blob&&X9(e)?(this._bodyArrayBuffer=Q2(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):qr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||J2(e))?this._bodyArrayBuffer=Q2(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):qr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},qr.blob&&(this.blob=function(){var e=dx(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=dx(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(qr.blob)return this.blob().then($9);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=dx(this);if(e)return e;if(this._bodyBlob)return Z9(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(eW(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},qr.formData&&(this.formData=function(){return this.text().then(nW)}),this.json=function(){return this.text().then(JSON.parse)},this}var tW=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function rW(e){var t=e.toUpperCase();return tW.indexOf(t)>-1?t:e}function Iu(e,t){if(!(this instanceof Iu))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof Iu){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new er(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new er(t.headers)),this.method=rW(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Er){var o=new AbortController;return o.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Iu.prototype.clone=function(){return new Iu(this,{body:this._bodyInit})};function nW(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function iW(e){var t=new er,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf("\n")===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),o=i.shift().trim();if(o){var a=i.join(":").trim();try{t.append(o,a)}catch(s){console.warn("Response "+s.message)}}}),t}$2.call(Iu.prototype);function yo(e,t){if(!(this instanceof yo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new er(t.headers),this.url=t.url||"",this._initBody(e)}$2.call(yo.prototype);yo.prototype.clone=function(){return new yo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new er(this.headers),url:this.url})};yo.error=function(){var e=new yo(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var oW=[301,302,303,307,308];yo.redirect=function(e,t){if(oW.indexOf(t)===-1)throw new RangeError("Invalid status code");return new yo(null,{status:t,headers:{location:e}})};var bu=Er.DOMException;try{new bu}catch(e){bu=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},bu.prototype=Object.create(Error.prototype),bu.prototype.constructor=bu}function Z2(e,t){return new Promise(function(r,n){var i=new Iu(e,t);if(i.signal&&i.signal.aborted)return n(new bu("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var l={statusText:o.statusText,headers:iW(o.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(o.status<200||o.status>599)?l.status=200:l.status=o.status,l.url="responseURL"in o?o.responseURL:l.headers.get("X-Request-URL");var c="response"in o?o.response:o.responseText;setTimeout(function(){r(new yo(c,l))},0)},o.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},o.onabort=function(){setTimeout(function(){n(new bu("Aborted","AbortError"))},0)};function s(l){try{return l===""&&Er.location.href?Er.location.href:l}catch(c){return l}}if(o.open(i.method,s(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(qr.blob?o.responseType="blob":qr.arrayBuffer&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof er||Er.Headers&&t.headers instanceof Er.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach(function(l){u.push(xc(l)),o.setRequestHeader(l,px(t.headers[l]))}),i.headers.forEach(function(l,c){u.indexOf(c)===-1&&o.setRequestHeader(c,l)})}else i.headers.forEach(function(l,c){o.setRequestHeader(c,l)});i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",a)}),o.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Z2.polyfill=!0;Er.fetch||(Er.fetch=Z2,Er.Headers=er,Er.Request=Iu,Er.Response=yo);function eB(e,t){var r=new Promise(function(n,i){var o=setTimeout(function(){clearTimeout(o),i("Timed out after "+e+"ms.")},e)});return Promise.race([t,r])}function Yr(e){var t,r,n;return(n=(r=(t=e)===null||t===void 0?void 0:t.message)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:e==null?void 0:e.toString()}function xu(e){return e==null}function tB(){return(cs()+cs()+"-"+cs()+"-4"+cs().substr(0,3)+"-"+cs()+"-"+cs()+cs()+cs()).toLowerCase()}function cs(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function rB(e){return e!=null&&Array.isArray(e)}function nB(e){return e!=null&&typeof e=="function"}function iB(e){return e!=null&&typeof e=="object"}var oB=5e3;function gS(e,t,r,n,i){var o={method:"GET",headers:sB(t,null,r)};return n?uB(e,o,i!=null?i:oB):fetch(e,o)}function aB(e,t,r,n,i,o,a){var s={method:"POST",headers:sB(r,n,i),body:t};return o?uB(e,s,a!=null?a:oB):fetch(e,s)}function sB(e,t,r){var n=typeof Headers<"u"&&new Headers;if(n){if(xu(e)||n.append("Authorization","Bearer "+e),!xu(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.append(i,t[i]);n.append("X-CorrelationId",tB()),r&&n.append("X-ClientSessionId",r)}return n}function uB(e,t,r){return t===void 0&&(t={}),new Promise(function(n,i){fetch(e,t).then(n,i),setTimeout(function(){return i(new Error("Service request timed out"))},r)})}var fs,Mr=(fs={},fs.CampaignContent="obf-TmsCampaignContent",fs.DynamicSettings="obf-TmsDynamicSettings",fs.LogLevelSettings="obf-LogLevelSettings",fs.MessageMetadata="obf-TmsMessageMetadata",fs.UserFacts="obf-UserFacts",fs.UserGovernance="obf-TmsUserGovernance",fs);var Au=Mr.UserFacts;function Yp(e){return Tu(Au)}function lB(e){return G2(Au,null)}function cB(e){var t=Tu(Au);return t?e?(t.forEach(function(r){var n=r;if((n==null?void 0:n.source)==1){var i=e.find(function(o){return o.userFactName==r.userFactName});if(!i){e.push(n);return}r.sourceDateTime>i.sourceDateTime&&(i.sourceDateTime=r.sourceDateTime,i.userFactValue=r.userFactValue,i.source=1)}}),e):t:e}function vx(e){if(e)return e.join(", ")}function hx(e){return e==null?void 0:e.map(function(t){return t.userFactName})}function mS(e,t,r,n,i){r===void 0&&(r=-1),n===void 0&&(n=void 0),i===void 0&&(i=-1);var o=t||{},a=o.headers,s=o.status,u=o.statusText,l=a&&a.get("X-ClientSessionId"),c=a&&a.get("X-CorrelationId");return{CorrelationId:c||void 0,Count:r,HttpStatusCode:s||void 0,HttpStatusText:u||void 0,FactNames:vx(n),SamplingRate:i,SessionId:l,TimeMilliseconds:+new Date-e}}function sW(e){return Le(this,void 0,void 0,function(){var t,r,n,i,o,a,s;return Ye(this,function(u){switch(u.label){case 0:t=+new Date,r=null,u.label=1;case 1:return u.trys.push([1,6,,7]),n=Eu("userFactsUrl"),i=kr(),[4,gS(n,e,Cu().getSessionId())];case 2:return o=u.sent(),o.status===200||o.status===204?[4,o.json()]:[3,4];case 3:return a=u.sent(),r=uW(a),!r||r.length===0?De().event("UserFacts_Common_Error_No_FactsReturned",mS(t,o)):De().event("UserFacts_Common_Info",mS(t,o,r.length,hx(r),i),i),[3,5];case 4:De().event("UserFacts_Common_Error",mS(t,o)),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),De().event("UserFacts_Common_Error",mt(mt({},mS(t,null)),{error:Yr(s)})),[3,7];case 7:return[2,r]}})})}function fB(e){var t=sW(e),r=Eu("userFactsRequestTimeOut");return eB(r,t)}function uW(e){if(!e||e.length==0)return null;var t=yx(e),r=cB(t),n=Eu("userFactsCacheExpiration");return ho("UserFacts",r,n,Au),r}function yx(e){var t=new Date(Date.now()).toISOString();return e.map(function(r){var n=lW(r);return n.clientIngestionDateTime=t,n})}function dB(e,t,r){r||(r=[]);var n=r.find(function(o){return o.userFactName===e});if(n)n.sourceDateTime=t,n.userFactValue=t,n.storageDateTime=t,n.source=1;else{var i={userFactType:z2,userFactName:e,userFactValue:t,sourceDateTime:t,storageDateTime:t,clientIngestionDateTime:"",source:1};r.push(i)}return r}function lW(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var i=n[r],o=i.charAt(0).toLowerCase()+i.substring(1);t[o]=e[i]}return t}var cW={scenario:"tulips",appId:"https://attributes.engagement.office.com/UserFacts.Read"};function fW(e){if(!e)return null;var t={};return e.forEach(function(r){return t[r.userFactName]=r}),t}function pB(e,t){return Le(this,void 0,void 0,function(){var r,n,i,o,a;return Ye(this,function(s){switch(s.label){case 0:if(r=lB(e),!(!r||r.length==0))return[3,8];s.label=1;case 1:return s.trys.push([1,6,,7]),i=t,i?[4,t(cW)]:[3,3];case 2:i=s.sent(),s.label=3;case 3:return n=i,o=n,o?[4,fB(n)]:[3,5];case 4:o=s.sent(),s.label=5;case 5:return r=o,[3,7];case 6:return a=s.sent(),De().event("UserFacts_Common_Error",{error:Yr(a)}),[3,7];case 7:return[3,9];case 8:De().event("UserFacts_Common_LoadedFromCache",pW(r==null?void 0:r.length,hx(r)),kr()),s.label=9;case 9:return[2,r]}})})}function gB(){return Cu().getUserFactRules()}function mB(e,t){fx[e]&&Sx(fx[e],t)}function vB(e){if(!(!e||!e.eventName)){var t=gB();if(!t){De().event("UserFacts_Null_Telemetry_Event_Rules_Map",{Name:e.eventName},kr());return}var r=t[e.eventName];try{if(!r)return;var n=yB(r.userFactName),i=new Date(e.timestamp);if(!Y2(r,e,i,n))return;hB(r.userFactName,i)}catch(o){De().event("UserFacts_Process_Telemetry_Event_Error",{error:Yr(o),Name:e.eventName});return}}}function Sx(e,t){if(!(!e||!t)){var r=gB();if(!r){De().event("UserFacts_Null_User_Fact_Rules_Map",{Name:e},kr());return}var n=r[e];try{if(!n)return;var i=yB(n.userFactName);if(!q2(n,t,i))return;hB(n.userFactName,t);return}catch(o){De().event("UserFacts_Process_UserFact_Event_Error",{error:Yr(o),Name:e});return}}}function hB(e,t){De().userFactEvent(e,t.toISOString()),dW(e,t.toISOString()),De().event("UserFacts_Send_User_Fact_Success",{Name:e},kr())}function yB(e){var t;try{if(t=fW(Yp()),!t)return De().event("UserFacts_Empty_Cache",{Name:e}),null;var r=t[e]?t[e].sourceDateTime:null;return r?new Date(r):null}catch(n){return De().event("UserFacts_Read_Cache_Error",{error:Yr(n),Name:e}),null}}function dW(e,t){var r;try{r=Yp();var n=r?Eu("userFactsCacheExpiration"):-1,i=dB(e,t,r);B2("UserFacts",i,n,Au)}catch(o){De().event("UserFacts_Write_Cache_Error",{error:Yr(o),Name:e})}}function pW(e,t){return e===void 0&&(e=-1),t===void 0&&(t=void 0),{Count:e,FactNames:vx(t)}}function _B(e){var t,r;if(fS(e==null?void 0:e.logger),cx(e==null?void 0:e.settings),e!=null&&e.sessionId&&Cu().setSessionId(e.sessionId),!((t=e==null?void 0:e.userFactConfig)===null||t===void 0)&&t.enableSendUserFacts){var n=new Date,i=gW(e.userFactConfig.disabledUserFacts,e.userFactConfig.userFactRules);Cu().setUserFactRules(i),De().event("UserFacts_Config_Rules",{Message:JSON.stringify(i)},kr()),!((r=e.settings)===null||r===void 0)&&r.appId&&mB(e.settings.appId,n)}}function gW(e,t){var r=t;return!t||!e||Object.keys(r).forEach(function(n){e.find(function(i){return i==r[n].userFactName})&&delete r[n]}),r}var Ac="customervoice",CB="Customer Voice Survey UX",Wp;(function(e){e[e.Smile=0]="Smile",e[e.Frown=1]="Frown",e[e.Idea=2]="Idea",e[e.Bug=3]="Bug",e[e.IdeaRedirect=4]="IdeaRedirect"})(Wp||(Wp={}));var wu=class{};wu.WebSurfacesIntLink="https://res-sdf.cdn.office.net/office-growth/resources/programmablesurfaces/int/officewebsurfaces.core.min.js";wu.WebSurfacesProdLink="https://res.cdn.office.net/office-growth/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js";var vS=class{};vS.TMSAppID="4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed";vS.TULIPSAppID="05c88d91-956e-46b4-91b0-77a33cc21a4d";var hS="Web SDK v",EB="UxId:built-in|comp2022_v1",TB=1,bB="M365Light",Kp;(function(e){e.TeachingChannelServiceGovernanceEnabled="TeachingChannelServiceGovernanceEnabled",e.GovernanceLocalUserIdOverride="GovernanceLocalUserIdOverride",e.GovernanceServiceCheckAllowedCampaignIds="GovernanceServiceCheckAllowedCampaignIds",e.GovernanceServiceCheckAllowedCampaignIdsExt="GovernanceServiceCheckAllowedCampaignIdsExt",e.GovernanceServiceEnabledChannels="GovernanceServiceEnabledChannels",e.GovernanceServiceIntURL="GovernanceServiceIntURL",e.GovernanceServiceProdURL="GovernanceServiceProdURL",e.TestBooleanFeatureGate="DynamicFeatureStatusTestBoolean",e.TestStringFeatureGate="DynamicFeatureStatusTestString",e.TestIntFeatureGate="DynamicFeatureStatusTestInt"})(Kp||(Kp={}));var IB=["af","am","ar","as","az","be","bg","bn-BD","bn-IN","bs","ca","ca-Es-VALENCIA","chr-Cher","cs","cy","da","de","el","en-GB","es","es-MX","et","eu","fa","fi","fil","fr","fr-CA","ga","gd","gl","gu","ha-Latn-NG","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km-KH","kn","ko","kok","ky","lb","lo","lt","lv","mi","mk","ml","mn","mr","ms","mt","nb-NO","ne","nl","nn-NO","or","pa","pl","prs","pt-BR","pt-PT","quz","ro","ru","sd","si","sk","sl","sq","sr-Cyrl-BA","sr-Cyrl-RS","sr-Latn-RS","sv","sw","ta","te","th","tk","tr","tt","ug","uk","ur","uz-Latn-UZ","vi","zh-Hans","zh-Hant"],xB={"ZH-CN":"zh-Hans","ZH-HK":"zh-Hant","ZH-MO":"zh-Hant","ZH-SG":"zh-Hans","ZH-TW":"zh-Hant"};function AB(e){let t=e.toLocaleUpperCase();if(t in xB)return xB[t];for(let n of IB)if(n.toUpperCase()===t)return n;let r=t.split("-")[0];for(let n of IB)if(n.toUpperCase()===r)return n;return"en"}var ni={};D_(ni,{convertAutoDismissToTimeInMs:()=>eg,createTimeoutPromise:()=>Ou,expectArray:()=>SS,expectBoolean:()=>Ht,expectEnum:()=>Xp,expectFunction:()=>$p,expectGuid:()=>hW,expectNumber:()=>Fn,expectObject:()=>ri,expectSimpleType:()=>Ex,expectString:()=>tr,guid:()=>Qp,isBoolean:()=>Jp,isInteger:()=>Cx,isNOU:()=>lt,isObject:()=>NB,isString:()=>wc,isTenantIdCommercial:()=>Tx,ocpsBooleanToString:()=>Zp,ocpsEnumToString:()=>oa,overrideValues:()=>Nu,scrubContent:()=>bx});var wB=X(na()),{guid:Qp,overrideValues:Nu,isNOU:lt,isBoolean:Jp,isString:wc,isObject:NB,isEnumValue:vW}=wB.Utils;function _x(e){return typeof e=="number"}function Cx(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function OB(e){return wc(e)&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}function ri(e,t){if(!NB(e))throw t+" is not an object: "+e}function Fn(e,t){if(!_x(e))throw t+" is not a number: "+e}function tr(e,t){if(!wc(e))throw t+" is not a string: "+e}function Ht(e,t){if(!Jp(e))throw t+" is not a boolean: "+e}function hW(e,t){if(!OB(e))throw t+" is not a guid: "+e}function SS(e,t){if(!Array.isArray(e))throw t+" is not an array: "+e}function Xp(e,t,r){if(!_x(e)||!vW(e,t))throw r+" is not an enum: "+e}function Ex(e,t){if(!wc(e)&&!_x(e)&&!Jp(e))throw t+" is not a string or number or boolean: "+e}function $p(e,t){if(lt(e)&&typeof e!="function")throw t+" is not a function: "+e}function Ou(e,t){let r=new Promise((n,i)=>{let o=setTimeout(()=>{clearTimeout(o),i("Timed out in "+e+"ms.")},e)});return Promise.race([t,r])}function Tx(e){if(lt(e)||e===""||!OB(e))return!1;let t=e.toLowerCase();return!(t==="00000000-0000-0000-0000-000000000000"||t==="9188040d-6c67-4c5b-b112-36a304b66dad"||t==="84df9e7f-e9f6-40af-b435-aaaaaaaaaaaa")}function Zp(e){return e===void 0?"Not Configured":e?"Enabled":"Disabled"}function oa(e){if(!e)return"Not Configured";switch(e){case 2:return"Disabled";case 1:return"Enabled";default:return"Not Configured"}}function eg(e){let t;switch(e){case 1:t=7e3;break;case 2:t=14e3;break;case 3:t=21e3;break;case 4:t=28e3;break;case 5:t=6e4;break;case 6:t=9e4;break;case 7:t=12e4;break;case 8:t=15e4;break;default:t=0;break}return t}function bx(e){if(!e)return"";let t=[/<\?XML[\s\S]*?<\/\?XML>/gi,/<\?XML[\s\S]*?\?>/gi,/<[^>]*>[\s\S]*?<\/[^>]*>/gi,/<[^>]*>/g,/]*>/gi,/<ASP:[\s\S]*?<\/ASP:[^>]*>/gi,/MIME-VERSION:.*?([,\n]|$)/gi,/{\\RTF[\s\S]*?}/gi,/ACCESS_TOKEN:.*?([.,\n]|$)/gi,/AWSACCESSKEYID:.*?([.,\n]|$)/gi,/([A-Z0-9_]|\.|%2E){1,50}(@|_AT_|%40)([A-Z0-9_]{1,50}(\.|_|%2E))+(COM|ORG|GOV|EDU)/gi,/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/gi],r=e;return t.forEach(n=>{r=r.replace(n,"redacted")}),r.replace(/\s+/g," ").trim()}var Wr;(function(e){e[e.None=0]="None",e[e.Css=1]="Css",e[e.Strings=2]="Strings"})(Wr||(Wr={}));var rr;(function(e){e[e.Undefined=0]="Undefined",e[e.MinorWithoutParentalConsent=1]="MinorWithoutParentalConsent",e[e.MinorWithParentalConsent=2]="MinorWithParentalConsent",e[e.Adult=3]="Adult",e[e.NotAdult=4]="NotAdult",e[e.MinorNoParentalConsentRequired=5]="MinorNoParentalConsentRequired"})(rr||(rr={}));var Kr;(function(e){e[e.MSA=0]="MSA",e[e.AAD=1]="AAD",e[e.Unauthenticated=2]="Unauthenticated"})(Kr||(Kr={}));var vA=X(Ee());var kB=X(je());var nr=X(Ee());var DB=X(Ee());var _S=xu,tg={};function SW(e){try{var t=JSON.parse(e);return t}catch(r){return null}}function _t(e,t){try{if(tg={},U2){var r=ls(Mr.DynamicSettings);if(!_S(r)){var n=SW(r);_S(n)||(n.expiryDate=typeof n.expiryDate=="string"?new Date(n.expiryDate):n.expiryDate,tg[n.contentType]=n)}}if(tg.isNOU)return t;var i=tg.DynamicSettings&&tg.DynamicSettings.content;if(!_S(i)&&Object.prototype.hasOwnProperty.call(i,e)&&!_S(i[e])){var o=i[e];if(typeof t=="number"&&typeof o!="number"){if(typeof o=="string"){var a=o.indexOf(".")===-1?parseInt(o,10):parseFloat(o);return isNaN(a)?t:a}return t}return o}}catch(s){De().error("Common_Error",{ErrorMessage:"Error reading dynamic setting "+(s&&s.message),Type:e})}return t}var Nc=class e{constructor(t,r){if(!t)throw new Error("name must not be null");if(!r)throw new Error("version must not be null");this.name=t,this.version=r}getName(){return this.name}getPlatform(){return e.PLATFORM}getVersion(){return this.version}};Nc.PLATFORM="Web";var rg=class{constructor(t){if(!t)throw new Error("id must not be null");this.id=t}getId(){return this.id}},ng=class{constructor(t,r,n,i){this.id=t,this.locale=r,this.sessionId=n,this.version=i}getId(){return this.id}getLocale(){return this.locale}getSessionId(){return this.sessionId}getVersion(){return this.version}},ig=class e{constructor(t,r,n,i){if(!t)throw new Error("name must not be null");if(!r)throw new Error("sessionId must not be null");if(!n&&n!==0||n<0)throw new Error("sequence must not be negative");this.name=t,this.id=r+e.ID_DELIMITER+n,this.sequence=n,this.sampleRate=i}getName(){return this.name}getId(){return this.id}getSource(){return e.SOURCE}getSchemaVersion(){return e.SCHEMA_VERSION}getSequence(){return this.sequence}getSampleRate(){return this.sampleRate}};ig.ID_DELIMITER=".";ig.SOURCE="MsoThin";ig.SCHEMA_VERSION=1;var og=class{constructor(t){this.audienceGroup=t}getAudienceGroup(){return this.audienceGroup}},ag=class{constructor(t,r){this.name=t,this.version=r}getName(){return this.name}getVersion(){return this.version}},sg=class{constructor(t){this.id=t}getId(){return this.id}};var Oc=class e{constructor(t,r,n,i,o,a,s,u,l,c=H0){if(!t)throw new Error("tenantToken must not be null");if(!i)throw new Error("app must not be null");if(!n)throw new Error("telemetrySink must not be null");if(!r)throw new Error("namespace must not be null");if(!o)throw new Error("session must not be null");this.namespace=r,this.oesApp=i,this.oesSession=o,this.oesHost=a,this.oesRelease=s,this.oesBrowser=u,this.oesDevice=l,this.sequence=1,this.oteljsTelemetryLogger=new RR(void 0,this.getStaticPersistentDataFields(this.oesApp,this.oesHost,this.oesRelease,this.oesBrowser,this.oesDevice)),this.oteljsTelemetryLogger.setTenantToken(r,t,c),this.oteljsTelemetryLogger.addSink(n)}logEvent(t,r,n=1){if(!t)throw new Error("eventName must not be null");let i=this.createOTelTelemetryEvent(t,r,n);this.oteljsTelemetryLogger.sendTelemetryEvent(i),this.sequence++}flushQueue(){this.oteljsTelemetryLogger.flushQueue()}addDynamicPersistentProperties(t,r){lt(this.oesSession)||t.dataFields.push(Re("Session.Id",this.oesSession.getId())),lt(this.sequence)||t.dataFields.push(dd("Event.Sequence",this.sequence)),lt(r)||t.dataFields.push(dd("Event.SampleRate",r))}createOTelTelemetryEvent(t,r,n){let i={eventName:this.namespace+e.EVENT_NAME_DELIMITER+t,eventFlags:{diagnosticLevel:110},dataFields:[]};for(let o in r)if(Object.prototype.hasOwnProperty.call(r,o)){let a=r[o],s;switch(typeof a){case"string":s=Re(o,bx(a));break;case"number":s=dd(o,a);break;case"boolean":s=Ev(o,a);break;default:continue}lt(s)||i.dataFields.push(s)}return this.addDynamicPersistentProperties(i,n),i}getStaticPersistentDataFields(t,r,n,i,o){let a=[];return lt(t)||(a.push(Re("App.Name",t.getName())),a.push(Re("App.Platform",t.getPlatform())),a.push(Re("App.Version",t.getVersion()))),lt(n)||a.push(Re("Release.AudienceGroup",n.getAudienceGroup())),lt(o)||a.push(Re("Device.Id",o.getId())),lt(r)||(a.push(Re("Host.Id",r.getId())),a.push(Re("Host.Locale",r.getLocale())),a.push(Re("Host.SessionId2",r.getSessionId())),a.push(Re("Host.Version",r.getVersion()))),lt(i)||(a.push(Re("Browser.Name",i.getName())),a.push(Re("Browser.Version",i.getVersion()))),a}};Oc.EVENT_NAME_DELIMITER=".";var Dc=class{static create(t,r,n,i,o,a,s,u,l){return new Oc(t,r,n,i,o,a,s,u,l)}};var Ix,CS,xx,Ax,ES,wx,Nx,TS,bS,Ox,Dx,IS,xS,Px,Fx,Rx,Lx,Ux,kx,ug,AS,Mx,Bx,wS,Gx,Vx,NS,Hx,zx,Du,OS,jx,qx,Yx,Wx,Kx,Qx,DS,Jx,Xx,$x,Zx,eA,tA,rA,PS,nA,iA,oA,aA,sA,O=class{};O.InApp=(Ix=class{},Ix.UI=(CS=class{},CS.Picker=(xx=class{},xx.Shown=(Ax=class{},Ax.VALUE={name:"InApp_UI_Picker_Shown"},Ax),xx),CS.Form=(ES=class{},ES.Shown=(wx=class{},wx.VALUE={name:"InApp_UI_Form_Shown"},wx),ES.Submit=(Nx=class{},Nx.VALUE={name:"InApp_UI_Form_Submit"},Nx),ES),CS),Ix);O.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED={name:"Survey_Floodgate_CampaignLoad_Failed"};O.SURVEY_FLOODGATE_FILEREAD_FAILED={name:"Survey_Floodgate_FileRead_Failed"};O.SURVEY_FLOODGATE_FILEWRITE_FAILED={name:"Survey_Floodgate_FileWrite_Failed"};O.SURVEY_FLOODGATE_TRIGGERMET={name:"Survey_Floodgate_TriggerMet"};O.SURVEY_FLOODGATE_USERSELECTED={name:"Survey_Floodgate_UserSelected"};O.SURVEY_FLOODGATE_SHOWCUSTOMSURVEY_FAILED={name:"Survey_Floodgate_ShowCustomSurvey_Failed"};O.SURVEY_UI_RENDER_CV_SURVEY_COMPLETED={name:"Survey_UI_Render_CVSurvey_Completed"};O.SURVEY_UI_FORM_SHOWN={name:"Survey_UI_Form_Shown"};O.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED={name:"Survey_UI_Form_Dispatcher_Implemented"};O.SURVEY_UI_FORM_SUBMIT={name:"Survey_UI_Form_Submit"};O.SURVEY_UI_FORM_SECONDARY_SUBMIT={name:"Survey_UI_Form_Secondary_Submit"};O.SURVEY_UI_FORM_SUBMIT_ERROR={name:"Survey_UI_Form_Submit_Error"};O.SURVEY_UI_FORM_USERCLOSED={name:"Survey_UI_Form_UserClosed"};O.SURVEY_UI_THANKYOUPAGE_USERCLOSED={name:"Survey_UI_ThankYouPage_UserClosed"};O.SURVEY_UI_FORM_NO_RETURN_TYPE={name:"Survey_UI_Form_No_Return_Type"};O.SURVEY_UI_PROMPT_AUTODISMISSED={name:"Survey_UI_Prompt_AutoDismissed"};O.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED={name:"Survey_UI_ThankYouPage_AutoDismissed"};O.SURVEY_UI_PROMPT_SHOWN={name:"Survey_UI_Prompt_Shown"};O.SURVEY_UI_PROMPT_USERCLOSED={name:"Survey_UI_Prompt_UserClosed"};O.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED={name:"Survey_UI_AdditionalPrompt_UserClosed"};O.SURVEY_UI_PROMPT_CLICKED={name:"Survey_UI_Prompt_Clicked"};O.SURVEY_UI_ADDITIONALPROMPT_CLICKED={name:"Survey_UI_AdditionalPrompt_Clicked"};O.SURVEY_UI_REDIRECTIONFAILURE={name:"Survey_UI_RedirectionFailure"};O.GOVERNANCE_SERVICEFAILURE={name:"Gorvenance_ServiceFailure"};O.GOVERNANCE_SERVICERESULT={name:"Gorvenance_ServiceResult"};O.DYNAMICTRANSPORT_POST_ERROR={name:"DynamicTransport_Post_Error"};O.FEEDBACK_SURVEYSDISABLED_AADC={name:"Feedback_SurveysDisabled_AADC"};O.SURVEY_UI_DISABLED_AADC={name:"Survey_UI_Prevented_AADC"};O.PERSONALIZER_SERVICEREWARDRESULT={name:"Personalizer_ServiceRewardResult"};O.PERSONALIZER_CLIENTFAILURE={name:"Personalizer_ClientFailure"};O.APPDATA_JSON_PARSE_ERROR={name:"AppData_JSON_Parse_Error"};O.SURVEY_RENDER_OVERRIDE_ERROR={name:"Survey_Render_Override_Error"};O.SURVEY_RENDER_OVERRIDE_SUCCESS={name:"Survey_Render_Override_Success"};O.SURVEY_EVENT_KEY_ERROR={name:"Survey_Event_Key_Error"};O.SURVEY_RENDER_CONTEXT_ERROR={name:"Survey_Render_Context_Error"};O.DYNAMICUX_INITIALIZATION_FAILURE={name:"DynamicUx_Intialization_Failure"};O.DYNAMICUX_LOAD_SUCCESS={name:"DynamicUx_Load_Success"};O.DYNAMICUX_LOAD_FAILURE={name:"DynamicUx_Load_Failure"};O.DYNAMICUX_LOAD_PRELOAD={name:"DynamicUx_Load_Preload"};O.DYNAMICUX_BOOSTSTRAPPER_FAILURE={name:"DynamicUx_BoostStrapper_Failure"};O.SURVEY_TRIGGER_DYNAMICUX_ONLOAD={name:"Survey_Trigger_DynamicUx_OnLoad"};O.SURVEY_TRIGGER_DYNAMICUX_FAILURE={name:"Survey_Trigger_DynamicUx_Failure"};O.SURVEY_LAUNCHER_FAILURE={name:"Survey_Launcher_Failure"};O.SURVEY_LAUNCHER_SHOWSURVEY_FAILURE={name:"Survey_Launcher_ShowSurvey_Failure"};O.SURVEY_UI_CREATE={name:"Survey_UI_Create"};O.TRUSTEDTYPES_URL_BLOCKED={name:"TrustedTypes_Url_Blocked"};O.TESTFEATURESTATUSCALLBACK={name:"Test_FeatureStatus_Callback"};O.Shared=(TS=class{},TS.Upload=(bS=class{},bS.Failed=(Ox=class{},Ox.VALUE={name:"Shared_Upload_Failed"},Ox),bS.Prevented=(Dx=class{},Dx.VALUE={name:"Shared_Upload_Prevented_AADC"},Dx),bS),TS.Screenshot=(IS=class{},IS.Render=(xS=class{},xS.Failed=(Px=class{},Px.VALUE={name:"Shared_Screenshot_Render_Failed"},Px),xS.Success=(Fx=class{},Fx.VALUE={name:"Shared_Screenshot_Render_Success"},Fx),xS),IS.GetContent=(Rx=class{},Rx.Failed=(Lx=class{},Lx.DefaultImage=(Ux=class{},Ux.Returned=(kx=class{},kx.VALUE={name:"Shared_Screenshot_GetContent_Failed_DefaultImage_Returned"},kx),Ux),Lx),Rx),IS),TS);O.WebSurfaces=(ug=class{},ug.Common=(AS=class{},AS.Error=(Mx=class{},Mx.VALUE={name:"WebSurfaces_Common_Error"},Mx),AS.Info=(Bx=class{},Bx.VALUE={name:"WebSurfaces_Common_Info"},Bx),AS),ug.CampaignMetadataAggregator=(wS=class{},wS.Error=(Gx=class{},Gx.VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Error"},Gx),wS.Requests=(Vx=class{},Vx.VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Requests"},Vx),wS),ug.SetCampaignAction=(NS=class{},NS.Error=(Hx=class{},Hx.VALUE={name:"WebSurfaces_SetCampaignAction_Error"},Hx),NS.Requests=(zx=class{},zx.VALUE={name:"WebSurfaces_SetCampaignAction_Requests"},zx),NS),ug);O.UserFacts=(Du=class{},Du.Common=(OS=class{},OS.Error=(jx=class{},jx.VALUE={name:"UserFacts_Common_Error"},jx),OS.Info=(qx=class{},qx.VALUE={name:"UserFacts_Common_Info"},qx),OS),Du.LocalFact=(Yx=class{},Yx.Error=(Wx=class{},Wx.VALUE={name:"UserFacts_LocalFact_Error"},Wx),Yx),Du.Messaging=(Kx=class{},Kx.Requests=(Qx=class{},Qx.VALUE={name:"UserFacts_Messaging_Requests"},Qx),Kx),Du.AugLoop=(DS=class{},DS.Requests=(Jx=class{},Jx.VALUE={name:"UserFacts_AugLoop_Requests"},Jx),DS.Error=(Xx=class{},Xx.VALUE={name:"UserFacts_AugLoop_Error"},Xx),DS),Du.Provider=($x=class{},$x.Info=(Zx=class{},Zx.VALUE={name:"UserFacts_Provider_Summary"},Zx),$x),Du);O.FetchCampaignDefinition=(eA=class{},eA.Service=(tA=class{},tA.Error=(rA=class{},rA.VALUE={name:"FetchCampaignDefinition_Service_Error"},rA),tA),eA);O.Common=(PS=class{},PS.Error=(nA=class{},nA.VALUE={name:"Common_Error"},nA),PS.Info=(iA=class{},iA.VALUE={name:"Common_Info"},iA),PS);O.Centro=(oA=class{},oA.Logging=(aA=class{},aA.Error=(sA=class{},sA.VALUE={name:"Centro_Logging_Error"},sA),aA),oA);var{isNOU:FS}=ni,_W="Office.Feedback",uA="Office.Engagement",PB,FB,RB;function lA(e,t,r,n,i){let o=e.telemetryGroup?e.telemetryGroup:{},a=e.webGroup?e.webGroup:{};PB=new ds(Dc.create(Pu.getTenantToken(e.environment),_W,e.telemetrySink,new Nc(t,r),new rg(n),new ng(e.appId.toString(),e.originalLocale,e.sessionId,e.build),new og(o.audienceGroup),new ag(a.browser,a.browserVersion),new sg(o.deviceId)),i,e),FB=new RS(Dc.create(Pu.getTenantTokenByNamespace(uA),uA,e.telemetrySink,new Nc(t,r),new rg(n),new ng(e.appId.toString(),e.originalLocale,e.sessionId,e.build),new og(o.audienceGroup),new ag(a.browser,a.browserVersion),new sg(o.deviceId))),RB=e.environment}function ee(){return PB}function LB(){return FB}var ds=class e{constructor(t,r,n){if(this.SAMPLING_RESULT=Math.random(),!t)throw new Error("telemetryLogger must not be null");this.telemetryLogger=t,this.eventSampling=r,this.initOptionsCommon=n}flushQueue(){this.telemetryLogger.flushQueue()}logEvent(t,r,n,i){var o,a,s,u,l,c;if(!t)throw new Error("eventId must not be null");let f;if(this.isEventSampled(t.name)?f=this.getEventSamplingRate(t.name):i!==void 0&&(f=i),FS(r)||r===0){if(RB===0){let d="logSeverity must not be null or none";this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",e.EVENT_NAME,d),this.telemetryLogger.logEvent(e.EVENT_NAME,{ErrorMessage:d},f)}return!1}return n=n||{},n[e.EVENT_ID]=t.name,n[e.IS_DYNAMIC_UX_ENABLED]=(s=(a=(o=C().getFloodgateInitOptions())===null||o===void 0?void 0:o.dynamicUxConfig)===null||a===void 0?void 0:a.enabled)!==null&&s!==void 0?s:!1,n[e.IS_DYNAMIC_CAMPAIGN_ENABLED]=(c=(l=(u=C().getFloodgateInitOptions())===null||u===void 0?void 0:u.dynamicCampaignConfig)===null||l===void 0?void 0:l.enabled)!==null&&c!==void 0?c:!1,(this.isLoggingEnabled(r,f)||this.isEventTelemetryEnabled(t.name))&&(f=f!=null?f:e.DEFAULT_SAMPLE_RATE,this.telemetryLogger.logEvent(e.EVENT_NAME,n,f)),this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",e.EVENT_NAME,r,n),!0}logLocal(t,...r){this.isLoggingEnabled(t)&&this.isConsoleLogEnabled&&console&&console.log("LPP FG: ",t,r)}getUserSamplingRate(){return this.SAMPLING_RESULT}isEventTelemetryEnabled(t){var r,n,i,o;try{if(!this.dynamicLogSettings)return!1;let a=(n=(r=this.initOptionsCommon)===null||r===void 0?void 0:r.appId)===null||n===void 0?void 0:n.toString(),s=(o=(i=this.initOptionsCommon)===null||i===void 0?void 0:i.originalLocale)===null||o===void 0?void 0:o.toLowerCase(),u="content_".concat(t),l=this.dynamicLogSettings["".concat(u,"_").concat(a,"_").concat(s)]||this.dynamicLogSettings["".concat(u,"_").concat(a)]||this.dynamicLogSettings["".concat(u,"_").concat(s)]||this.dynamicLogSettings[u];return l==null?void 0:l.isEnabled}catch(a){this.isConsoleLogEnabled&&console.log("FG: Error checking for dynamic log settings: ",a)}return!1}isLoggingEnabled(t,r){if(FS(this.logLevel)){let i=this.getCurrentLogLevel();this.logLevel=FS(i)?2:i}let n=r!=null?r:e.DEFAULT_SAMPLE_RATE;return(t<=this.logLevel||this.logLevel!==0&&r!==void 0)&&this.SAMPLING_RESULT<=n&&n!==0}getCurrentLogLevel(){try{let t=typeof URLSearchParams<"u"&&new URLSearchParams(window.location.search)||void 0,r=t&&t.get("obfconsolelog");if(!r){let i=typeof document<"u"&&document.referrer;r=i&&i.indexOf("obfconsolelog")!==-1}r&&(this.isConsoleLogEnabled=!0);let n=t&&t.get("obfloglevel");if(!FS(n))return this.isConsoleLogEnabled=!0,parseInt(n,10);if(ii.isStorageAvailable()){let o=new ii().read(DB.FloodgateStorageProviderFileType.LogLevelSettings);o||(o=_t("LogLevelSettings",""));let a=o&&this.parseObject(o);if(a){this.dynamicLogSettings=a;let s=a.content;if(this.initOptionsCommon){let u=this.initOptionsCommon.appId&&this.initOptionsCommon.appId.toString(),l=this.initOptionsCommon.originalLocale&&this.initOptionsCommon.originalLocale.toLowerCase();s=a["content_".concat(u,"_").concat(l)]||a["content_".concat(u)]||a["content_".concat(l)]||a.content}if(s)return s.consoleLog&&(this.isConsoleLogEnabled=!0),s.logLevel}}}catch(t){this.isConsoleLogEnabled&&console.log("Error while getting the current log level: ",t);return}return null}parseObject(t){try{return JSON.parse(t)}catch(r){return this.isConsoleLogEnabled&&console.log("Error while parsing the json string for log level: ",r),null}}getEventSamplingRate(t){let r=1;return this.eventSampling.event&&t in this.eventSampling.event&&(r=this.eventSampling.event[t]),r}isEventSampled(t){return!!(this.eventSampling.event&&t in this.eventSampling.event)}};ds.EVENT_NAME="SDK";ds.EVENT_ID="EventId";ds.DEFAULT_SAMPLE_RATE=1;ds.IS_DYNAMIC_UX_ENABLED="IsDynamicUXEnabled";ds.IS_DYNAMIC_CAMPAIGN_ENABLED="IsDynamicCampaignEnabled";var RS=class e{constructor(t){if(!t)throw new Error("telemetryLogger must not be null");this.telemetryLogger=t}logUserFact(t,r){if(!t)throw new Error("user fact must not be null");if(!r)throw new Error("fact value must not be null");let n={[e.FACTVALUE_DATA_PROPERTY]:r};this.telemetryLogger.logEvent(t,n),ee().logLocal(3,t,n)}};RS.FACTVALUE_DATA_PROPERTY="FactValue";var Pu=class e{static getTenantToken(t){return t===0?e.TENANT_TOKEN_FEEDBACK_PRODUCTION:e.TENANT_TOKEN_FEEDBACK_PRE_PRODUCTION}static getTenantTokenByNamespace(t){return t===uA?e.TENANT_TOKEN_ENGAGEMENT:null}};Pu.TENANT_TOKEN_ENGAGEMENT="ceda5b13e30f4f9da3617f64bfcb9a6b-7d7a3ec0-00b0-4642-9986-18cef650aa81-7263";Pu.TENANT_TOKEN_FEEDBACK_PRODUCTION="d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360";Pu.TENANT_TOKEN_FEEDBACK_PRE_PRODUCTION="2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736";var cA={[nr.FloodgateStorageProviderFileType.CampaignDefinitions]:"obf-CampaignDefinitions",[nr.FloodgateStorageProviderFileType.CampaignStates]:"obf-CampaignStates",[nr.FloodgateStorageProviderFileType.FloodgateSettings]:"obf-FloodgateSettings",[nr.FloodgateStorageProviderFileType.GovernedChannelStates]:"obf-GovernedChannelStates",[nr.FloodgateStorageProviderFileType.SurveyActivationStats]:"obf-SurveyActivationStats",[nr.FloodgateStorageProviderFileType.SurveyEventActivityStats]:"obf-SurveyEventActivityStats",[nr.FloodgateStorageProviderFileType.TmsCache_CampaignContent]:"obf-TmsCampaignContent",[nr.FloodgateStorageProviderFileType.TmsCache_MessageMetadata]:"obf-TmsMessageMetadata",[nr.FloodgateStorageProviderFileType.TmsCache_UserGovernance]:"obf-TmsUserGovernance",[nr.FloodgateStorageProviderFileType.Tms_DynamicSettings]:"obf-TmsDynamicSettings",[nr.FloodgateStorageProviderFileType.LogLevelSettings]:"obf-LogLevelSettings",[nr.FloodgateStorageProviderFileType.UserFacts]:"obf-UserFacts",[nr.FloodgateStorageProviderFileType.DebugOverrides]:"obf-DebugOverrides",[nr.FloodgateStorageProviderFileType.DynamicCampaignDefinitions]:"obf-DynamicCampaignDefinitions",[nr.FloodgateStorageProviderFileType.FeatureGateOverrides]:"obf-FeatureGateOverrides"},ii=class{static isStorageAvailable(){try{let t="__storage_test__";return Ji().localStorage.setItem(t,t),Ji().localStorage.removeItem(t),!0}catch(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ji().localStorage.length!==0}}static safeReadObject(t,r=void 0){if(!(t in nr.FloodgateStorageProviderFileType))return r;try{let n=cA[t],i=Ji().localStorage.getItem(n),o=i&&(i[0]==="{"||i[0]==="[")?JSON.parse(i):i;return o!=null?o:r}catch(n){}return r}fileLock(t){}fileUnlock(t){}read(t){if(!(t in nr.FloodgateStorageProviderFileType))return"";let r=cA[t],n;try{n=Ji().localStorage.getItem(r)}catch(i){return ee().logEvent(O.SURVEY_FLOODGATE_FILEREAD_FAILED,2,{ErrorMessage:i.toString(),FileName:r}),""}return n}write(t,r){if(!(t in nr.FloodgateStorageProviderFileType))return;let n=cA[t];try{Ji().localStorage.setItem(n,r)}catch(i){ee().logEvent(O.SURVEY_FLOODGATE_FILEWRITE_FAILED,2,{ErrorMessage:i.toString(),FileName:n});return}}};var UB=X(Ee()),lg=null;function LS(e){return lg||(lg=ii.safeReadObject(UB.FloodgateStorageProviderFileType.FeatureGateOverrides)||{}),e&&(lg==null?void 0:lg[e])}var cg=class{constructor(t){this.featureStatusCallback=t!=null?t:null}getStringFeatureStatus(t,r=""){if(!this.featureStatusCallback)return r;try{let n=LS(t);return n?n.toString():this.featureStatusCallback.getStringFeatureStatus(t,r)}catch(n){return r}}getIntFeatureStatus(t,r=0){if(!this.featureStatusCallback)return r;try{let n=LS(t);return n?parseInt(n.toString()):this.featureStatusCallback.getIntFeatureStatus(t,r)}catch(n){return r}}getBoolFeatureStatus(t,r=!1){if(!this.featureStatusCallback)return r;try{let n=LS(t);return n?n.toString()==="true":this.featureStatusCallback.getBoolFeatureStatus(t,r)}catch(n){return r}}getJsonObjectStringFeatureStatus(t,r=null){if(!this.featureStatusCallback)return r;try{let n=this.getStringFeatureStatus(t,"");return n?(0,kB.safeParseObject)(n,r):r}catch(n){return r}}};var Pc=class{error(t,...r){ee().logEvent({name:t},2,r)}info(t,...r){ee().logEvent({name:t},3,r)}warn(t,...r){ee().logEvent({name:t},3,r)}trace(t,...r){ee().logEvent({name:t},3,r)}event(t,r,n=1){ee().logEvent({name:t},1,r,n)}userFactEvent(t,r){LB().logUserFact(t,r)}};var fA="https://admin.microsoft.com";var dA="obf-FloodgateDynamicUxContainer",MB="centro.hvc.floodgate.initOptions",BB="centro.hvc.floodgate.theme",GB="centro.hvc.feature",pA="floodgate",US="host-floodgate-websdk",VB="FloodgateWebSDK";var HB="petrol",zB="v1";var H=class{};H.Alt="alt";H.AriaLabel="aria-label";H.AriaSelected="aria-selected";H.AriaOrientation="aria-orientation";H.AriaExpanded="aria-expanded";H.AriaControls="aria-controls";H.AriaHasPopups="aria-haspopup";H.AriaModal="aria-modal";H.AriaLabelledBy="aria-labelledby";H.AriaDescribedBy="aria-describedby";H.AriaLevel="aria-level";H.Class="class";H.DataHtml2CanvasIgnore="data-html2canvas-ignore";H.Disabled="disabled";H.Fill="fill";H.For="for";H.Preview="preview";H.Form="form";H.Height="height";H.HRef="href";H.Id="id";H.MaxLength="maxlength";H.Name="name";H.Placeholder="placeholder";H.Points="points";H.Rel="rel";H.Role="role";H.Source="src";H.Stroke="stroke";H.Style="style";H.TabIndex="tabindex";H.Target="target";H.Transform="transform";H.Type="type";H.Value="value";H.ViewBox="viewBox";H.Width="width";H.xlinkHref="xlink:href";H.X="x";H.Y="y";var Ie=class{};Ie.BlankWindow="_blank";Ie.Button="button";Ie.Dialog="dialog";Ie.Tab="tab";Ie.TabList="tablist";Ie.TabPanel="tabpanel";Ie.Checkbox="checkbox";Ie.Checked="checked";Ie.False="false";Ie.Zero="0";Ie.Polite="polite";Ie.Radio="radio";Ie.Submit="submit";Ie.ScreenshotPreview="ScreenshotPreview";Ie.Text="text";Ie.TextAreaMaxLength="1000";Ie.True="true";Ie.Unchecked="unchecked";Ie.NoReferrer="noreferrer";Ie.AriaOrientationValueVertical="vertical";var gA=class{};gA.CLCID="CLCID";var A=class{};A.AriaLiveTemplate="obf-AriaLiveTemplate";A.CheckBox="obf-CheckBox";A.FontTitle="obf-FontTitle";A.CloseButton="obf-CloseButton";A.FontSubtitle="obf-FontSubtitle";A.FontText="obf-FontText";A.FontSubText="obf-FontSubText";A.FontSubSubText="obf-FontSubSubText";A.Hidden="obf-Hidden";A.Link="obf-Link";A.MarginLeft60px="obf-MarginLeft60px";A.MarginLeft180px="obf-MarginLeft180px";A.NarrowLayout="obf-NarrowLayout";A.PrivacyStatementLinkDiv="obf-PrivacyStatementLinkDiv";A.PrivacyStatementLinkDivEudbUx="obf-PrivacyStatementLinkDivEudbUx";A.Rtl="obf-Rtl";A.Spinner="obf-Spinner";A.SpinnerCircle="obf-SpinnerCircle";A.SubmitButton="obf-SubmitButton";A.CancelButton="obf-CancelButton";A.TextInput="obf-TextInput";A.Visible="obf-Visible";A.RequiredAsterisk="obf-RequiredAsterisk";A.Rating="obf-Rating";A.RatingGraphic="obf-RatingGraphic";A.RatingGraphicFilled="obf-RatingGraphic-Filled";A.ChoiceGroup="obf-ChoiceGroup";A.ChoiceGroupIcon="obf-ChoiceGroupIcon";A.OverallAnchor="obf-OverallAnchor";A.OverallAnchorActive="obf-OverallAnchorActive";A.OverallImage="obf-OverallImage";A.OverallText="obf-OverallText";A.SingleLayout="obf-SingleLayout";A.ShowRightBorder="obf-ShowRightBorder";A.SlideLeft="obf-slideLeft";A.TextAlignLeft="obf-TextAlignLeft";A.FormContainer="obf-FormContainer";A.FormWideContainer="obf-FormWideContainer";A.ThanksPanelTitle="obf-ThanksPanelTitle";A.ThanksPanelMessage="obf-ThanksPanelMessage";A.FormQuestionMiddleText="obf-FormQuestionMiddleText";A.FormMiddleText="obf-FormMiddleText";A.FormCategoriesDropdown="obf-FormCategoriesDropdown";A.FormComment="obf-FormComment";A.FormRatingContainer="obf-FormRatingContainer";A.FormRatingLabel="obf-FormRatingLabel";A.FormRating="obf-FormRating";A.FormEmailContainer="obf-FormEmailContainer";A.FormEmailInput="obf-FormEmailInput";A.FormEmailTextBox="obf-FormEmailTextBox";A.FormEmailCheckBox="obf-FormEmailCheckBox";A.FormEmailLabel="obf-FormEmailLabel";A.FormBottomContainer="obf-FormBottomContainer";A.FormSubmitButtonContainer="obf-FormSubmitButtonContainer";A.FormScreenshotContainer="obf-FormScreenshotContainer";A.FormScreenshotLabel="obf-FormScreenshotLabel";A.FormScreenshotCheckbox="obf-FormScreenshotCheckbox";A.FormScreenshotPreview="obf-FormScreenshotPreview";A.FormPrivacyConsentText="obf-TFormPrivacyConsentText";A.TFormEmailCheckbox="obf-TFormEmailCheckbox";A.TFormEmailLabel="obf-TFormEmailLabel ";A.EmailCheckBoxLabel="obf-EmailCheckBoxLabel";A.Toast="obf-Toast";A.ToastZoom="obf-ToastZoom";var N=class{};N.CloseButton="obf-CloseButton";N.ColumnSeparatorDiv="obf-ColumnSeparatorDiv";N.OverallAnchorsContainer="obf-OverallAnchorsContainer";N.OverallFrownAnchor="obf-OverallFrownAnchor";N.OverallFrownDiv="obf-OverallFrownDiv";N.OverallFrownImage="obf-OverallFrownImage";N.OverallFrownText="obf-OverallFrownText";N.OverallSmileAnchor="obf-OverallSmileAnchor";N.OverallSmileDiv="obf-OverallSmileDiv";N.OverallSmileImage="obf-OverallSmileImage";N.OverallSmileText="obf-OverallSmileText";N.OverallIdeaAnchor="obf-OverallIdeaAnchor";N.OverallIdeaDiv="obf-OverallIdeaDiv";N.OverallIdeaImage="obf-OverallIdeaImage";N.OverallIdeaText="obf-OverallIdeaText";N.OverallBugAnchor="obf-OverallBugAnchor";N.OverallBugDiv="obf-OverallBugDiv";N.OverallBugImage="obf-OverallBugImage";N.OverallBugText="obf-OverallBugText";N.QuestionLeftText="obf-QuestionLeftText";N.LeftFormContainer="obf-LeftFormContainer";N.LeftPanelContainer="obf-LeftPanelContainer";N.MainContainer="obf-MainContainer";N.MainContentHolder="obf-MainContentHolder";N.MiddleFormContainer="obf-MiddleFormContainer";N.OverlayBackground="obf-OverlayBackground";N.PrivacyStatementLink="obf-PrivacyStatementLink";N.PrivacyConsentText="obf-PrivacyConsentText";N.FirstTabbable="obf-FirstTabbable";N.LastTabbable="obf-LastTabbable";N.EmailCheckBox="obf-EmailCheckBox";N.RequiredAsterisk="obf-RequiredStar";N.SingleFormContainer="obf-SingleFormContainer";N.SingleFormQuestionMiddleText="obf-SingleFormQuestionMiddleText";N.SingleFormCategoriesDropdown="obf-SingleFormCategoriesDropdown";N.SingleFormComment="obf-SingleFormComment";N.SingleFormEmailInput="obf-SingleFormEmailInput";N.SingleFormRating="obf-SingleFormRating";N.SingleFormScreenshotCheckbox="obf-SingleFormScreenshotCheckbox";N.SingleFormScreenshotPreview="obf-SingleFormScreenshotPreview";N.SingleFormSubmitButton="obf-SingleFormSubmitButton";N.SingleFormCancelButton="obf-SingleFormCancelButton";N.SingleFormSubmitButtonSpinner="obf-SingleFormSubmitButtonSpinner";N.BasicFormContainer="obf-BasicFormContainer";N.BasicFormQuestionMiddleText="obf-BasicFormQuestionMiddleText";N.BasicFormCategoriesDropdown="obf-BasicFormCategoriesDropdown";N.BasicFormComment="obf-BasicFormComment";N.BasicFormEmailInput="obf-BasicFormEmailInput";N.BasicFormRating="obf-BasicFormRating";N.BasicFormScreenshotCheckbox="obf-BasicFormScreenshotCheckbox";N.BasicFormScreenshotPreview="obf-BasicFormScreenshotPreview";N.BasicFormSubmitButton="obf-BasicFormSubmitButton";N.BasicFormCancelButton="obf-BasicFormCancelButton";N.BasicFormSubmitButtonSpinner="obf-BasicFormSubmitButtonSpinner";N.ThanksPanelContainer="obf-ThanksPanelContainer";N.ThanksPanelCloseButton="obf-ThanksPanelCloseButton";N.ThanksPanelDiscussion="obf-ThanksPanelDiscussion";N.ThanksPanelVerticalContainer="obf-ThanksPanelVerticalContainer";N.ThanksPanelInnerContainer="obf-ThanksPanelInnerContainer";N.ThanksPanelParagraph="obf-ThanksPanelParagraph";N.FeedbackPortalIdeaContainer="obf-FeedbackPortalIdeaContainer";N.OverallFeedbackPortalIdeaAnchor="obf-OverallFeedbackPortalIdeaAnchor";N.ToastContainer="obf-ToastContainer";N.ToastCancel="obf-ToastCancel";N.TPromptContainer="obf-TPromptContainer";N.TPromptTitle="obf-TPromptTitle";N.TPromptText="obf-TPromptText";N.TFormContainer="obf-TFormContainer";N.TFormContainerLabel="obf-TFormContainerLabel";N.TFormTitle="obf-TFormTitle";N.TFormRating="obf-TFormRating";N.TFormRatingQuestion="obf-TFormRatingQuestion";N.TFormCommentQuestion="obf-TFormCommentQuestion";N.TFormComment="obf-TFormComment";N.TFormEmailTextBox="obf-TFormEmailTextBox";N.TFormEmailCheckBox="obf-TFormEmailCheckBox";N.TFormEmailLabel="obf-TFormEmailLabel";N.TFormSubmitButton="obf-TFormSubmitButton";N.TFormCancelButton="obf-TFormCancelButton";N.TFormSubmitButtonSpinner="obf-TFormSubmitButtonSpinner";N.TFormSubmitButtonContainer="obf-TFormSubmitButtonContainer";var Fc=class{};Fc.Esc=27;Fc.Tab=9;var he=class{};he.Anchor="A";he.Button="button";he.Defs="defs";he.Div="div";he.FieldSet="fieldset";he.Form="form";he.Img="img";he.Input="input";he.Label="label";he.Legend="legend";he.Option="option";he.Polygon="polygon";he.Select="select";he.Span="span";he.Svg="svg";he.TextArea="textarea";he.Use="use";var mA=class{};mA.Button="Button";var Rc=class{};Rc.PrivacyStatementLink="https://go.microsoft.com/fwlink/?LinkId=521839";var aa=class{};aa.No="1";aa.Yes="2";var hA=class e{constructor(){this.defaultAllowedDomains=["microsoft.com","office.com","office.net","office365.com","microsoft365.com","outlook.com","live.com","onedrive.com"],this.feedbackSubmitted=!1}static validateCategoryOptions(t){if(!t)return{show:!1};if(Ht(t.show,"categories.show"),t.customCategories){SS(t.customCategories,"categories.customCategories");for(let r of t.customCategories)if(tr(r,"custom category '"+r+"'"),r.length>20)throw"custom category '"+r+"' too long, max 20 characters."}return t}getFeedbackSubmitted(){return this.feedbackSubmitted}setFeedbackSubmitted(t){this.feedbackSubmitted=t}getCommonInitOptions(){return this.commonInitOptions}getInAppFeedbackInitOptions(){return this.inAppFeedbackInitOptions}getInAppFeedbackLaunchOptions(){return this.inAppFeedbackLaunchOptions}getFloodgateInitOptions(){return this.floodgateInitOptions}getPersonalizationInitOptions(){return this.personalizationInitOptions===void 0&&this.createPersonalizationInitOptions(),this.personalizationInitOptions}getFloodgateSurvey(){return this.floodgateSurvey}getCVRenderContext(){return this.cvRenderContext}getSdkSessionId(){return this.sdkSessionId||(this.sdkSessionId=Qp()),this.sdkSessionId}getEventSampling(){return this.eventSampling}setCommonInitOptions(t){ri(t,"passedInitOptions");let r={appId:t.appId,applicationGroup:t.applicationGroup||{},build:t.build,cid:t.cid,environment:t.environment,intlFilename:t.intlFilename,intlUrl:t.intlUrl,webSurfacesResourceBaseUrl:t.webSurfacesResourceBaseUrl,locale:t.locale,onError:t.onError,originalLocale:t.locale,primaryColour:t.primaryColour,secondaryColour:t.secondaryColour,sessionId:t.sessionId,stylesUrl:t.stylesUrl,telemetryGroup:t.telemetryGroup||{},userEmail:t.userEmail,webGroup:t.webGroup||{},eventSampling:t.eventSampling,petrolTimeout:t.petrolTimeout,isCommercialHost:t.isCommercialHost,customResourcesSetExternally:t.customResourcesSetExternally,emailPolicyValue:t.emailPolicyValue,screenshotPolicyValue:t.screenshotPolicyValue,ageGroup:t.ageGroup,authenticationType:t.authenticationType,applicationSettings:t.applicationSettings,webSurfacesSettings:t.webSurfacesSettings,privacyUrl:t.privacyUrl||Rc.PrivacyStatementLink,retentionDurationDays:t.retentionDurationDays,telemetrySink:t.telemetrySink,userfactConfig:t.userfactConfig,personalizationSettings:t.personalizationSettings,allowedDomains:t.allowedDomains};if(Fn(r.appId,"initOptions.appId"),!(r.appId%1===0&&r.appId>0))throw"initOptions.appId is not a positive integer: "+r.appId;if(r.retentionDurationDays!==void 0&&(Fn(r.retentionDurationDays,"initOptions.retentionDurationDays"),!(r.retentionDurationDays%1===0&&r.retentionDurationDays>0)))throw"initOptions.retentionDurationDays is not a positive integer: "+r.retentionDurationDays;let n=Wr.Strings|Wr.Css;if(r.customResourcesSetExternally===void 0)r.customResourcesSetExternally=Wr.None;else if(typeof r.customResourcesSetExternally!="number"||(r.customResourcesSetExternally|n)!==n)throw"initOptions.customResourcesSetExternally has an invalid value: "+r.customResourcesSetExternally;if(((r.customResourcesSetExternally&Wr.Css)===Wr.Css||r.stylesUrl)&&console.warn("WARNING: OfficeBrowserFeedback is no longer supporting the host application setting the styles for the surveys. \n			Please use the default styling."),(r.customResourcesSetExternally&Wr.Strings)!==Wr.Strings&&tr(r.intlUrl,"initOptions.intlUrl"),r.intlFilename!==void 0?tr(r.intlFilename,"initOptions.intlFilename"):r.intlFilename="officebrowserfeedbackstrings.js",Fn(r.environment,"initOptions.environment"),!(r.environment===1||r.environment===0))throw"initOptions.environment has a bad value: "+r.environment;r.userEmail!==void 0?tr(r.userEmail,"initOptions.userEmail"):r.userEmail="",r.sessionId!==void 0?tr(r.sessionId,"initOptions.sessionId"):r.sessionId="00000000-0000-0000-0000-000000000000",r.telemetryGroup.processSessionId=r.sessionId,r.cid!==void 0&&(tr(r.cid,"initOptions.cid"),r.applicationGroup.extendedManifestData=JSON.stringify({cid:r.cid})),r.build!==void 0?tr(r.build,"initOptions.build"):r.build="0.0.0.0",r.telemetryGroup.officeBuild=r.build;let i=new RegExp("^#[0-9a-f]{3}([0-9a-f]{3})?$","i");if(r.primaryColour!==void 0&&(i.test(r.primaryColour)||(r.primaryColour=void 0)),r.secondaryColour!==void 0&&(i.test(r.secondaryColour)||(r.secondaryColour=void 0)),r.locale!==void 0?(tr(r.locale,"initOptions.locale"),r.locale=AB(r.locale)):r.locale="en",r.onError===void 0&&(r.onError=o=>{}),r.petrolTimeout!==void 0&&Fn(r.petrolTimeout,"initOptions.petrolTimeout"),r.authenticationType!==void 0?Xp(r.authenticationType,Kr,"initOptions.authenticationType"):r.authenticationType=Kr.Unauthenticated,r.ageGroup!==void 0?Xp(r.ageGroup,rr,"initOptions.ageGroup"):r.ageGroup=rr.Undefined,this.eventSampling=this.parseEventSamplingOption(r.eventSampling),this.commonInitOptions=r,this.commonPolicyAllowAADC=this.determineAADCPolicy(r.authenticationType,r.ageGroup),r.isCommercialHost===void 0||r.isCommercialHost==null?r.isCommercialHost=!1:Ht(r.isCommercialHost,"initOptions.isCommercialHost"),r.emailPolicyValue===void 0)r.emailPolicyValue=0;else if(typeof r.emailPolicyValue!="number"||r.emailPolicyValue!==0&&r.emailPolicyValue!==1&&r.emailPolicyValue!==2)throw"initOptions.emailPolicyValue has an invalid value: "+r.emailPolicyValue;if(r.screenshotPolicyValue===void 0)r.screenshotPolicyValue=0;else if(typeof r.screenshotPolicyValue!="number"||r.screenshotPolicyValue!==0&&r.screenshotPolicyValue!==1&&r.screenshotPolicyValue!==2)throw"initOptions.screenshotPolicyValue has an invalid value: "+r.screenshotPolicyValue;r.privacyUrl!==void 0?tr(r.privacyUrl,"initOptions.privacyUrl"):r.privacyUrl=Rc.PrivacyStatementLink,ri(r.telemetrySink,"initOptions.telemetrySink"),r.allowedDomains!==void 0?(SS(r.allowedDomains,"initOptions.allowedDomains"),r.allowedDomains=[...this.defaultAllowedDomains.concat(r.allowedDomains)]):r.allowedDomains=this.defaultAllowedDomains}setInAppFeedbackInitOptions(t){ri(t,"passedInitOptions");let r={bugForm:t.bugForm,onDismiss:t.onDismiss,screenshot:t.screenshot,showEmailAddress:t.showEmailAddress,userEmail:t.userEmail,transitionEnabled:t.transitionEnabled,isShowThanks:t.isShowThanks,sendFeedbackPolicyValue:t.sendFeedbackPolicyValue,feedbackForumUrl:t.feedbackForumUrl!==void 0?t.feedbackForumUrl:void 0,myFeedbackForumUrl:t.myFeedbackForumUrl!==void 0?t.myFeedbackForumUrl:void 0};if(r.onDismiss===void 0&&(r.onDismiss=function(n){}),r.bugForm!==void 0?Ht(r.bugForm,"initOptions.bugForm"):r.bugForm=!1,r.userEmail!==void 0&&tr(r.userEmail,"initOptions.userEmail"),r.screenshot!==void 0?Ht(r.screenshot,"initOptions.screenshot"):r.screenshot=!0,r.showEmailAddress!==void 0?Ht(r.showEmailAddress,"initOptions.showEmailAddress"):r.showEmailAddress=!0,r.feedbackForumUrl!==void 0?tr(r.feedbackForumUrl,"initOptions.feedbackForumUrl"):r.feedbackForumUrl=void 0,r.isShowThanks!==void 0?Ht(r.isShowThanks,"initOptions.isShowThanks"):r.isShowThanks=!0,r.myFeedbackForumUrl!==void 0?tr(r.myFeedbackForumUrl,"initOptions.myFeedbackForumUrl"):r.myFeedbackForumUrl=void 0,r.transitionEnabled===void 0&&(r.transitionEnabled=!0),r.sendFeedbackPolicyValue===void 0)r.sendFeedbackPolicyValue=0;else if(typeof r.sendFeedbackPolicyValue!="number"||r.sendFeedbackPolicyValue!==0&&r.sendFeedbackPolicyValue!==1&&r.sendFeedbackPolicyValue!==2)throw"initOptions.sendFeedbackPolicyValue has an invalid value: "+r.sendFeedbackPolicyValue;this.inAppFeedbackInitOptions=r}setInAppFeedbackLaunchOptions(t){if(!this.commonInitOptions)throw"commonInitOptions not set";t||(t={}),this.commonInitOptions.applicationGroup=Nu(t.applicationGroup,this.commonInitOptions.applicationGroup),this.commonInitOptions.telemetryGroup=Nu(t.telemetryGroup,this.commonInitOptions.telemetryGroup),this.commonInitOptions.webGroup=Nu(t.webGroup,this.commonInitOptions.webGroup),t.categories=e.validateCategoryOptions(t.categories),this.inAppFeedbackLaunchOptions=t}setFloodgateInitOptions(t){var r,n;ri(t,"passedInitOptions");let i={autoDismiss:t.autoDismiss,campaignDefinitions:t.campaignDefinitions,campaignFlights:t.campaignFlights,campaignQueryParameters:t.campaignQueryParameters,onDismiss:t.onDismiss,onSurveyActivatedCallback:t.onSurveyActivatedCallback,settingStorageCallback:t.settingStorageCallback,uIStringGetter:t.uIStringGetter,authTokenCallback:t.authTokenCallback,featureStatusCallback:t.featureStatusCallback,surveyEnabled:t.surveyEnabled,messagingEnabled:t.messagingEnabled,showEmailAddress:t.showEmailAddress,customerVoiceSurveyParams:t.customerVoiceSurveyParams,surveyCSSParams:t.surveyCSSParams,governanceServiceEnabled:t.governanceServiceEnabled,governanceServiceConfig:t.governanceServiceConfig,personalizerEnabled:t.personalizerEnabled,messagingServiceSettings:t.messagingServiceSettings,isPriorityEnabled:t.isPriorityEnabled,isEudbUxEnabled:t.isEudbUxEnabled,appGovernanceProvider:t.appGovernanceProvider,dynamicCampaignConfig:t.dynamicCampaignConfig,logExperimentTrigger:t.logExperimentTrigger,userFactsReadConfig:t.userFactsReadConfig,dynamicUxConfig:t.dynamicUxConfig,campaignTelemetrySamplingConfig:t.campaignTelemetrySamplingConfig,surveyContainer:t.surveyContainer};if(i.autoDismiss===void 0&&(i.autoDismiss=0),i.onDismiss===void 0&&(i.onDismiss=(o,a)=>{}),i.onSurveyActivatedCallback===void 0){let o={onSurveyActivated(a,s,u){a.launch()}};i.onSurveyActivatedCallback=o}if(i.uIStringGetter===void 0&&(i.uIStringGetter=o=>o),i.surveyEnabled===void 0?i.surveyEnabled=!0:Ht(i.surveyEnabled,"surveyEnabled"),i.messagingEnabled===void 0?i.messagingEnabled=!0:Ht(i.messagingEnabled,"messagingEnabled"),i.showEmailAddress!==void 0?Ht(i.showEmailAddress,"initOptionsFloodgate.showEmailAddress"):i.showEmailAddress=!0,i.governanceServiceEnabled!==void 0?Ht(i.governanceServiceEnabled,"initOptionsFloodgate.governanceServiceEnable"):i.governanceServiceEnabled=!0,i.governanceServiceEnabled&&(i.governanceServiceConfig=this.parseGovernanceServiceConfig(i.governanceServiceConfig!==void 0?i.governanceServiceConfig:{})),i.customerVoiceSurveyParams===void 0?i.customerVoiceSurveyParams={cvFlights:"",isCVSurveyEnabled:!0,productName:"",uiHost:"",isCopilotLicenseEnabled:!1}:(lt(i.customerVoiceSurveyParams.isCVSurveyEnabled)&&(i.customerVoiceSurveyParams.isCVSurveyEnabled=!0),lt(i.customerVoiceSurveyParams.isCopilotLicenseEnabled)&&(i.customerVoiceSurveyParams.isCopilotLicenseEnabled=!1)),i.personalizerEnabled!==void 0?Ht(i.personalizerEnabled,"initOptionsFloodgate.personalizerEnabled"):i.personalizerEnabled=!1,i.isPriorityEnabled!==void 0?Ht(i.isPriorityEnabled,"initOptionsFloodgate.isPriorityEnabled"):i.isPriorityEnabled=!0,i.isEudbUxEnabled!==void 0?Ht(i.isEudbUxEnabled,"initOptionsFloodgate.isEudbUxEnabled"):i.isEudbUxEnabled=!0,i.featureStatusCallback&&($p(i.featureStatusCallback.getStringFeatureStatus,"initOptions.featureStatusCallback.getStringFeatureStatus"),$p(i.featureStatusCallback.getIntFeatureStatus,"initOptions.featureStatusCallback.getIntFeatureStatus"),$p(i.featureStatusCallback.getBoolFeatureStatus,"initOptions.featureStatusCallback.getBoolFeatureStatus")),i.surveyContainer!==void 0)try{tr(i.surveyContainer,"initOptionsFloodgate.surveyContainer")}catch(o){ri(i.surveyContainer,"initOptionsFloodgate.surveyContainer")}i.dynamicCampaignConfig=this.parseDynamicCampaignConfig((r=i.dynamicCampaignConfig)!==null&&r!==void 0?r:{enabled:!1}),i.dynamicUxConfig=this.parseDynamicUxConfig((n=i.dynamicUxConfig)!==null&&n!==void 0?n:{enabled:!1}),this.featureGateProvider=new cg(i.featureStatusCallback),this.floodgateInitOptions=i}getEnvironmentSetting(){var t,r;switch((r=(t=this.commonInitOptions.userfactConfig)===null||t===void 0?void 0:t.environment)===null||r===void 0?void 0:r.toLowerCase()){case"int":return"int";case"edog":return"edog";default:return"prod"}}createPersonalizationInitOptions(){var t;ri(this.commonInitOptions,"passedInitOptions"),Fn(this.commonInitOptions.appId,"expected appId");let r=TB;!((t=this.commonInitOptions.userfactConfig)===null||t===void 0)&&t.personalizationEventSamplingRate&&(r=this.commonInitOptions.userfactConfig.personalizationEventSamplingRate);let n=Object.assign({appId:this.commonInitOptions.appId,environment:this.getEnvironmentSetting(),eventSamplingRate:r},this.commonInitOptions.personalizationSettings),i={logger:new Pc,sessionId:this.commonInitOptions.sessionId,settings:n,userFactConfig:this.commonInitOptions.userfactConfig};this.personalizationInitOptions=i}setFloodgateSurvey(t){this.floodgateSurvey=t}setCVRenderContext(t){this.cvRenderContext=t}checkIfSurveysEnabled(){return(this.floodgateInitOptions?this.floodgateInitOptions.surveyEnabled:!0)&&this.commonPolicyAllowAADC}checkIfMessagingEnabled(){return this.floodgateInitOptions?this.floodgateInitOptions.messagingEnabled:!0}isFeedbackSurveyEnabledByAADC(){return this.commonPolicyAllowAADC}getCVSurveyFlights(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.cvFlights:""}isCVSurveyEnabled(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.isCVSurveyEnabled:!0}getProductName(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.productName:""}getUIHost(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHost:""}isCopilotLicenseEnabled(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.isCopilotLicenseEnabled:!1}getUIHostCVSurveyDispatcher(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHostCVSurveyDispatcher:""}getCSSPosition(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssPosition?this.floodgateInitOptions.surveyCSSParams.cssPosition:""}getCSSZIndex(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssZIndex?this.floodgateInitOptions.surveyCSSParams.cssZIndex:""}getCSSBottom(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssBottom?this.floodgateInitOptions.surveyCSSParams.cssBottom:""}getCSSRight(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssRight?this.floodgateInitOptions.surveyCSSParams.cssRight:""}getRuntimeCssVars(){var t,r,n;return(n=(r=(t=this.floodgateInitOptions)===null||t===void 0?void 0:t.surveyCSSParams)===null||r===void 0?void 0:r.runtimeCssVars)!==null&&n!==void 0?n:{}}getRuntimeHtmlDataAttrs(){var t,r,n;return(n=(r=(t=this.floodgateInitOptions)===null||t===void 0?void 0:t.surveyCSSParams)===null||r===void 0?void 0:r.runtimeHtmlDataAttrs)!==null&&n!==void 0?n:{}}getCSSVarString(){let t=[];return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&(this.floodgateInitOptions.surveyCSSParams.cssPosition&&t.push("--obf-position:",this.floodgateInitOptions.surveyCSSParams.cssPosition,";"),this.floodgateInitOptions.surveyCSSParams.cssZIndex&&t.push("--obf-zIndex:",this.floodgateInitOptions.surveyCSSParams.cssZIndex,";"),this.floodgateInitOptions.surveyCSSParams.cssBottom&&t.push("--obf-bottom:",this.floodgateInitOptions.surveyCSSParams.cssBottom,";"),this.floodgateInitOptions.surveyCSSParams.cssRight&&t.push("--obf-right:",this.floodgateInitOptions.surveyCSSParams.cssRight,";")),t.join("")}getDynamicUxConfig(){var t;return(t=this.floodgateInitOptions)===null||t===void 0?void 0:t.dynamicUxConfig}setDynamicUxThemeConfig(t){var r,n;!((r=this.floodgateInitOptions)===null||r===void 0)&&r.dynamicUxConfig&&(this.floodgateInitOptions.dynamicUxConfig.theme=t.theme,this.floodgateInitOptions.dynamicUxConfig.customTheme=(n=t.customTheme)!==null&&n!==void 0?n:void 0)}resetDynamicUxConfig(){var t;!((t=this.floodgateInitOptions)===null||t===void 0)&&t.dynamicUxConfig&&(this.floodgateInitOptions.dynamicUxConfig={enabled:!1,cdnStringConfig:{uiStringsCdnEnabled:!0}})}determineAADCPolicy(t,r){return t===Kr.Unauthenticated||t===Kr.AAD?!0:r!==rr.MinorWithParentalConsent&&r!==rr.MinorWithoutParentalConsent}getUserConsentGroup(){let t=this.commonInitOptions.authenticationType;if(t===Kr.Unauthenticated||t===Kr.AAD)return 1;switch(this.commonInitOptions.ageGroup){case rr.Undefined:return 1;case rr.MinorWithoutParentalConsent:return 3;case rr.MinorWithParentalConsent:return 3;case rr.Adult:return 1;case rr.NotAdult:return 2;case rr.MinorNoParentalConsentRequired:return 1;default:return 3}}getFeatureGateProvider(){return this.featureGateProvider}parseEventSamplingOption(t){let r={event:{}};if(t!==void 0){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n))switch(t[n].type){case"Event":{let i=t[n].sampleRate;if(Fn(i,"initOption.EventSampling.SampleRate"),tr(t[n].name,"initOption.EventSampling.Name"),i<0||i>1)throw"initOption.EventSampling."+t[n].name+".SampleRate is out of range";r.event[t[n].name]=i;break}default:throw"initOption.EventSampling.Type value is not recognized"}}return r}parseGovernanceServiceConfig(t){let r={forceServicelessSurveyDisplay:!0,retry:1,timeout:1e3,isSurveyLevelGovernanceEnabled:!1};return t.forceServicelessSurveyDisplay!==void 0&&(Ht(t.forceServicelessSurveyDisplay,"initOptionsFloodgate.governanceServiceConfig.forceServicelessSurveyDisplay"),r.forceServicelessSurveyDisplay=t.forceServicelessSurveyDisplay),t.retry!==void 0&&(Fn(t.retry,"initOptionsFloodgate.governanceServiceConfig.retry"),r.retry=t.retry),t.timeout!==void 0&&(Fn(t.timeout,"initOptionsFloodgate.governanceServiceConfig.timeout"),r.timeout=t.timeout),t.isSurveyLevelGovernanceEnabled!==void 0&&(Ht(t.isSurveyLevelGovernanceEnabled,"initOptionsFloodgate.governanceServiceConfig.isSurveyLevelGovernanceEnabled"),r.isSurveyLevelGovernanceEnabled=t.isSurveyLevelGovernanceEnabled),r}parseDynamicCampaignConfig(t){let r={enabled:!1,ecsClient:void 0};return t.enabled!==void 0&&(Ht(t.enabled,"initOptionsFloodgate.dynamicCampaignConfig.enabled"),r.enabled=t.enabled),t.ecsClient!==void 0&&(ri(t.ecsClient,"initOptionsFloodgate.dynamicCampaignConfig.ecsClient"),r.ecsClient=t.ecsClient),r}parseDynamicUxConfig(t){var r,n,i,o;let a={enabled:!1,dynamicVariables:void 0};t.enabled!==void 0?(Ht(t.enabled,"initOptionsFloodgate.dynamicUxConfig.enabled"),a.enabled=t.enabled):a.enabled=!1,t.dynamicVariables!==void 0&&(ri(t.dynamicVariables,"initOptionsFloodgate.dynamicUxConfig.dynamicVariables"),Object.entries(t.dynamicVariables).forEach(([u,l])=>{tr(u,"initOptionsFloodgate.dynamicUxConfig.dynamicVariables."+u),Ex(l,"initOptionsFloodgate.dynamicUxConfig.dynamicVariables["+u+"]")}),a.dynamicVariables=t.dynamicVariables),t.delayLoadingTimeout!==void 0?(Fn(t.delayLoadingTimeout,"initOptionsFloodgate.dynamicUxConfig.delayLoadingTimeout"),a.delayLoadingTimeout=t.delayLoadingTimeout):a.delayLoadingTimeout=0;let s=this.parseDynamicUxThemeConfig({theme:t.theme,customTheme:t.customTheme});return a.theme=s.theme,a.customTheme=s.customTheme,t.footerButtonsAlignment!==void 0?(Xp(t.footerButtonsAlignment,vA.AlignmentType,"initOptionsFloodgate.dynamicUxConfig.footerButtonsAlignment"),a.footerButtonsAlignment=t.footerButtonsAlignment):a.footerButtonsAlignment=vA.AlignmentType.Left,((r=t.cdnStringConfig)===null||r===void 0?void 0:r.uiStringsCdnEnabled)!==void 0?(Ht(t.cdnStringConfig.uiStringsCdnEnabled,"initOptionsFloodgate.dynamicUxConfig.cdnStringConfig.uiStringsCdnEnabled"),a.cdnStringConfig={uiStringsCdnEnabled:t.cdnStringConfig.uiStringsCdnEnabled}):a.cdnStringConfig={uiStringsCdnEnabled:!0},a.cdnStringConfig.uiStringsCdnEnabled&&(((n=t.cdnStringConfig)===null||n===void 0?void 0:n.fetchCdnConcurrently)!==void 0?(Ht(t.cdnStringConfig.fetchCdnConcurrently,"initOptionsFloodgate.dynamicUxConfig.cdnStringConfig.fetchCdnConcurrently"),a.cdnStringConfig.fetchCdnConcurrently=t.cdnStringConfig.fetchCdnConcurrently):a.cdnStringConfig.fetchCdnConcurrently=!0,((i=t.cdnStringConfig)===null||i===void 0?void 0:i.uiStringsLoadingTimeout)!==void 0?(Fn(t.cdnStringConfig.uiStringsLoadingTimeout,"initOptionsFloodgate.dynamicUxConfig.cdnStringConfig.uiStringsLoadingTimeout"),a.cdnStringConfig.uiStringsLoadingTimeout=t.cdnStringConfig.uiStringsLoadingTimeout>=0?t.cdnStringConfig.uiStringsLoadingTimeout:3e3):a.cdnStringConfig.uiStringsLoadingTimeout=3e3,((o=t.cdnStringConfig)===null||o===void 0?void 0:o.uiStringCdnRetryLimit)!==void 0?(Fn(t.cdnStringConfig.uiStringCdnRetryLimit,"initOptionsFloodgate.dynamicUxConfig.cdnStringConfig.uiStringCdnRetryLimit"),a.cdnStringConfig.uiStringCdnRetryLimit=t.cdnStringConfig.uiStringCdnRetryLimit>=0?t.cdnStringConfig.uiStringCdnRetryLimit:0):a.cdnStringConfig.uiStringCdnRetryLimit=0),t.hostName!==void 0?(tr(t.hostName,"initOptionsFloodgate.dynamicUxConfig.hostName"),a.hostName=t.hostName):a.hostName=US,a}parseDynamicUxThemeConfig(t){let r={};return t.theme!==void 0?(tr(t.theme,"initOptionsFloodgate.dynamicUxConfig.theme"),r.theme=t.theme):r.theme=bB,t.customTheme!==void 0?(ri(t.customTheme,"initOptionsFloodgate.dynamicUxConfig.customTheme"),r.customTheme=t.customTheme):r.customTheme=void 0,r}updateTheme(t,r){var n;if(!(!((n=this.floodgateInitOptions.dynamicUxConfig)===null||n===void 0)&&n.enabled))throw new Error("Failed to update theme configuration: dynamicUx not enabled");let i=null;try{i=this.parseDynamicUxThemeConfig(t),this.setDynamicUxThemeConfig(i),r.updateThemeState({baseTheme:i.theme,customTheme:i.customTheme});return}catch(o){throw new Error("Failed to update theme configuration: "+o)}}updateTelemetrySink(t){ri(t,"TelmetrySink.Object"),this.commonInitOptions.telemetrySink=t}},CW=new hA;function C(){return CW}var ps="2.10.2";var qB="OfficeFeedbackSDK",jB=!1,yA=!1;function YB(){if(!jB){if(!sr().OfficeBrowserFeedback.initOptions)throw new Error("Window.OfficeBrowserFeedback.initOptions not set");sr().OfficeBrowserFeedback.sdkVersion=ps,C().setCommonInitOptions(sr().OfficeBrowserFeedback.initOptions),yA=C().isFeedbackSurveyEnabledByAADC(),lA(C().getCommonInitOptions(),qB,ps,C().getSdkSessionId(),C().getEventSampling()),_B(C().getPersonalizationInitOptions()),jB=!0,yA||ee().logEvent(O.FEEDBACK_SURVEYSDISABLED_AADC,1,{Data:JSON.stringify({ageGroup:C().getCommonInitOptions().ageGroup,authenticationType:C().getCommonInitOptions().authenticationType})})}}function EW(){return yA}function TW(e){try{C().updateTelemetrySink(e),ee().flushQueue(),lA(C().getCommonInitOptions(),qB,ps,C().getSdkSessionId(),C().getEventSampling())}catch(t){throw new Error("Failed to update telemetry sink: "+t)}}iR(EW);gR(TW);var Br=X(Ee()),mn=X(je());var kS=X(je());var Lc=class{postRequestWithRetry(t,r,n,i){return new Promise((o,a)=>{this.sendPostRequest(t,r,void 0,void 0,i).then(o).catch(s=>{if(ee().logEvent(O.DYNAMICTRANSPORT_POST_ERROR,2,{ErrorMessage:s.toString(),TimeMilliseconds:i,Count:n,CorrelationId:this.requestId}),n<=1)return a(s);this.postRequestWithRetry(t,r,n-1,i).then(o).catch(a)})})}createHeaders(t){let r=typeof Headers<"u"&&new Headers;return r&&(this.createNormalHeaders(r),(0,kS.isNOU)(t)||r.append("Authorization","Bearer "+t)),r}createNormalHeaders(t){this.requestId=(0,kS.guid)(),t.append("X-Request-ID",this.requestId),t.append("Content-Type","application/json")}sendPostRequest(t,r,n,i,o){let s={method:"POST",headers:i||this.createHeaders(n),body:r};return!o||o<=0?fetch(t,s):new Promise((u,l)=>{let c=new AbortController;s.signal=c.signal;let f=setTimeout(()=>{c.abort(),l(new Error("Service request timed out"))},o);fetch(t,s).then(d=>{clearTimeout(f),u(d)}).catch(d=>{clearTimeout(f),l(d)})})}};var IW="https://onessppe.microsoft.com/api/v1.0/UserCampaigns",xW="https://oness.microsoft.com/api/v1.0/UserCampaigns",SA=class{constructor(){this.governanceServiceEnabledChannels=[],this.forceServicelessSurveyDisplay=!1,this.lastSurveyFailedSync=void 0,this.clientState=Br.GovernanceServiceClientState.Disabled}setup(t){if(this.governanceServiceEnabled=t.getFloodgateInitOptions().governanceServiceEnabled,this.governanceServiceEnabled){if(this.clientInfo={applicationId:t.getCommonInitOptions().appId.toString(),sessionId:t.getCommonInitOptions().sessionId,version:t.getCommonInitOptions().build,surveyPlatform:1,hostPlatform:6,tenantId:t.getCommonInitOptions().telemetryGroup.tenantId,deviceId:t.getCommonInitOptions().telemetryGroup.deviceId,audience:t.getCommonInitOptions().telemetryGroup.audience},this.userId=t.getCommonInitOptions().telemetryGroup.loggableUserId,(0,mn.isNOU)(this.clientInfo.sessionId)){this.clientState=Br.GovernanceServiceClientState.InitializationFailed;return}if((0,mn.isNOU)(this.clientInfo.version)){this.clientState=Br.GovernanceServiceClientState.InitializationFailed;return}if(!(0,mn.isValidUserId)(this.userId)){this.clientState=Br.GovernanceServiceClientState.InitializationFailed;return}this.forceServicelessSurveyDisplay=t.getFloodgateInitOptions().governanceServiceConfig.forceServicelessSurveyDisplay,this.retryLimit=t.getFloodgateInitOptions().governanceServiceConfig.retry,this.timeout=t.getFloodgateInitOptions().governanceServiceConfig.timeout,this.isProduction=t.getCommonInitOptions().environment===0,this.clientState=Br.GovernanceServiceClientState.Enabled,this.dynamicTransport=new Lc,this.isSurveyGovernanceEnabled=t.getFloodgateInitOptions().governanceServiceConfig.isSurveyLevelGovernanceEnabled;let r=t.getFeatureGateProvider();if(!r)return;this.governanceServiceEnabledChannels=r.getJsonObjectStringFeatureStatus(Kp.GovernanceServiceEnabledChannels,[Br.GovernedChannelType.Standard,Br.GovernedChannelType.TeachingMessage,Br.GovernedChannelType.Dialog]);let n=r.getStringFeatureStatus(Kp.GovernanceLocalUserIdOverride,"");n&&(this.userId=n)}}isEnabled(t){var r;return this.clientState===Br.GovernanceServiceClientState.Enabled&&this.governanceServiceEnabled&&((r=this.governanceServiceEnabledChannels)!==null&&r!==void 0?r:[]).indexOf(t)!==-1}isSurveyLevelGovernanceEnabled(){return this.isSurveyGovernanceEnabled}isGovernanceEnabledForChannel(t){return this.isSurveyGovernanceEnabled||t!==Br.GovernedChannelType.Standard}shouldForceDisplay(){return this.forceServicelessSurveyDisplay}getClientInfo(){return this.clientInfo}getClientState(){return this.clientState}getLastSurveyFailedSync(){return this.lastSurveyFailedSync}checkGovernancePermitAsync(t){return Le(this,void 0,void 0,function*(){if(!this.isEnabled(t.channelType))return{permission:!0,error:!1};let r=this.buildCampaignInfo(t),n=this.isProduction?xW:IW,i=this.buildRequestBody(r,t.userCooldown),o={permission:!1,error:!1,isSurveyGoverned:!1,requestId:this.dynamicTransport.requestId},a,s;try{let u=performance.now();a=yield this.dynamicTransport.postRequestWithRetry(n,i,this.retryLimit,this.timeout),s=performance.now()-u;let l;if(!a.ok)return this.lastSurveyFailedSync=r,o.errorMessage="Server Error, status: ".concat(a.status,", status text: ").concat(a.statusText),o.error=!0,ee().logEvent(O.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:s,HttpStatusCode:a.status,HttpStatusText:a.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:i,GovernanceResponseText:l,CampaignId:t.campaignId,SurveyId:t.surveyId,ChannelType:t.channelType}),o;l=yield a.text(),ee().logEvent(O.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:s,HttpStatusCode:a.status,HttpStatusText:a.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:i,GovernanceResponseText:l,CampaignId:t.campaignId,SurveyId:t.surveyId,ChannelType:t.channelType});let c=JSON.parse(l);if(c.lastTriggerCampaignTime=(0,mn.stringToDate)(new Date(c.lastTriggerCampaignTime).toISOString()),!(0,mn.isNumber)(c.timeUntilNextCampaignAllowed)||!(0,mn.isDate)(c.lastTriggerCampaignTime))o.errorMessage="Service Response is not formatted correctly: "+l,o.error=!0,this.lastSurveyFailedSync=r;else{let f=this.isGovernanceEnabledForChannel(t.channelType);if(f&&(0,mn.isNumber)(c.timeUntilSameCampaignAllowed)&&!(0,mn.isNOU)(c.lastTriggerSameCampaignTime)){o.isSurveyGoverned=!0;try{c.lastTriggerSameCampaignTime=(0,mn.stringToDate)(new Date(c.lastTriggerSameCampaignTime).toISOString())}catch(d){o.isSurveyGoverned=!1}}c.timeUntilNextCampaignAllowed===0&&(!(f&&o.isSurveyGoverned)||c.timeUntilSameCampaignAllowed===0)&&(o.permission=!0),o.lastTriggerSurvey=c,this.lastSurveyFailedSync=void 0}}catch(u){this.lastSurveyFailedSync=r,ee().logEvent(O.GOVERNANCE_SERVICEFAILURE,2,{ErrorMessage:u.toString(),AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,HttpStatusCode:a==null?void 0:a.status,HttpStatusText:a==null?void 0:a.statusText,GovernanceRequestBody:i}),o.error=!0,o.errorMessage="Error: ".concat(u.toString(),", Error stack: ").concat(u.stack)}return o})}buildCampaignInfo(t){let r=Br.Api.SurveyType[t.surveyType],n=Br.GovernanceServiceSurveyType[r],i=new Date;return{campaignId:t.campaignId,maxLaunches:t.maxLaunches,triggerTime:i,type:n,cooldown:t.campaignCooldown,channel:t.channelType,localOffsetTime:i.getTimezoneOffset(),personalizerEnabled:t.personalizerEnabled,surveyGovernanceEnabled:this.isGovernanceEnabledForChannel(t.channelType)}}buildRequestBody(t,r){let n={userId:this.userId,campaign:t,userLevelCooldown:r,client:this.clientInfo,requestId:this.dynamicTransport.requestId};return JSON.stringify(n)}buildConfigTelemetryString(){let t={retry:this.retryLimit,timeout:this.timeout};return JSON.stringify(t)}},AW=new SA;function _A(){return AW}var MS=X(Ee()),oi=X(na());var NW="https://onessppe.microsoft.com/api/v1.0/Reward",OW="https://oness.microsoft.com/api/v1.0/Reward",CA=class{constructor(){this.personalizerEnabled=!1,this.dynamicTransport=new Lc,this.personalizerSurveyInformationMap={}}setup(t){this.personalizerEnabled=t.getFloodgateInitOptions().governanceServiceEnabled&&t.getFloodgateInitOptions().personalizerEnabled,this.personalizerEnabled&&(this.isProduction=t.getCommonInitOptions().environment===0,this.retryLimit=t.getFloodgateInitOptions().governanceServiceConfig.retry,this.timeout=t.getFloodgateInitOptions().governanceServiceConfig.timeout,this.requestUrl=this.isProduction?OW:NW)}setEventIdAndOverrideValueForSurveyId(t,r,n,i,o){if(!this.personalizerEnabled||oi.Utils.isNOU(t)||oi.Utils.isNOU(i)||r!==0)return!1;let a=this.validateAndGetAutoDismissTime(n);return oi.Utils.isNOU(a)?!1:(this.personalizerSurveyInformationMap[i]={eventId:t,recommendedAutoDismissValue:a,userAction:void 0},!0)}getOverrideValueForSurveyId(t,r){if(!(!this.personalizerEnabled||oi.Utils.isNOU(r)||!this.infoExistsForSurveyId(r)||t!==0))return this.personalizerSurveyInformationMap[r].recommendedAutoDismissValue}logUserActionForSurveyAsync(t,r,n){return Le(this,void 0,void 0,function*(){!oi.Utils.isNOU(t)&&this.infoExistsForSurveyId(r)&&(this.personalizerSurveyInformationMap[r].userAction=t);let i={error:!1},o=this.getValidatedActionPayloadForSurveyId(r);if(oi.Utils.isNOU(o))return i.error=!0,i.errorMessage="Action Payload validation failed.",ee().logEvent(O.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+i.errorMessage,CampaignId:n,SurveyId:r}),i;let a;try{let s=performance.now();a=yield this.dynamicTransport.postRequestWithRetry(this.requestUrl,JSON.stringify(o),this.retryLimit,this.timeout);let u=performance.now();return ee().logEvent(O.PERSONALIZER_SERVICEREWARDRESULT,1,{TimeMilliseconds:u-s,HttpStatusCode:a.status,HttpStatusText:a.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,CampaignId:n,PersonalizerUserAction:o.UserAction,PersonalizerEventId:o.EventId,SurveyId:r}),a.ok||(i.error=!0,i.errorMessage="Server Error, status: ".concat(a.status,", status text: ").concat(a.statusText)),i}catch(s){return i.error=!0,i.errorMessage="Error: ".concat(s.toString(),", Error stack: ").concat(s.stack),ee().logEvent(O.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+i.errorMessage,CampaignId:n,SurveyId:r,PersonalizerUserAction:o.UserAction,PersonalizerEventId:o.EventId}),i}})}getEventIdForSurveyId(t){if(this.infoExistsForSurveyId(t))return this.personalizerSurveyInformationMap[t].eventId}isEnabled(t,r,n){return t!==MS.Api.SurveyType.Fps||r===Ac||r==="customux"||n!==MS.GovernedChannelType.Standard?!1:this.personalizerEnabled}onGovernanceServiceResult(t,r){var n;r&&r.permission&&r.isSurveyGoverned&&((n=r.lastTriggerSurvey)===null||n===void 0?void 0:n.timeUntilNextCampaignAllowed)===0&&this.isEnabled(t.surveyType,t.launcherType,t.channelType)&&this.setEventIdAndOverrideValueForSurveyId(r.requestId,0,r.lastTriggerSurvey.actionId,t.surveyId,t.campaignId)}getValidatedActionPayloadForSurveyId(t){if(!this.infoExistsForSurveyId(t))return;let r=this.personalizerSurveyInformationMap[t];if(!oi.Utils.isNOU(r.eventId)&&!(oi.Utils.isNOU(r.userAction)||r.userAction!==2&&r.userAction!==0&&r.userAction!==1))return{UserAction:r.userAction,EventId:r.eventId}}validateAndGetAutoDismissTime(t){if(oi.Utils.isNOU(t)||typeof t!="string")return;switch(parseInt(t,10)){case 0:return 0;case 7:return 1;case 14:return 2;case 21:return 3;case 28:return 4;case 60:return 5;case 90:return 6;case 120:return 7;case 150:return 8;default:return}}infoExistsForSurveyId(t){return oi.Utils.isNOU(t)?!1:!oi.Utils.isNOU(this.personalizerSurveyInformationMap[t])}buildConfigTelemetryString(){let t={retry:this.retryLimit,timeout:this.timeout};return JSON.stringify(t)}},DW=new CA;function Rn(){return DW}var Ig=X(Ee()),dG=X(na()),m_=X(du()),ku=X(ln()),pG=X(Wy()),iw=X(JI()),gG=X(WI());var xg=X(na());var $A=X(Ee()),iG=X(na());var YS=X(Ee());function EA(e,t){t===void 0&&(t=!0);var r="";for(var n in e||[])if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(i!=null&&typeof i!="object"){var o=r?"&":"",a=t?encodeURIComponent(i):i,s=n+"="+a;r+=o+s}}return r}var KB=144e5,QB=144e5,JB=144e5,XB=144e5,$B=144e5,ZB=864e5,e3="campaignmetadataaggregator",t3="https://messaging.engagement.office.com/",r3="https://messaging.engagement.office.com/",n3=3e3;var i3="setcampaignaction",o3="https://messaging.action.office.com/",a3="https://messaging.action.office.com/",s3="https://substrate.office.com/OfficePersonalizationUserLifecycle/api/facts",BS=3e3;var u3=24*60*60*1e3;var GS=function(){function e(){}return e.TMSAppID="4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed",e.TULIPSSubstrateAppID="05c88d91-956e-46b4-91b0-77a33cc21a4d",e}();var l3=function(){function e(){}return e}();function c3(){var e=ls("obf-DebugOverrides",{});return e&&e.tmsResponse&&e.tmsResponse.CampaignContent&&{contentType:"CampaignContent",content:e.tmsResponse.CampaignContent}}function f3(){var e=ls("obf-DebugOverrides",{});return e&&e.userFactsResponse&&{contentType:"UserFacts",content:e.userFactsResponse}}var d3=function(){function e(t,r,n,i,o,a,s,u,l,c,f,d,p,v){var h,g,m,y;this.locale="en-us",this.country="US",this.locale=i,this.country=o,this.authTokenCallback=s,this.app=t,this.platform=r,this.version=n,this.packageVersion=v,this.sessionId=a,this.campaignFlights=u,this.campaignParameters=l,this.ageGroup=c,this.authType=f,this.messagingServiceSettings=p;var S=["dogfood","edog","int","microsoft"],E=d&&S.indexOf(d.toLowerCase())!==-1,D=E?(h=this.messagingServiceSettings)===null||h===void 0?void 0:h.campaignMetadataAggregatorInt:(g=this.messagingServiceSettings)===null||g===void 0?void 0:g.campaignMetadataAggregatorProd,P=E?(m=this.messagingServiceSettings)===null||m===void 0?void 0:m.setCampaignActionInt:(y=this.messagingServiceSettings)===null||y===void 0?void 0:y.setCampaignActionProd,x=E?t3:r3,q=E?o3:a3;this.campaignMetadataAggregatorPrefix=D||x,this.setCampaignActionPrefix=P||q,this.getAuthToken=this.getAuthToken.bind(this)}return e.prototype.getContent=function(t){return Le(this,void 0,void 0,function(){var r;return Ye(this,function(n){switch(n.label){case 0:return qp(Mr[t])?[4,this.refreshItemsInCacheFromTmsService([t])]:[3,2];case 1:n.sent(),n.label=2;case 2:return r=this.retrieveCacheItemAndCreateContentResponse(t),[2,r]}})})},e.prototype.getMultipleContents=function(t){return Le(this,void 0,void 0,function(){var r,n,i,o,a,s;return Ye(this,function(u){switch(u.label){case 0:return[4,this.refreshItemsInCacheFromTmsService(t)];case 1:for(u.sent(),r=new Array,n=new Array,i=0,o=t;i<o.length;i++)a=o[i],s=this.createCachedContentResponse(a),r.push(s);return this.refreshItemsInCacheFromTmsService(n),[2,r]}})})},e.prototype.getUserFactsContent=function(t){return Le(this,void 0,void 0,function(){var r;return Ye(this,function(n){switch(n.label){case 0:return[4,this.refreshItemsInCacheFromSubstrateTulipsService(t)];case 1:return n.sent(),r=this.retrieveCacheItemAndCreateContentResponse(t),[2,r]}})})},e.prototype.sendBeaconRequestToService=function(t,r,n,i,o,a,s,u){return Le(this,void 0,void 0,function(){var l,c,f,d,p,v,h,g,m,y;return Ye(this,function(S){switch(S.label){case 0:return this.sessionId=s,this.authTokenCallback=u,l={scenario:"TMS",appId:_t("TulipsAppId",GS.TMSAppID)},[4,this.getAuthToken(l)];case 1:return c=S.sent(),c?[3,4]:(d=this.authTokenCallback.getUserPuid,d?[4,this.authTokenCallback.getUserPuid()]:[3,3]);case 2:d=S.sent(),S.label=3;case 3:f=d,S.label=4;case 4:p=+new Date,S.label=5;case 5:return S.trys.push([5,7,,8]),v={app:t,country:a,locale:o,platform:n,puid:f,version:i},h=JSON.stringify({actionName:r.actionName,actionUrl:r.actionUrl}),g={"Content-Type":"application/json;charset=utf-8"},[4,this.sendRequest(v,c,"TmsActionUrl",this.setCampaignActionPrefix+i3+"?",g,h,"POST")];case 6:return m=S.sent(),!m||m.status!==200?(De().event("WebSurfaces_SetCampaignAction_Error",this.createTelemetryData(p,m,"Beacon"+r.actionName)),[2,!1]):(De().info("WebSurfaces_SetCampaignAction_Requests",this.createTelemetryData(p,m,"Beacon"+r.actionName),.01),[2,!0]);case 7:return y=S.sent(),De().event("WebSurfaces_SetCampaignAction_Error",mt({ErrorMessage:"Error fetching from TMS SetCampaignAction endpoint:"+Yr(y)},this.createTelemetryData(p,null,"Beacon"+r.actionName))),[2,!1];case 8:return[2]}})})},e.prototype.getTulipsServiceUserFactsContent=function(){return Le(this,void 0,void 0,function(){return Ye(this,function(t){return[2,pB(null,this.getAuthToken)]})})},e.prototype.parseCampaignIdFromResponse=function(t){var r=t==null?void 0:t.map(function(n){return n.CampaignId});return r==null?void 0:r.toString()},e.prototype.createTelemetryData=function(t,r,n,i){var o=r||{},a=o.headers,s=o.status,u=o.statusText,l=a&&a.get("X-UserSessionId"),c=a&&a.get("X-CorrelationId");return{Type:n,TimeMilliseconds:+new Date-t,SessionId:l||this.sessionId,CorrelationId:c||void 0,HttpStatusCode:s||void 0,HttpStatusText:u||void 0,Flights:this.campaignFlights,CampaignId:i||void 0}},e.prototype.sendRequest=function(t,r,n,i,o,a,s){var u=EA(t),l=_t(n,i),c=s==="POST"?aB(l+u,a,r,o,this.sessionId):gS(l+u,r,this.sessionId);return c},e.prototype.retrieveCacheItemAndCreateContentResponse=function(t){var r,n=this.createCachedContentResponse(t);return qp(Mr[t])?t==="UserFacts"?this.refreshItemsInCacheFromSubstrateTulipsService(t):this.refreshItemsInCacheFromTmsService([t]):t==="CampaignContent"&&De().event("Campaign_Retrieved_Cache",{campaignIds:this.parseCampaignIdFromResponse((r=n==null?void 0:n.content)===null||r===void 0?void 0:r.campaigns)},kr()),n},e.prototype.createCachedContentResponse=function(t){var r=new l3;return r.content=Tu(Mr[t]),r.contentType=t,r},e.prototype.getAuthToken=function(t){return Le(this,void 0,void 0,function(){var r,n,i,o,a,s,u=this;return Ye(this,function(l){switch(l.label){case 0:if(!this.authTokenCallback||!this.authTokenCallback.getAuthToken||!t)return[2,null];r=+new Date,n=function(){return+new Date-r},i=kr(),o=function(c,f){return f===void 0&&(f=-1),{Message:c,SamplingRate:i,Scenario:t.scenario,SessionId:u.sessionId,TimeMilliseconds:n(),TokenLegth:f,Type:t.appId}},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.authTokenCallback.getAuthToken(t)];case 2:return a=l.sent(),De().event("EngagementAuth_Request_Successful",o("getAuthToken Successful",a==null?void 0:a.length),i),[2,a];case 3:return s=l.sent(),De().event("EngagementAuth_Request_Error",o("Error getting token:"+Yr(s))),[3,4];case 4:return[2,null]}})})},e.prototype.refreshItemsInCacheFromTmsService=function(t){var r;return Le(this,void 0,void 0,function(){var n,i,o,a,s,u,l,c,f,d,p,v,h,g,m,y;return Ye(this,function(S){switch(S.label){case 0:if(t.length===0)return[2];for(n=new Array,i=0,o=t;i<o.length;i++)a=o[i],qp(Mr[a])&&n.push(a);return n.length===0?[2]:(t.indexOf("DynamicSettings")===-1&&t.push("DynamicSettings"),s={scenario:"TMS",appId:_t("TulipsAppId",GS.TMSAppID)},[4,this.getAuthToken(s)]);case 1:return u=S.sent(),u?[3,4]:(c=this.authTokenCallback.getUserPuid,c?[4,this.authTokenCallback.getUserPuid()]:[3,3]);case 2:c=S.sent(),S.label=3;case 3:l=c,S.label=4;case 4:f=+new Date,S.label=5;case 5:return S.trys.push([5,10,,11]),d=document&&(document.documentElement||document.getElementsByTagName("body")[0]),p={pageWidth:window.innerWidth||d.clientWidth,pageHeight:window.innerHeight||d.clientHeight,screenWidth:screen?screen.width:void 0,screenHeight:screen?screen.height:void 0,colorDepth:screen?screen.colorDepth:void 0},v=ls("obf-DebugOverrides",{}),h=v.replaceTmsQueryParams||mt(mt({country:this.country,locale:this.locale,app:this.app,platform:this.platform,version:this.version,campaignParams:EA(p)+"&more=true&"+(this.campaignParameters||""),contentType:t.join(";"),puid:l,OFC_FLIGHTS:this.campaignFlights},v.addTmsQueryParams||{}),{ageGroup:this.ageGroup,sessionUserType:this.authType,packageVersion:this.packageVersion}),[4,this.sendRequest(h,u,"TmsServiceUrl",this.campaignMetadataAggregatorPrefix+e3+"?")];case 6:return g=S.sent(),g.status!==200?[3,8]:[4,g.json()];case 7:return m=S.sent(),t.indexOf("MessageMetadata")!==-1&&m.MessageMetadata!==void 0&&ho("MessageMetadata",m.MessageMetadata,_t("TmsMessageMetadataExpiry",KB),Mr.MessageMetadata),t.indexOf("UserGovernance")!==-1&&m.UserGovernanceRules!==void 0&&ho("UserGovernance",m.UserGovernanceRules,_t("TmsUserGovernanceRulesExpiry",QB),Mr.UserGovernance),t.indexOf("CampaignContent")!==-1&&m.CampaignContent!==void 0&&ho("CampaignContent",m.CampaignContent,_t("TmsCampaignContentExpiry",JB),Mr.CampaignContent),m.DynamicSettings!==void 0&&ho("DynamicSettings",m.DynamicSettings,_t("TmsDynamicSettingsExpiry",XB),Mr.DynamicSettings),m.LogLevelSettings!==void 0&&ho("LogLevelSettings",m.LogLevelSettings,_t("TmsLogLevelSettingsExpiry",$B),Mr.LogLevelSettings),De().event("WebSurfaces_CampaignMetadataAggregator_Requests",this.createTelemetryData(f,g,t.join(";"),this.parseCampaignIdFromResponse((r=m==null?void 0:m.CampaignContent)===null||r===void 0?void 0:r.campaigns)),.01),[3,9];case 8:De().event("WebSurfaces_CampaignMetadataAggregator_Error",this.createTelemetryData(f,g,t.join(";"))),S.label=9;case 9:return[3,11];case 10:return y=S.sent(),De().event("WebSurfaces_CampaignMetadataAggregator_Error",mt({ErrorMessage:"Error fetching from TMS:"+Yr(y)},this.createTelemetryData(f,null,t.join(";")))),[3,11];case 11:return[2]}})})},e.prototype.refreshItemsInCacheFromSubstrateTulipsService=function(t){return Le(this,void 0,void 0,function(){var r,n,i,o,a,s,u;return Ye(this,function(l){switch(l.label){case 0:return qp(Mr[t])?(r={scenario:"TulipsSubstrate",appId:_t("TulipsAppId",GS.TULIPSSubstrateAppID)},[4,this.getAuthToken(r)]):[2];case 1:if(n=l.sent(),!n)return[2];i=+new Date,l.label=2;case 2:return l.trys.push([2,7,,8]),[4,this.sendRequest({},n,"TulipsServiceUrl",s3)];case 3:return o=l.sent(),o.status===200||o.status===204?[4,o.json()]:[3,5];case 4:return a=l.sent(),t.indexOf("UserFacts")!==-1&&a!==void 0&&(s=yx(a),ho("UserFacts",s,ZB,Mr.UserFacts)),De().event("UserFacts_Messaging_Requests",this.createTelemetryData(i,o,t),.01),[3,6];case 5:De().event("UserFacts_Common_Error",this.createTelemetryData(i,o,t)),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),De().event("UserFacts_Common_Error",mt({ErrorMessage:"Error fetching from TULIPS:"+Yr(u)},this.createTelemetryData(i,null,t))),[3,8];case 8:return[2]}})})},e}();var bA=class{constructor(){var t,r;this.configuration=C(),fS(new Pc);let n=this.configuration&&this.configuration.getFloodgateInitOptions(),i=this.configuration&&this.configuration.getCommonInitOptions(),o=n&&n.authTokenCallback;if(o&&(o.getAuthToken||o.getUserPuid)){let a=this.configuration.getCommonInitOptions();this.tmsgClient=new d3(a.appId.toString(),"Web",a.build,a.originalLocale,this.extractCountryFromLocale(a.originalLocale),this.configuration.getSdkSessionId(),n.authTokenCallback,n.campaignFlights,n.campaignQueryParameters,i.ageGroup,i.authenticationType,((t=i.telemetryGroup)===null||t===void 0?void 0:t.audienceGroup)||((r=i.telemetryGroup)===null||r===void 0?void 0:r.audience),n.messagingServiceSettings)}}getCampaignDefinitions(){let t=c3();return t&&t.content?Promise.resolve(t.content):this.tmsgClient?this.tmsgClient.getContent("CampaignContent").then(({content:r})=>r):Promise.resolve(null)}getCachedCampaignDefinitions(){return Tu("CampaignContent")}getUserGovernanceRules(){return this.tmsgClient?this.tmsgClient.getContent("UserGovernance").then(({content:t})=>t):Promise.resolve(null)}getMessageMetadata(){return this.tmsgClient?this.tmsgClient.getContent("MessageMetadata").then(({content:t})=>t):Promise.resolve(null)}getUserFacts(){let t=f3();if(t&&t.content)return Promise.resolve(t.content);if(!this.tmsgClient)return Promise.resolve(null);if(this.isTulipsServiceEnabled()){let r=_t("TulipsLoadTimeout",BS);return Ou(r,this.getTulipsServiceUserFacts()).then(i=>i).catch(()=>this.getSubstrateUserFacts())}return this.getSubstrateUserFacts()}setCampaignAction(t){if(!this.tmsgClient)return;let r=this.configuration.getCommonInitOptions(),n=this.configuration.getFloodgateInitOptions();return this.tmsgClient.sendBeaconRequestToService(r.appId.toString(),t,"Web",r.build,r.originalLocale,this.extractCountryFromLocale(r.originalLocale),this.configuration.getSdkSessionId(),n.authTokenCallback)}extractCountryFromLocale(t){if(!t)return;let r=t.split("-");if(r.length===2)return r[1]}getSubstrateUserFacts(){return this.tmsgClient?this.tmsgClient.getUserFactsContent("UserFacts").then(({content:t})=>t):Promise.resolve(null)}getTulipsServiceUserFacts(){return this.tmsgClient?this.tmsgClient.getTulipsServiceUserFactsContent():Promise.resolve(null)}isTulipsServiceEnabled(){var t,r,n;return(n=(r=(t=this.configuration)===null||t===void 0?void 0:t.getFloodgateInitOptions())===null||r===void 0?void 0:r.userFactsReadConfig)===null||n===void 0?void 0:n.enabled}},TA;function Fu(){return TA||(TA=new bA),TA}var{entries:E3,setPrototypeOf:p3,isFrozen:FW,getPrototypeOf:RW,getOwnPropertyDescriptor:LW}=Object,{freeze:Jr,seal:ai,create:T3}=Object,{apply:DA,construct:PA}=typeof Reflect<"u"&&Reflect;Jr||(Jr=function(t){return t});ai||(ai=function(t){return t});DA||(DA=function(t,r,n){return t.apply(r,n)});PA||(PA=function(t,r){return new t(...r)});var VS=Xr(Array.prototype.forEach),UW=Xr(Array.prototype.lastIndexOf),g3=Xr(Array.prototype.pop),fg=Xr(Array.prototype.push),kW=Xr(Array.prototype.splice),zS=Xr(String.prototype.toLowerCase),xA=Xr(String.prototype.toString),m3=Xr(String.prototype.match),dg=Xr(String.prototype.replace),MW=Xr(String.prototype.indexOf),BW=Xr(String.prototype.trim),Fi=Xr(Object.prototype.hasOwnProperty),Qr=Xr(RegExp.prototype.test),pg=GW(TypeError);function Xr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return DA(e,t,n)}}function GW(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return PA(e,r)}}function Ue(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zS;p3&&p3(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){let o=r(i);o!==i&&(FW(t)||(t[n]=o),i=o)}e[i]=!0}return e}function VW(e){for(let t=0;t<e.length;t++)Fi(e,t)||(e[t]=null);return e}function sa(e){let t=T3(null);for(let[r,n]of E3(e))Fi(e,r)&&(Array.isArray(n)?t[r]=VW(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=sa(n):t[r]=n);return t}function gg(e,t){for(;e!==null;){let n=LW(e,t);if(n){if(n.get)return Xr(n.get);if(typeof n.value=="function")return Xr(n.value)}e=RW(e)}function r(){return null}return r}var v3=Jr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),AA=Jr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wA=Jr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),HW=Jr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),NA=Jr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zW=Jr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h3=Jr(["#text"]),y3=Jr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),OA=Jr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),S3=Jr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),HS=Jr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jW=ai(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qW=ai(/<%[\w\W]*|[\w\W]*%>/gm),YW=ai(/\$\{[\w\W]*/gm),WW=ai(/^data-[\-\w.\u00B7-\uFFFF]+$/),KW=ai(/^aria-[\-\w]+$/),b3=ai(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),QW=ai(/^(?:\w+script|data):/i),JW=ai(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I3=ai(/^html$/i),XW=ai(/^[a-z][.\w]*(-[.\w]+)+$/i),_3=Object.freeze({__proto__:null,ARIA_ATTR:KW,ATTR_WHITESPACE:JW,CUSTOM_ELEMENT:XW,DATA_ATTR:WW,DOCTYPE_NAME:I3,ERB_EXPR:qW,IS_ALLOWED_URI:b3,IS_SCRIPT_OR_DATA:QW,MUSTACHE_EXPR:jW,TMPLIT_EXPR:YW}),mg={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$W=function(){return typeof window>"u"?null:window},ZW=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null,i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));let o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},C3=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function x3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$W(),t=me=>x3(me);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==mg.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,i=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:u,NodeFilter:l,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=e,v=u.prototype,h=gg(v,"cloneNode"),g=gg(v,"remove"),m=gg(v,"nextSibling"),y=gg(v,"childNodes"),S=gg(v,"parentNode");if(typeof a=="function"){let me=r.createElement("template");me.content&&me.content.ownerDocument&&(r=me.content.ownerDocument)}let E,D="",{implementation:P,createNodeIterator:x,createDocumentFragment:q,getElementsByTagName:G}=r,{importNode:se}=n,ue=C3();t.isSupported=typeof E3=="function"&&typeof S=="function"&&P&&P.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Se,ERB_EXPR:Te,TMPLIT_EXPR:fe,DATA_ATTR:le,ARIA_ATTR:$e,IS_SCRIPT_OR_DATA:ir,ATTR_WHITESPACE:Et,CUSTOM_ELEMENT:Yt}=_3,{IS_ALLOWED_URI:et}=_3,Ae=null,V=Ue({},[...v3,...AA,...wA,...NA,...h3]),K=null,te=Ue({},[...y3,...OA,...S3,...HS]),$=Object.seal(T3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,ke=null,We=!0,tt=!0,ct=!1,ft=!0,Wt=!1,Pt=!0,M=!1,ki=!1,li=!1,Ln=!1,ci=!1,dt=!1,pr=!0,U=!1,_="user-content-",b=!0,w=!1,L={},B=null,ie=Ue({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pe=null,I=Ue({},["audio","video","img","source","image","track"]),F=null,R=Ue({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),W="http://www.w3.org/1998/Math/MathML",Z="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xhtml",we=ce,Be=!1,Qe=null,hs=Ue({},[W,Z,ce],xA),Co=Ue({},["mi","mo","mn","ms","mtext"]),Mi=Ue({},["annotation-xml"]),Un=Ue({},["title","style","font","a","script"]),Eo=null,I_=["application/xhtml+xml","text/html"],fV="text/html",or=null,Mu=null,dV=r.createElement("form"),Cw=function(T){return T instanceof RegExp||T instanceof Function},x_=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mu&&Mu===T)){if((!T||typeof T!="object")&&(T={}),T=sa(T),Eo=I_.indexOf(T.PARSER_MEDIA_TYPE)===-1?fV:T.PARSER_MEDIA_TYPE,or=Eo==="application/xhtml+xml"?xA:zS,Ae=Fi(T,"ALLOWED_TAGS")?Ue({},T.ALLOWED_TAGS,or):V,K=Fi(T,"ALLOWED_ATTR")?Ue({},T.ALLOWED_ATTR,or):te,Qe=Fi(T,"ALLOWED_NAMESPACES")?Ue({},T.ALLOWED_NAMESPACES,xA):hs,F=Fi(T,"ADD_URI_SAFE_ATTR")?Ue(sa(R),T.ADD_URI_SAFE_ATTR,or):R,pe=Fi(T,"ADD_DATA_URI_TAGS")?Ue(sa(I),T.ADD_DATA_URI_TAGS,or):I,B=Fi(T,"FORBID_CONTENTS")?Ue({},T.FORBID_CONTENTS,or):ie,ge=Fi(T,"FORBID_TAGS")?Ue({},T.FORBID_TAGS,or):sa({}),ke=Fi(T,"FORBID_ATTR")?Ue({},T.FORBID_ATTR,or):sa({}),L=Fi(T,"USE_PROFILES")?T.USE_PROFILES:!1,We=T.ALLOW_ARIA_ATTR!==!1,tt=T.ALLOW_DATA_ATTR!==!1,ct=T.ALLOW_UNKNOWN_PROTOCOLS||!1,ft=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wt=T.SAFE_FOR_TEMPLATES||!1,Pt=T.SAFE_FOR_XML!==!1,M=T.WHOLE_DOCUMENT||!1,Ln=T.RETURN_DOM||!1,ci=T.RETURN_DOM_FRAGMENT||!1,dt=T.RETURN_TRUSTED_TYPE||!1,li=T.FORCE_BODY||!1,pr=T.SANITIZE_DOM!==!1,U=T.SANITIZE_NAMED_PROPS||!1,b=T.KEEP_CONTENT!==!1,w=T.IN_PLACE||!1,et=T.ALLOWED_URI_REGEXP||b3,we=T.NAMESPACE||ce,Co=T.MATHML_TEXT_INTEGRATION_POINTS||Co,Mi=T.HTML_INTEGRATION_POINTS||Mi,$=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&Cw(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&Cw(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wt&&(tt=!1),ci&&(Ln=!0),L&&(Ae=Ue({},h3),K=[],L.html===!0&&(Ue(Ae,v3),Ue(K,y3)),L.svg===!0&&(Ue(Ae,AA),Ue(K,OA),Ue(K,HS)),L.svgFilters===!0&&(Ue(Ae,wA),Ue(K,OA),Ue(K,HS)),L.mathMl===!0&&(Ue(Ae,NA),Ue(K,S3),Ue(K,HS))),T.ADD_TAGS&&(Ae===V&&(Ae=sa(Ae)),Ue(Ae,T.ADD_TAGS,or)),T.ADD_ATTR&&(K===te&&(K=sa(K)),Ue(K,T.ADD_ATTR,or)),T.ADD_URI_SAFE_ATTR&&Ue(F,T.ADD_URI_SAFE_ATTR,or),T.FORBID_CONTENTS&&(B===ie&&(B=sa(B)),Ue(B,T.FORBID_CONTENTS,or)),b&&(Ae["#text"]=!0),M&&Ue(Ae,["html","head","body"]),Ae.table&&(Ue(Ae,["tbody"]),delete ge.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw pg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=T.TRUSTED_TYPES_POLICY,D=E.createHTML("")}else E===void 0&&(E=ZW(p,i)),E!==null&&typeof D=="string"&&(D=E.createHTML(""));Jr&&Jr(T),Mu=T}},Ew=Ue({},[...AA,...wA,...HW]),Tw=Ue({},[...NA,...zW]),pV=function(T){let Y=S(T);(!Y||!Y.tagName)&&(Y={namespaceURI:we,tagName:"template"});let de=zS(T.tagName),yt=zS(Y.tagName);return Qe[T.namespaceURI]?T.namespaceURI===Z?Y.namespaceURI===ce?de==="svg":Y.namespaceURI===W?de==="svg"&&(yt==="annotation-xml"||Co[yt]):!!Ew[de]:T.namespaceURI===W?Y.namespaceURI===ce?de==="math":Y.namespaceURI===Z?de==="math"&&Mi[yt]:!!Tw[de]:T.namespaceURI===ce?Y.namespaceURI===Z&&!Mi[yt]||Y.namespaceURI===W&&!Co[yt]?!1:!Tw[de]&&(Un[de]||!Ew[de]):!!(Eo==="application/xhtml+xml"&&Qe[T.namespaceURI]):!1},Bi=function(T){fg(t.removed,{element:T});try{S(T).removeChild(T)}catch(Y){g(T)}},Bu=function(T,Y){try{fg(t.removed,{attribute:Y.getAttributeNode(T),from:Y})}catch(de){fg(t.removed,{attribute:null,from:Y})}if(Y.removeAttribute(T),T==="is")if(Ln||ci)try{Bi(Y)}catch(de){}else try{Y.setAttribute(T,"")}catch(de){}},bw=function(T){let Y=null,de=null;if(li)T="<remove></remove>"+T;else{let Kt=m3(T,/^[\r\n\t ]+/);de=Kt&&Kt[0]}Eo==="application/xhtml+xml"&&we===ce&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");let yt=E?E.createHTML(T):T;if(we===ce)try{Y=new d().parseFromString(yt,Eo)}catch(Kt){}if(!Y||!Y.documentElement){Y=P.createDocument(we,"template",null);try{Y.documentElement.innerHTML=Be?D:yt}catch(Kt){}}let br=Y.body||Y.documentElement;return T&&de&&br.insertBefore(r.createTextNode(de),br.childNodes[0]||null),we===ce?G.call(Y,M?"html":"body")[0]:M?Y.documentElement:br},Iw=function(T){return x.call(T.ownerDocument||T,T,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},A_=function(T){return T instanceof f&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof c)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},xw=function(T){return typeof s=="function"&&T instanceof s};function To(me,T,Y){VS(me,de=>{de.call(t,T,Y,Mu)})}let Aw=function(T){let Y=null;if(To(ue.beforeSanitizeElements,T,null),A_(T))return Bi(T),!0;let de=or(T.nodeName);if(To(ue.uponSanitizeElement,T,{tagName:de,allowedTags:Ae}),Pt&&T.hasChildNodes()&&!xw(T.firstElementChild)&&Qr(/<[/\w!]/g,T.innerHTML)&&Qr(/<[/\w!]/g,T.textContent)||T.nodeType===mg.progressingInstruction||Pt&&T.nodeType===mg.comment&&Qr(/<[/\w]/g,T.data))return Bi(T),!0;if(!Ae[de]||ge[de]){if(!ge[de]&&Nw(de)&&($.tagNameCheck instanceof RegExp&&Qr($.tagNameCheck,de)||$.tagNameCheck instanceof Function&&$.tagNameCheck(de)))return!1;if(b&&!B[de]){let yt=S(T)||T.parentNode,br=y(T)||T.childNodes;if(br&&yt){let Kt=br.length;for(let Zr=Kt-1;Zr>=0;--Zr){let bo=h(br[Zr],!0);bo.__removalCount=(T.__removalCount||0)+1,yt.insertBefore(bo,m(T))}}}return Bi(T),!0}return T instanceof u&&!pV(T)||(de==="noscript"||de==="noembed"||de==="noframes")&&Qr(/<\/no(script|embed|frames)/i,T.innerHTML)?(Bi(T),!0):(Wt&&T.nodeType===mg.text&&(Y=T.textContent,VS([Se,Te,fe],yt=>{Y=dg(Y,yt," ")}),T.textContent!==Y&&(fg(t.removed,{element:T.cloneNode()}),T.textContent=Y)),To(ue.afterSanitizeElements,T,null),!1)},ww=function(T,Y,de){if(pr&&(Y==="id"||Y==="name")&&(de in r||de in dV))return!1;if(!(tt&&!ke[Y]&&Qr(le,Y))){if(!(We&&Qr($e,Y))){if(!K[Y]||ke[Y]){if(!(Nw(T)&&($.tagNameCheck instanceof RegExp&&Qr($.tagNameCheck,T)||$.tagNameCheck instanceof Function&&$.tagNameCheck(T))&&($.attributeNameCheck instanceof RegExp&&Qr($.attributeNameCheck,Y)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(Y))||Y==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Qr($.tagNameCheck,de)||$.tagNameCheck instanceof Function&&$.tagNameCheck(de))))return!1}else if(!F[Y]){if(!Qr(et,dg(de,Et,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&T!=="script"&&MW(de,"data:")===0&&pe[T])){if(!(ct&&!Qr(ir,dg(de,Et,"")))){if(de)return!1}}}}}}return!0},Nw=function(T){return T!=="annotation-xml"&&m3(T,Yt)},Ow=function(T){To(ue.beforeSanitizeAttributes,T,null);let{attributes:Y}=T;if(!Y||A_(T))return;let de={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0},yt=Y.length;for(;yt--;){let br=Y[yt],{name:Kt,namespaceURI:Zr,value:bo}=br,jc=or(Kt),w_=bo,Ir=Kt==="value"?w_:BW(w_);if(de.attrName=jc,de.attrValue=Ir,de.keepAttr=!0,de.forceKeepAttr=void 0,To(ue.uponSanitizeAttribute,T,de),Ir=de.attrValue,U&&(jc==="id"||jc==="name")&&(Bu(Kt,T),Ir=_+Ir),Pt&&Qr(/((--!?|])>)|<\/(style|title)/i,Ir)){Bu(Kt,T);continue}if(de.forceKeepAttr)continue;if(!de.keepAttr){Bu(Kt,T);continue}if(!ft&&Qr(/\/>/i,Ir)){Bu(Kt,T);continue}Wt&&VS([Se,Te,fe],Pw=>{Ir=dg(Ir,Pw," ")});let Dw=or(T.nodeName);if(!ww(Dw,jc,Ir)){Bu(Kt,T);continue}if(E&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Zr)switch(p.getAttributeType(Dw,jc)){case"TrustedHTML":{Ir=E.createHTML(Ir);break}case"TrustedScriptURL":{Ir=E.createScriptURL(Ir);break}}if(Ir!==w_)try{Zr?T.setAttributeNS(Zr,Kt,Ir):T.setAttribute(Kt,Ir),A_(T)?Bi(T):g3(t.removed)}catch(Pw){Bu(Kt,T)}}To(ue.afterSanitizeAttributes,T,null)},gV=function me(T){let Y=null,de=Iw(T);for(To(ue.beforeSanitizeShadowDOM,T,null);Y=de.nextNode();)To(ue.uponSanitizeShadowNode,Y,null),Aw(Y),Ow(Y),Y.content instanceof o&&me(Y.content);To(ue.afterSanitizeShadowDOM,T,null)};return t.sanitize=function(me){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=null,de=null,yt=null,br=null;if(Be=!me,Be&&(me="<!-->"),typeof me!="string"&&!xw(me))if(typeof me.toString=="function"){if(me=me.toString(),typeof me!="string")throw pg("dirty is not a string, aborting")}else throw pg("toString is not a function");if(!t.isSupported)return me;if(ki||x_(T),t.removed=[],typeof me=="string"&&(w=!1),w){if(me.nodeName){let bo=or(me.nodeName);if(!Ae[bo]||ge[bo])throw pg("root node is forbidden and cannot be sanitized in-place")}}else if(me instanceof s)Y=bw("<!---->"),de=Y.ownerDocument.importNode(me,!0),de.nodeType===mg.element&&de.nodeName==="BODY"||de.nodeName==="HTML"?Y=de:Y.appendChild(de);else{if(!Ln&&!Wt&&!M&&me.indexOf("<")===-1)return E&&dt?E.createHTML(me):me;if(Y=bw(me),!Y)return Ln?null:dt?D:""}Y&&li&&Bi(Y.firstChild);let Kt=Iw(w?me:Y);for(;yt=Kt.nextNode();)Aw(yt),Ow(yt),yt.content instanceof o&&gV(yt.content);if(w)return me;if(Ln){if(ci)for(br=q.call(Y.ownerDocument);Y.firstChild;)br.appendChild(Y.firstChild);else br=Y;return(K.shadowroot||K.shadowrootmode)&&(br=se.call(n,br,!0)),br}let Zr=M?Y.outerHTML:Y.innerHTML;return M&&Ae["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&Qr(I3,Y.ownerDocument.doctype.name)&&(Zr="<!DOCTYPE "+Y.ownerDocument.doctype.name+">\n"+Zr),Wt&&VS([Se,Te,fe],bo=>{Zr=dg(Zr,bo," ")}),E&&dt?E.createHTML(Zr):Zr},t.setConfig=function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x_(me),ki=!0},t.clearConfig=function(){Mu=null,ki=!1},t.isValidAttribute=function(me,T,Y){Mu||x_({});let de=or(me),yt=or(T);return ww(de,yt,Y)},t.addHook=function(me,T){typeof T=="function"&&fg(ue[me],T)},t.removeHook=function(me,T){if(T!==void 0){let Y=UW(ue[me],T);return Y===-1?void 0:kW(ue[me],Y,1)[0]}return g3(ue[me])},t.removeHooks=function(me){ue[me]=[]},t.removeAllHooks=function(){ue=C3()},t}var FA=x3();var RA,jS=()=>{var e;return RA||(RA=(e=window.trustedTypes)===null||e===void 0?void 0:e.createPolicy("officebrowserfeedback#domUtils",{createScriptURL:t=>{if(t.indexOf("://")>0||t.indexOf("//")===0){let r=new URL(t);if((r==null?void 0:r.protocol)!=="https:")throw new Error("Only https protocol is allowed for script url ".concat(t));let n=C().getCommonInitOptions().allowedDomains,i=A3(document.location.hostname),o=A3(r.origin);return r.origin!==document.location.origin&&!n.includes(o)&&i!==o?(ee().logEvent(O.TRUSTEDTYPES_URL_BLOCKED,1,{Data:JSON.stringify({scriptUrl:t,currentHostname:document.location.hostname,currentOrigin:document.location.origin,scriptOrigin:r.origin})}),"about:blank#blocked"):r.href}return t},createHTML:t=>LA(t)})),RA};function LA(e){return FA.sanitize(e,{ADD_ATTR:["focusable"]})}function UA(e){return FA.sanitize(e,{USE_PROFILES:{html:!0}})}var A3=e=>e.split(".").splice(-2).join(".");function qS(e,t=window.origin){return new Promise((r,n)=>{var i,o;let a=document.createElement("script");a.async=!0,a.readyState?a.onreadystatechange=function(){(a.readyState==="loaded"||a.readyState==="complete")&&(a.onreadystatechange=null,r())}:a.onload=function(){r()},a.onerror=function(){n()},a.src=(o=(i=jS())===null||i===void 0?void 0:i.createScriptURL(e))!==null&&o!==void 0?o:e,t&&t!=="null"&&(a.crossOrigin="anonymous");let s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)})}function t7(e){let t=e!=null?e:new Date,r=t.getDay();return t.setHours(-24*r),t}function r7(e){let t=t7(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}function n7(e){var t,r,n,i;let o=["dogfood","edog","int","microsoft"],a=C().getCommonInitOptions(),s=((t=a.telemetryGroup)===null||t===void 0?void 0:t.audienceGroup)||((r=a.telemetryGroup)===null||r===void 0?void 0:r.audience),u=s&&o.indexOf(s.toLowerCase())!==-1,l=u?(n=a.webSurfacesSettings)===null||n===void 0?void 0:n.webSurfacesIntUrl:(i=a.webSurfacesSettings)===null||i===void 0?void 0:i.webSurfacesProdUrl,c=u?wu.WebSurfacesIntLink:wu.WebSurfacesProdLink,d=l||_t(u?"WebSurfacesIntLink":"WebSurfacesProdLink",c),p=r7(e);return"".concat(d,"?wds=").concat(p)}var WS;function w3(){WS||(WS=qS(n7(),null))}var $r=class e{makeSurveyLauncher(t){if(this.AcceptsSurvey(t))switch(t.getLauncherType().toLocaleLowerCase()){case e.COACHINGUX_LAUNCHER_TYPE:case e.DIALOG_LAUNCHER_TYPE:return new kA(t);default:throw new Error("Unsupported launcher type: "+t.getLauncherType())}return null}AcceptsSurvey(t){return!!(!lt(t)&&e.SUPPORTED_SURVEY_TYPES.includes(t.getType())&&e.SUPPORTED_LAUNCHER_TYPE.includes(t.getLauncherType().toLocaleLowerCase()))}};$r.COACHINGUX_LAUNCHER_TYPE="coachingux";$r.DIALOG_LAUNCHER_TYPE="dialog";$r.SUPPORTED_SURVEY_TYPES=[YS.Api.SurveyType.GenericMessagingSurface,YS.Api.SurveyType.Dialog];$r.SUPPORTED_LAUNCHER_TYPE=[$r.COACHINGUX_LAUNCHER_TYPE,$r.DIALOG_LAUNCHER_TYPE];var kA=class{constructor(t){var r;this.survey=t,!WS&&t&&t.getSurveyInfo&&((r=t.getSurveyInfo())===null||r===void 0?void 0:r.getBusinessLevel())===YS.Api.SurveyInfoBusinessLevel.Critical&&setTimeout(w3,1e3)}launch(t){if(this.survey.getLauncherType()!=$r.COACHINGUX_LAUNCHER_TYPE)throw new Error("Invalid launcher type: '".concat(this.survey.getLauncherType(),"'. \n				Supported launcher type is: '").concat($r.COACHINGUX_LAUNCHER_TYPE,"'."));let r=this.survey&&this.survey.getSurveyInfo(),n=r&&r.getMetadata(),i=r&&r.getTreatmentType(),o=n&&n.getContentMetadata();if(!o)return;let a=new Date,s=()=>{let c=Ji();return c&&c.OfficeWebSurfaces},u=c=>{let f=s();c&&f.Initialize(c),f.RemoveSurface();let d=Object.assign(Object.assign({},o),{surfaceContext:{surveyForm:this.survey,surveyParams:t},treatmentType:i});f.RenderSurface(d,null,r.getBackEndId())},l=c=>{ee().logEvent(O.WebSurfaces.Common.Error.VALUE,1,{ErrorMessage:"Error loading websurfaces"+(c&&c.message?": "+c.message:""),TimeMilliseconds:Date.now()-+a})};try{if(s()){u();return}w3(),WS.then(()=>{let c=C().getCommonInitOptions(),f=C().getFloodgateInitOptions(),d=f&&f.onSurveyActivatedCallback,p=h=>{if(h)return Fu().setCampaignAction(h)},v=Object.assign(Object.assign(Object.assign({},c),f),{beaconCallback:p,surfaceInitTime:a,surfaceId:r.getBackEndId(),logSessionId:C().getSdkSessionId(),logSettings:_t("LogLevelSettings",void 0),renderer:d,renderCallback:d&&d.onTeachingCampaignRender});u(v)}).catch(c=>{l(c)})}catch(c){l(c)}}};var l_=X(Ee()),nG=X(na());var Ru={};D_(Ru,{DynamicUxClient:()=>u_,get:()=>hn,setup:()=>JA});var tG=X(na());var MA;(function(e){e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE",e.PATCH="PATCH"})(MA||(MA={}));var vg;(function(e){e.M365AdminCenter="MAC",e.Mover="Mover",e.ExchangeAdminCenter="EAC",e.SharepointAdminCenter="SPO",e.TeamsAdminCenter="TAC",e.ComplianceAdminCenter="CAC",e.SecurityAdminCenter="SAC",e.ProductivityAdminCenter="PAC",e.GraphApi="Graph",e.VRoomApi="VRoom",e.DeviceCareApi="DeviceCare",e.RecommendationApi="Reco",e.M365AoboApi="M365Aobo",e.Assist="Assist",e.BusinessApplicationPlatform="PPACBap",e.PowerPlatformConfigService="PPACConfigService",e.PowerPlatformAPITenantLevel="ppapi-tenant-level",e.PowerPlatformAPIEnvironmentLevel="ppapi-environment-level",e.PowerPlatformAPITenantLevelPreProd="ppapi-tenant-level-preprod",e.PowerPlatformAPIEnvironmentLevelPreProd="ppapi-environment-level-preprod",e.DynamicsCRM="dynamics-crm",e.LicensingAPI="LicAPI",e.PPApiTenantLevel="PPApiTenantLevel",e.Fusion="Fusion",e.VivaPulse="VivaPulse",e.CloudPolicyServiceApi="OCPS",e.ECS="ECS",e.O365ShellServices="O365Shell",e.ProfileService="ProfileService",e.VsbHub="VsbHub",e.Augloop="Augloop",e.EmbeddedFinanceService="EmbeddedFinanceService",e.AzureResourceManager="ARM",e.SubstrateSearchService="3S",e.Tulips="Tulips",e.M365Rewards="M365Rewards",e.DevicesMgmtApi="DevicesMgmtApi",e.Recommender="Recommender",e.UnifiedAdminApp="UnifiedAdminApp"})(vg||(vg={}));function So(e,t){let r=t?A.Hidden:A.Visible,n=t?A.Visible:A.Hidden;o7(e,r,n)}function N3(e){let t=document.getElementById(e);t!=null&&t.parentNode!=null&&t.parentNode.removeChild(t)}function BA(e,t){let r=document.getElementById(e);r&&(r.className.match(new RegExp("\\b"+t+"\\b"))||(r.className=r.className+" "+t))}function i7(e,t){let r=document.getElementById(e);r&&(r.className=r.className.split(new RegExp("\\b"+t+"\\b","i")).join(" "),r.className=r.className.split(/\s+/).join(" "))}function o7(e,t,r){i7(e,t),BA(e,r)}function O3(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)}function a7(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function D3(e,t,r){let n=document.getElementById(e);n&&O3(n,t,r)}function P3(e,t,r){e&&O3(e,t,r)}function F3(e,t,r){let n=document.getElementById(e);n&&a7(n,t,r)}function GA(){return getComputedStyle(document.documentElement).direction==="rtl"}function Uc(e,t=!0,r=!0){let n;return e&&(n=document.getElementById(e)),n||(n=document.createElement(he.Div),n.id=e,t&&(r?document.body.insertBefore(n,document.body.firstChild):document.body.appendChild(n))),n}var R3=X(Ee());var kc=class e{constructor(){var t,r,n,i,o,a,s,u;this.listeners=[];let l={authenticationType:Kr[(r=(t=C().getCommonInitOptions())===null||t===void 0?void 0:t.authenticationType)!==null&&r!==void 0?r:Kr.Unauthenticated],ageGroup:rr[(i=(n=C().getCommonInitOptions())===null||n===void 0?void 0:n.ageGroup)!==null&&i!==void 0?i:rr.Undefined],policyAllowFeedback:oa((o=C().getInAppFeedbackInitOptions())===null||o===void 0?void 0:o.sendFeedbackPolicyValue),policyAllowSurvey:Zp((a=C().getFloodgateInitOptions())===null||a===void 0?void 0:a.surveyEnabled),policyAllowScreenshot:oa((s=C().getCommonInitOptions())===null||s===void 0?void 0:s.screenshotPolicyValue),policyAllowContact:oa((u=C().getCommonInitOptions())===null||u===void 0?void 0:u.emailPolicyValue)};this.centroInitOptions={commonInitOptions:{appId:C().getCommonInitOptions().appId,application:C().getCommonInitOptions().applicationGroup,complianceChecks:l,isProduction:C().getCommonInitOptions().environment===0,retentionDurationDays:C().getCommonInitOptions().retentionDurationDays,sdkVersion:hS+(sr().OfficeBrowserFeedback.sdkVersion!==void 0?sr().OfficeBrowserFeedback.sdkVersion:ps),telemetry:C().getCommonInitOptions().telemetryGroup,web:C().getCommonInitOptions().webGroup,locale:C().getCommonInitOptions().originalLocale,userEmail:C().getCommonInitOptions().userEmail,showEmailAddress:C().getFloodgateInitOptions().showEmailAddress},autoDismissValues:{promptAutoDismissTimeInMs:eg(C().getFloodgateInitOptions().autoDismiss)},hostPlatform:R3.IFloodgateHostPlatform.Web}}static get(){return this.instance||(this.instance=new e),this.instance}register(t){return t&&this.listeners.push(t),Object.assign(Object.assign({},this.centroInitOptions),this.centroLaunchOptions)}unregister(t){let r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}updateFloodgateSurvey(t){this.centroLaunchOptions={uxSchema:C().getFloodgateSurvey().getUxSchema(),clientFeedbackId:C().getFloodgateSurvey().getPreGeneratedClientFeedbackId(),campaignId:C().getFloodgateSurvey().getCampaignId(),surveyId:C().getFloodgateSurvey().getId(),surveyType:C().getFloodgateSurvey().getSurveyType(),isUserInitiatedSurvey:C().getFloodgateSurvey().isUserInitiatedSurvey(),callbackFunctions:{onDismiss:n=>{C().getFloodgateInitOptions().onDismiss(C().getFloodgateSurvey().getCampaignId(),n),t()},onError:n=>{C().getCommonInitOptions().onError(n),t()}}};let r=Object.assign(Object.assign({},this.centroInitOptions),this.centroLaunchOptions);this.listeners.forEach(n=>n(r))}};var Me;(function(e){e.Info="Info",e.Error="Error",e.Analytics="Analytics",e.Performance="Performance",e.Interface="Interface",e.Availability="Availability",e.Reliability="Reliability",e.Framework="Framework",e.Flight="Flight"})(Me||(Me={}));var ua;(function(e){e.ClientInfo="ClientInfo",e.ClientError="ClientError",e.ClientAnalytics="ClientAnalytics",e.ClientPerformance="ClientPerformance",e.ClientAvailability="ClientAvailability",e.ClientReliability="ClientReliability",e.ClientFramework="ClientFramework"})(ua||(ua={}));var L3;(function(e){e.Microsoft365AdminCenter="@ms/mac"})(L3||(L3={}));function hg(e){return e.type===Me.Error}function VA(e){return e.type===Me.Analytics}function HA(e){return e.type===Me.Performance}function U3(e){return e.type===Me.Framework}function QS(e){return e.type===Me.Flight}var zA=new Map;function jA(e,t){if(zA.has(e))throw new Error("Logger "+e+" already exists");zA.set(e,t)}function s7(e){k3(e,zA)}function k3(e,t){t.forEach(function(r,n){try{r.logger(e)}catch(o){var i=new Map(t);i.delete(n),k3({id:"500294",type:Me.Error,logCategory:ua.ClientError,message:"Failure in logger: "+n,error:o},i)}})}var Ze=s7;function XS(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function u7(e,t,r){return Le(this,void 0,void 0,function(){var n=this;return Ye(this,function(i){return[2,new Promise(function(o,a){return Le(n,void 0,void 0,function(){function s(u){return Le(this,void 0,void 0,function(){var l,c,f=this;return Ye(this,function(d){return l=t.createElement("script"),c=r!=null&&r.createScriptURL?r.createScriptURL(e.content):e.content,l.src=c,l.onload=function(){u||Ze({type:Me.Info,message:"Script successfully loaded after retry: "+c,id:"536622",data:{script:c}}),o()},l.onerror=function(){return Le(f,void 0,void 0,function(){var p,v,h,g,m;return Ye(this,function(y){switch(y.label){case 0:l.remove(),y.label=1;case 1:return y.trys.push([1,6,,7]),[4,fetch(c)];case 2:return p=y.sent(),v=p.headers.get("content-type"),h=p.headers.get("x-ms-request-id"),g=p.headers.get("x-cdn-provider"),u?(Ze({type:Me.Info,message:"Retrying to load script: "+c+". Status: "+p.status,id:"536623",data:{script:c,status:p.status,contentType:v,requestId:h,cdnProvider:g}}),[4,s(!1)]):[3,4];case 3:return y.sent(),[3,5];case 4:Ze({type:Me.Info,message:"Failed to load script after retry: "+c+". Status: "+p.status,id:"536624",data:{script:c,status:p.status,contentType:v,requestId:h,cdnProvider:g}}),a(new Error("Dynamically loading script "+c+" failed. Status: "+p.status+", content-type: "+v+", x-ms-request-id: "+h+", x-cdn-provider: "+g)),y.label=5;case 5:return[3,7];case 6:return m=y.sent(),a(new Error("Dynamically loading script "+c+" failed: "+m)),[3,7];case 7:return[2]}})})},XS(l,e.attributes),t.body.appendChild(l),[2]})})}return Ye(this,function(u){switch(u.label){case 0:return[4,s(!0)];case 1:return u.sent(),[2]}})})})]})})}function l7(e,t){return Le(this,void 0,void 0,function(){return Ye(this,function(r){return[2,new Promise(function(n){var i=t.createElement("script"),o=t.createTextNode(e.content);i.appendChild(o),XS(i,e.attributes),t.body.appendChild(i),n()})]})})}function c7(e){return Le(this,void 0,void 0,function(){return Ye(this,function(t){return[2,new Promise(function(r,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=e.content,i.onload=function(){r()},i.onerror=function(){n(new Error("Dynamically loading style "+e.content+" failed"))},XS(i,e.attributes),document.head.appendChild(i)})]})})}function f7(e){return Le(this,void 0,void 0,function(){return Ye(this,function(t){return[2,new Promise(function(r){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var i=document.createTextNode(e.content);n.appendChild(i),XS(n,e.attributes),document.head.appendChild(n),r()})]})})}function JS(e,t,r){return r===void 0&&(r=document),Le(this,void 0,void 0,function(){var n,i,o,a,s,u,l,c,f;return Ye(this,function(d){switch(d.label){case 0:switch(n=e.type,n){case"parallel":return[3,1];case"sequential":return[3,5];case"scriptUrl":return[3,16];case"script":return[3,18];case"styleUrl":return[3,20];case"style":return[3,22]}return[3,24];case 1:return d.trys.push([1,3,,4]),[4,Promise.all(e.children.map(function(p){return JS(p,t)}))];case 2:return d.sent(),[3,4];case 3:if(i=d.sent(),e.optional)console.log("Dynamic loading of optional script failed",i);else throw i;return[3,4];case 4:return[2];case 5:d.trys.push([5,14,,15]),d.label=6;case 6:d.trys.push([6,11,12,13]),o=gd(e.children),a=o.next(),d.label=7;case 7:return a.done?[3,10]:(s=a.value,[4,JS(s,t)]);case 8:d.sent(),d.label=9;case 9:return a=o.next(),[3,7];case 10:return[3,13];case 11:return u=d.sent(),c={error:u},[3,13];case 12:try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}return[7];case 13:return[3,15];case 14:if(l=d.sent(),e.optional)console.log("Dynamic loading of optional script failed",l);else throw l;return[3,15];case 15:return[2];case 16:return[4,u7(e,r,t)];case 17:return d.sent(),[2];case 18:return[4,l7(e,r)];case 19:return d.sent(),[2];case 20:return[4,c7(e)];case 21:return d.sent(),[2];case 22:return[4,f7(e)];case 23:return d.sent(),[2];case 24:throw new Error("Invalid script loader object "+JSON.stringify(e))}})})}var qA;(function(e){e.M365AdminPortal="M365AdminPortal",e.SPOAdminPortal="SPOAdminPortal",e.SPOPortal="SPOPortal",e.EXOAdminPortal="EXOAdminPortal",e.TeamsAdminPortal="TeamsAdminPortal",e.SecurityPortal="SecurityPortal",e.CompliancePortal="CompliancePortal",e.M365SCCPortal="M365SCCPortal",e.SupportCentral="SupportCentral",e.IbizaMTMPortal="IbizaMTMPortal",e.CloudCostManagementPortal="CloudCostManagementPortal",e.Rave="Rave",e.DynamicsPortal="DynamicsPortal",e.TeamsApp="TeamsApp",e.M365DefenderSMB="M365DefenderSMB",e.Windows365Portal="Windows365Portal",e.PPACAdminPortal="PPACAdminPortal",e.VivaGoals="VivaGoals",e.VivaPulse="VivaPulse",e.VivaInsights="VivaInsights",e.FireSurveysHost="FireSurveysHost",e.AEM="AEM",e.ExcelPythonAddon="ExcelPythonAddon",e.AdminAppMetaOSTeams="AdminAppMetaOSTeams",e.AdminAppMetaOSOffice="AdminAppMetaOSOffice",e.AdminAppMetaOSOutlook="AdminAppMetaOSOutlook",e.Project="Project",e.Planner="Planner",e.Visio="Visio",e.Clipchamp="Clipchamp"})(qA||(qA={}));var M3;(function(e){e.Static="centro.runtime.static",e.Error="centro.hvc.error",e.CentroHvcLoader="centro.hvc.loader-data"})(M3||(M3={}));var B3=void 0;function G3(){if(B3===void 0)throw new Error("History object has not been set");return B3}function si(e){var t=e;try{typeof e=="string"&&(t=t.replaceAll(/[a-zA-Z0-9_\-'.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/g,"<upn>").replaceAll(/[a-zA-Z0-9_\-'.]+%40[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/g,"<upn>"),t=t.replaceAll(/eyJ0eX[A-Za-z0-9-_]+\.+[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=/]+/g,"<token>").replaceAll(/eyJhbG[A-Za-z0-9-_]+\.+[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=/]+/g,"<token>"))}catch(r){}return t}var yg;(function(e){e[e.Trace=0]="Trace",e[e.Info=1]="Info",e[e.Comment=2]="Comment",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical"})(yg||(yg={}));var d7=526460,YA=!0;function V3(e,t,r,n){var i=1e3,o=[],a=Promise.resolve(),s=0,u=e,l=t,c=r,f=n,d=!1,p=function(){if(o.length===0||YA){d=!1;return}d=!0,setTimeout(function(){v().catch(function(){})},i)},v=function(){return o.length===0||YA?(p(),Promise.resolve()):(a=new Promise(function(y,S){var E=new XMLHttpRequest;E.open("POST",l,!0),E.setRequestHeader("Content-Type","application/json"),E.setRequestHeader("x-ms-mac-hostingapp",c),E.setRequestHeader("x-ms-mac-appid",u),E.setRequestHeader("x-ms-mac-version",f),E.onreadystatechange=function(){if(E.readyState===XMLHttpRequest.DONE){if(E.status!==204){var P=new Error("Request to /api/instrument/logclient failed, server responseCode: "+E.status+" body: "+E.response);console.log(P),S(P);return}y()}};var D=o.splice(0,o.length);E.send(JSON.stringify(D))}),a.then(p))};p();var h=function(y){o.push(y),d||p()};function g(){return Le(this,void 0,void 0,function(){return Ye(this,function(y){return[2,Promise.all([a,v()]).then(function(){})]})})}function m(y){if(!(VA(y)||HA(y)||U3(y))){s+=1;var S="",E="";try{if(S=G3().location.pathname,S!==null&&S.indexOf(":")!==-1){var D=S.split(":");S=D[0],E=D[1]}}catch(q){S="",E=""}if(QS(y))h({TagId:d7,LogLevel:yg.Info,LogCategory:ua.ClientAnalytics,Message:"UI Flight: "+y.flightName,Adhoc0:y.flightName,Adhoc1:JSON.stringify(y.flightData),Adhoc2:si(JSON.stringify(y.data)),Adhoc3:s.toString(),Adhoc5:si(E),PageName:si(S)});else{var P=parseInt(y.id,10);if(h({TagId:P,LogLevel:yg.Info,LogCategory:y.logCategory||ua.ClientInfo,Message:si(y.message||""),Adhoc0:u,Adhoc1:s.toString(),Adhoc2:si(JSON.stringify({data:y.data})),Adhoc5:si(E),PageName:si(S)}),hg(y)){var x=y.error.stack||"";h({TagId:500781,LogLevel:yg.Error,LogCategory:y.logCategory||ua.ClientError,Message:si("UI Exception: "+(y.error.message||"")),Adhoc0:u,Adhoc1:s.toString(),Adhoc2:si(JSON.stringify({version:f,stack:x})),Adhoc3:P.toString(),Adhoc5:si(E),PageName:si(S)})}}}}return{logger:m,flush:g}}function H3(){YA=!1}function z3(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}var j3=function(e){var t,r=window,n,i=["https://res.sdf.cdn.office.net","https://res-3.cdn.partner.office365.cn","https://res-1-gcch.cdn.office.net","https://res-1-dod.cdn.office.net","https://res-1-cdn.azureedge.microsoft.scloud","https://res-1-cdn.azureedge.eaglex.ic.gov","https://res-2-dev.cdn.officeppe.net","https://res-2-h3.sdf.cdn.office.net","https://res-2-h3.public.cdn.office.net","https://res-2-gcch.cdn.office.net","https://res-2-dod.cdn.office.net","https://res-4.cdn.partner.office365.cn","https://res-dev.cdn.officeppe.net","https://res.cdn.office.net","https://localcdn.centro-dev.com:5555","https://res.public.onecdn.static.microsoft","https://res.df.onecdn.static.microsoft","https://res-cn.cdn.partner.office365.cn","https://res-dod.cdn.office.net","https://res-gcc.cdn.office.net","https://res-gcch.cdn.office.net","https://res-1-cdn.azureedge.microsoft.scloud","https://res-1-cdn.azureedge.eaglex.ic.gov"];if(!((t=r==null?void 0:r.trustedTypes)===null||t===void 0)&&t.createPolicy)try{n=r.trustedTypes.createPolicy(e,{createScriptURL:function(o){var a;try{a=new URL(o)}catch(s){throw new Error("Invalid script url "+o)}if((a==null?void 0:a.protocol)!=="https:")throw new Error("Only https protocol is allowed for script url "+o);if(a!=null&&a.origin&&!i.includes(a==null?void 0:a.origin))throw new Error("Loading a script from "+o+" is not allowed because the domain is not in the list of trusted domains");return o},createScript:void 0,createHTML:void 0})}catch(o){console.error("Failed to create trusted type policy",o)}return n};var g7=j3("@centro/hvc-loader"),vn=window;function Y3(e,t){if(!e){var r=new Error(t);throw Ze({type:Me.Error,message:t,id:"508371",error:r}),r}}function ZS(e){return vn===void 0?(Ze({type:Me.Info,message:"window is undefined",id:"512105"}),!1):vn.m365_admin_features===void 0?(Ze({type:Me.Info,message:"window.m365_admin_features is undefined",id:"512108"}),!1):vn.m365_admin_features.initializers!==void 0&&vn.m365_admin_features.initializers[e]!==void 0}function WA(e){var t,r;return!!(!((r=(t=vn.m365_admin_features)===null||t===void 0?void 0:t.locDbg)===null||r===void 0)&&r[e])}var m7="https://cdn.config.centro.core.microsoft/uxversion",e_=void 0,Sg=void 0,t_=!1,W3=!1,r_=void 0,n_=!1,Q3=new Map,J3=void 0,Tr=void 0;function v7(e){if(e!==void 0&&e.hasOwnProperty("__hostApp_config"))for(var t in e)t.startsWith("__")||(e[t.toLowerCase()]=e[t],t.toLowerCase()!==t&&delete e[t]);return JSON.stringify(e)}function $S(e,t,r){var n=new URL(e);return n.searchParams.append(t,r),n.toString()}function X3(e,t,r,n){return e===void 0&&(e=""),t===void 0&&(t=!1),n===void 0&&(n=!1),Le(this,void 0,void 0,function(){var i,o;return Ye(this,function(a){switch(a.label){case 0:if(Tr===void 0)throw i=new Error("attempting to getUxVersionData before preConfig were provided"),Ze({type:Me.Error,message:i.message,error:i,id:"508373"}),i;return o=""+(t?m7:e_+"/admin/api/uxversion")+e,n_&&(o=$S(o,"locale",Tr.locale),o=$S(o,t?"featureconsumer":"hostingapp",Tr.hostName)),n&&(o=$S(o,"enableSubFeatures",n.toString())),r&&t&&Object.entries(r).forEach(function(s){var u=Nv(s,2),l=u[0],c=u[1];o=$S(o,l,c)}),[4,new Promise(function(s,u){var l=new XMLHttpRequest;l.open("GET",o,!0),!n_&&!t&&(l.setRequestHeader("x-ms-mac-locale",Tr.locale),l.setRequestHeader("x-ms-mac-hostingapp",Tr.hostName)),l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE){var c=l.getResponseHeader("x-ms-correlation-id");if(l.status!==200){var f="Request to "+o+" failed, server responseCode: "+l.status+" body: "+l.response+" correlationId: "+c,d=new Error(f);u(d);return}try{s(v7(JSON.parse(l.response)))}catch(p){var f="Failed to parse JSON response: "+p.message,d=new Error(f);u(d)}}},l.send()})];case 1:return[2,a.sent()]}})})}function h7(){return Le(this,void 0,void 0,function(){var e,t;return Ye(this,function(r){switch(r.label){case 0:return r_?[2]:(t=(e=JSON).parse,[4,X3("?locdbg=true")]);case 1:return r_=t.apply(e,[r.sent()]),[2]}})})}function K3(e){var t,r,n,i,o={},a=Sg;if(!a)return o;try{for(var s=gd(e),u=s.next();!u.done;u=s.next()){var l=u.value;try{for(var c=(n=void 0,gd(Object.entries(a))),f=c.next();!f.done;f=c.next()){var d=Nv(f.value,2),p=d[0],v=d[1];typeof v=="object"&&p!=="ariaLoggerId"&&p!=="hostingAppUrls"&&p!=="__hostApp_config"&&("hostingAppUrls"in v||v.subFeatures&&v.subFeatures.includes(l)&&(p in o?o[p]=U0(U0([],Nv(o[p])),[l]):o[p]=[l]))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return Ze({type:Me.Info,message:"hvcloader subFeatures was requested",id:"532977",data:{eventName:"hvcLoader_applicable_features",applicableFeatures:JSON.stringify(o)}}),o}function i_(e){return Le(this,void 0,void 0,function(){var t,r,n,i,o,a,s,u,h,l,c,f,d,p,v,h;return Ye(this,function(g){switch(g.label){case 0:t=e.centroEnvironmentBaseUrl,r=e.preConfig,n=e.centroHvcData,i=e.enableUxVersionQueryParam,o=e.subFeatures,a=e.targetHtmlElement,Y3(!!t,"centroEnvironmentBaseUrl is missing"),Y3(!!r,"preConfig is missing"),a&&(vn=a.ownerDocument.defaultView||window),Tr=r,Tr.appId||(Tr.appId=z3()),s=Tr.appId,u=Tr.hostName,g.label=1;case 1:return g.trys.push([1,5,,6]),t_?(Ze({type:Me.Info,message:"initialize() is called but loader is already previously initialized",id:"508375"}),o?(h=K3(o),[2,{applicableFeatures:h}]):[2]):(e_=t.substring(t.length-1)==="/"?t.substring(0,t.length-1):t,l=q3(),J3=l.version,c=e_+"/api/instrument/logclient",W3||(jA("hvcLoaderKustoLogger",V3(s,c,u,l.name+"_"+l.version)),H3(),Tr.additionalLoggers!==void 0&&Object.keys(Tr.additionalLoggers).forEach(function(m){jA(m,{logger:Tr.additionalLoggers[m]})}),W3=!0),f=performance.now(),n?(Ze({type:Me.Info,message:"uxVersion Data is provided thru parameter",id:"508372",data:n}),Sg=JSON.parse(n),[3,4]):[3,2]);case 2:if(e.forHostVersion&&e.hvcVersion)throw new Error("cannot specify both forHostVersion and hvcVersion");return n_=!!i,d="",e.forHostVersion&&!Tr.useCentroConfig?d="?bldVer="+encodeURIComponent(e.forHostVersion):e.hvcVersion&&(d="?pkgver="+encodeURIComponent(e.hvcVersion)),[4,X3(d,Tr.useCentroConfig,Tr.vectors,!!o)];case 3:p=g.sent(),Ze({type:Me.Info,message:"uxVersion Data is provided thru parameter",id:"508372",data:p}),Sg=JSON.parse(p),g.label=4;case 4:return t_=!0,Ze({type:Me.Info,message:"hvcloader initialze() step has succeeded",id:"513574",data:{eventName:"hvcLoader_Initialize_step",fromStart:performance.now()-f,UA:navigator.userAgent,enableQueryParam:n_}}),[3,6];case 5:throw v=g.sent(),Ze({type:Me.Error,message:"hvcloader initialze() step has failed "+v.message,id:"508376",error:v}),v;case 6:return o?(h=K3(o),[2,{applicableFeatures:h}]):[2]}})})}function o_(e){return Le(this,void 0,void 0,function(){var t,r,n,i,o,a;return Ye(this,function(s){switch(s.label){case 0:t=Sg,s.label=1;case 1:if(s.trys.push([1,7,,8]),!t_)throw new Error("initialize() needs to be invoked before calling preloadFeature()");return r=performance.now(),e.localMode?[4,h7()]:[3,3];case 2:s.sent(),t=r_,s.label=3;case 3:if(!t)throw new Error("uxVersionData is not populated");return n=e.featureName.toLowerCase(),t[n]?ZS(n)&&WA(n)===!!e.localMode&&!e.enableMultiplePreload?(Ze({type:Me.Info,message:"preloadFeature() feature "+n+" already loaded previously",id:"508465",data:{hvc:n}}),[3,6]):[3,4]:(Ze({type:Me.Info,message:"HVC "+n+" is not enabled for this host",id:"508419"}),[2,[!1,void 0]]);case 4:return ZS(n)&&WA(n)===!!e.localMode&&Ze({type:Me.Info,message:"preloadFeature() feature "+n+" already loaded previously, but enableMultiplePreload is set to true, so attempt to load it again",id:"533107",data:{hvc:n}}),[4,JS(t[n].loaderSpec,g7,vn.document)];case 5:if(s.sent(),!ZS(n))throw new Error("preloadFeature(): global is not populated after loading for "+n);vn.m365_admin_features.locDbg===void 0&&(vn.m365_admin_features.locDbg={}),vn.m365_admin_features.locDbg[n]=!!e.localMode,s.label=6;case 6:e.adapters&&Q3.set(n,e.adapters),i=void 0;try{i=vn.m365_admin_features.staticAdditionalObjects[n]}catch(u){throw o=vn.m365_admin_features.foreignEnvMainVersion,Ze({type:Me.Error,message:o?"using v3 Hvc "+n+", error when trying to retrieve staticAdditionalObjects, error: "+u.message:"using v2 Hvc "+n+", staticAdditionalObjects is not supported, error: "+u.message,id:"521848",error:u}),u}return Ze({type:Me.Info,message:"preloadFeatures() step has succeeded",id:"513585",data:{hvc:n,uxdata:JSON.stringify(t),eventName:"preloadFeature_step",fromStart:performance.now()-r,UA:navigator.userAgent}}),[2,[!0,i]];case 7:throw a=s.sent(),Ze({type:Me.Error,message:"error in preloadFeatures() step "+a.message,id:"508417",data:{uxdata:JSON.stringify(t)},error:a}),a;case 8:return[2]}})})}function a_(e){return Le(this,void 0,void 0,function(){var t,r,n,i,o,a,s,u;return Ye(this,function(l){switch(l.label){case 0:if(l.trys.push([0,7,,8]),!t_)throw new Error("initialize() needs to be invoked before calling bootstrapFeature()");if(t=performance.now(),r=Sg,n=e.featureName.toLowerCase(),WA(n)&&(r=r_),!r)throw new Error("uxVersionData is not populated");if(!ZS(n))return[3,5];i={centroBaseUrl:e_,cdnUrl:r[n].cdnUrl,ariaLoggerId:r.__hostApp_config.ariaLoggerId,targetAppUrls:r.__hostApp_config.hostingAppUrls,versionInfo:J3},o=void 0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,vn.m365_admin_features.initializers[n](Q3.get(n),i,Tr)];case 2:return o=l.sent(),Ze({type:Me.Info,message:"bootstrapFeature() step has succeeded",id:"513586",data:{hvc:n,eventName:"bootstrapFeature_step",fromStart:performance.now()-t,UA:navigator.userAgent}}),[3,4];case 3:throw a=l.sent(),s=vn.m365_admin_features.foreignEnvMainVersion,Ze({type:Me.Error,message:s?"using v3 Hvc "+n+", error when running foreignFeatureInitializeRuntime, error: "+a.message:"using v2 Hvc "+n+" is not supported, error: "+a.message,id:"521851",error:a}),a;case 4:return[2,o];case 5:throw new Error("bootstrapFeature(): preloadFeature() was not called before bootstraping "+n);case 6:return[3,8];case 7:throw u=l.sent(),Ze({type:Me.Error,message:"error in bootstrapFeature() step "+u.message,id:"508481",error:u}),u;case 8:return[2]}})})}function Mc(e){return{register:function(){return e},unregister:function(){}}}var dde=Mc({});var KA;(function(e){e.Centro="Centro",e.Hvc="Hvc",e.Consumer="Consumer"})(KA||(KA={}));var QA;(function(e){e.Request="Request",e.History="History",e.DataSources="DataSources",e.SetTitleImpl="SetTitleImpl"})(QA||(QA={}));var Ri=class{};Ri.bootstrapFeature=a_;Ri.createStaticDataSource=Mc;Ri.initialize=i_;Ri.preloadFeature=o_;var y7=.01;function Z3(e){var t;if(!QS(e))try{let r=C(),{data:n,id:i}=e,o=ER(e,["data","id"]),a={PromptAutoDismiss:(t=r.getFloodgateInitOptions().autoDismiss)===null||t===void 0?void 0:t.toString(),IsEmailPolicyEnabled:r.getFloodgateInitOptions().showEmailAddress,Data:JSON.stringify(S7(n)),CentroData:JSON.stringify(o)};r.getFloodgateSurvey()&&(a.CampaignId=r.getFloodgateSurvey().getCampaignId(),a.SurveyId=r.getFloodgateSurvey().getId(),a.SurveyType=r.getFloodgateSurvey().getSurveyType(),a.ClientFeedbackId=r.getFloodgateSurvey().getPreGeneratedClientFeedbackId()),_7(i)?ee().logEvent({name:i},$3(e,a),a,y7):ee().logEvent({name:i},$3(e,a),a)}catch(r){ee().logEvent(O.Centro.Logging.Error.VALUE,2,{ErrorMessage:"Error logging centro data"+(r&&r.message?": "+r.message:"")})}}var $3=(e,t)=>{let r="";return Object.prototype.hasOwnProperty.call(e,"message")&&typeof e.message=="string"&&(r=e.message),hg(e)?(t.ErrorMessage=r,2):(t.Message=r,1)},S7=e=>(e==null||typeof e!="object"||(e.location=void 0,e.locationAncestors=void 0),e),_7=e=>{if(e==null||typeof e!="string")return!1;let t=!1;return Number.isNaN(Number(e))||(t=!0),t};var Bc=class e{constructor(){this.listeners=[],this.centroThemeOptions={baseTheme:C().getDynamicUxConfig().theme,customTheme:C().getDynamicUxConfig().customTheme,surveyUxCSSParams:C().getFloodgateInitOptions().surveyCSSParams,footerButtonsAlignment:C().getDynamicUxConfig().footerButtonsAlignment}}static get(){return this.instance||(this.instance=new e),this.instance}register(t){return t&&this.listeners.push(t),this.centroThemeOptions}unregister(t){let r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}updateThemeState(t){this.centroThemeOptions=Object.assign(Object.assign({},this.centroThemeOptions),t),this.listeners.forEach(r=>r(this.centroThemeOptions))}};var u_=class{constructor(){this.dynamicUxConfig={},this.clientState=0;let t=C().getFloodgateInitOptions().surveyContainer;tG.Utils.isNOU(t)?this.elementToMount=Uc(dA,!0,!1):typeof t=="string"?this.elementToMount=Uc(t,!0,!1):typeof t=="object"?this.elementToMount=t:this.elementToMount=Uc(dA,!0,!1)}setup(t){this.dynamicUxConfig=t}isEnabled(){return!!this.dynamicUxConfig.enabled}getStatus(){return this.clientState}delayLoadCentroUx(){if(this.dynamicUxConfig.delayLoadingTimeout===0)ee().logEvent(O.DYNAMICUX_LOAD_PRELOAD,1,{TimeMilliseconds:0},.01),this.loadCentroUx();else{let t=performance.now();setTimeout(()=>{let r=performance.now()-t;ee().logEvent(O.DYNAMICUX_LOAD_PRELOAD,1,{TimeMilliseconds:r},.01),this.loadCentroUx()},this.dynamicUxConfig.delayLoadingTimeout)}}setOnSurveyActivatedCallback(t,r){ee().logEvent(O.SURVEY_TRIGGER_DYNAMICUX_ONLOAD,1,{CampaignId:r.getCampaignId(),SurveyId:r.getId(),SurveyType:r.getSurveyType(),Message:JSON.stringify({DynamicUxClientState:this.clientState,isUserInitiatedSurvey:r.isUserInitiatedSurvey()})}),r.isUserInitiatedSurvey()?this.userSurveyCallback=t:this.systemSurveyCallback=t}boostStrapSurvey(){return Le(this,void 0,void 0,function*(){if(this.clientState!==2)return Promise.reject("DynamicUx is not loaded successfully");try{this.unmountFunc=yield this.boostStrapper.main(this.elementToMount)}catch(t){return Promise.reject("Error: ".concat(t.toString(),", Error stack: ").concat(t.stack))}})}unmountSurvey(){this.unmountSurvey&&this.unmountFunc()}loadCentroUx(){return Le(this,void 0,void 0,function*(){if(this.clientState===2||this.clientState===1||this.clientState===3)return;this.clientState=1;let t=performance.now();try{let r={hostName:C().getFloodgateInitOptions().dynamicUxConfig.hostName||US,locale:C().getCommonInitOptions().locale,perfPrefix:VB,additionalLoggers:{CentroFloodgateLoggerFunc:Z3},kustoEndpoint:"",disableAriaLogging:!0},n={centroEnvironmentBaseUrl:fA,preConfig:r,targetHtmlElement:this.elementToMount,forHostVersion:zB};yield Ri.initialize(n);let i=s=>{s(GB,Ri.createStaticDataSource({theme:"M365Light"})),s(MB,kc.get()),s(BB,Bc.get())},o={request:{getAuthToken:()=>Promise.resolve(null),urlResolveHandler:s=>s.url.includes(HB)?s.url:s.backend===vg.M365AdminCenter?fA+s.url:s.url}};yield Ri.preloadFeature({featureName:pA,adapters:Object.assign(Object.assign({},o),{dataSources:i})}),this.boostStrapper=yield Ri.bootstrapFeature({featureName:pA}),this.clientState=2;let a=performance.now()-t;ee().logEvent(O.DYNAMICUX_LOAD_SUCCESS,1,{TimeMilliseconds:a})}catch(r){this.clientState=3;let n=performance.now()-t;ee().logEvent(O.DYNAMICUX_LOAD_FAILURE,2,{TimeMilliseconds:n,ErrorMessage:"Error: ".concat(r.toString(),", Error stack: ").concat(r.stack)}),C().getCommonInitOptions().onError("Failed to download Dynamic survey UX: ".concat(r))}if(this.userSurveyCallback){this.userSurveyCallback(this.clientState),this.userSurveyCallback=void 0;return}if(this.systemSurveyCallback){this.systemSurveyCallback(this.clientState),this.systemSurveyCallback=void 0;return}})}},s_;function hn(){return s_}function JA(e){s_||(s_=new u_),s_.setup(e)}var rG=X(Ee());var Lu=class{constructor(t){if(this.showPrompt=!0,this.showEmailRequest=!1,t)this.survey=t;else throw Error("survey must not be null");if(t.getType()===rG.Api.SurveyType.Intercept){this.isIntercept=!0;let r=t.getComponent("Intercept");if(r)this.intercept=r;else throw Error("intercept component must not be null")}else{if(this.isIntercept=!1,t.getUxSchema()&&!t.isContentValid())return;let r=t.getComponent("Prompt"),n=t.getComponent("Comment"),i=t.getComponent("Rating"),o=t.getComponent("CVSurvey");if(r)this.prompt=r;else throw Error("prompt component must not be null");if(this.showEmailRequest=t.getSurveyInfo().isAdditionalDataRequested(0),n)this.comment=n;else throw Error("comment component must not be null");if(i)this.rating=i;else throw Error("rating component must not be null");if(o&&(this.cvSurvey=o,this.getLauncherType()===Ac&&!this.getCVSurveyFormId()))throw Error("CvSurveyId should not be null")}}getLauncherType(){return this.isIntercept?void 0:this.survey.getLauncherType()}getCVSurveyFormId(){return this.isIntercept?void 0:this.cvSurvey.getFormId()}getPreGeneratedClientFeedbackId(){return this.survey.getPreGeneratedClientFeedbackId()}getPromptQuestion(){return this.isIntercept?void 0:this.prompt.getQuestion()}getTitle(){return this.isIntercept?void 0:this.prompt.getTitle()}getPromptYesButtonText(){return this.isIntercept?void 0:this.prompt.getYesButtonText()}getPromptNoButtonText(){return this.isIntercept?void 0:this.prompt.getNoButtonText()}getRatingValuesAscending(){return this.isIntercept?void 0:this.rating.getRatingValuesAscending()}getRatingQuestion(){return this.isIntercept?void 0:this.rating.getQuestion()}getCommentQuestion(){return this.isIntercept?void 0:this.comment.getQuestion()}getInterceptTitle(){return this.isIntercept?this.intercept.getTitle():void 0}getInterceptQuestion(){return this.isIntercept?this.intercept.getQuestion():void 0}getInterceptUrl(){return this.isIntercept?this.intercept.getUrl():void 0}setValues(t,r){this.isIntercept||(this.rating.setSelectedRatingIndex(t),this.comment.setSubmittedText(r))}getJsonElements(){return this.survey.getJsonElements()}getSurveyType(){return this.survey.getType()}getCampaignId(){return this.survey.getSurveyInfo().getBackEndId()}getId(){return this.survey.getSurveyInfo().getId()}getGoverenedChannelType(){return this.survey.getSurveyInfo().getGovernedChannelType()}getUxSchema(){return this.survey.getUxSchema()}isContentValid(){return this.survey.isContentValid()}isUserInitiatedSurvey(){return!1}};var{isNOU:C7}=nG.Utils,Uu=class{makeSurveyLauncher(t){return this.AcceptsSurvey(t)?new XA(t):null}AcceptsSurvey(t){return!C7(t)&&t.getType()!==l_.Api.SurveyType.GenericMessagingSurface&&t.getType()!==l_.Api.SurveyType.Dialog?t.getUxSchema()?C().getDynamicUxConfig().enabled?!(hn().getStatus()===3&&!t.isContentValid()):t.isContentValid():!0:!1}};Uu.LAUNCHER_TYPE=l_.Api.LAUNCHER_TYPE_DEFAULT;var XA=class{constructor(t){this.survey=t}launch(){try{sr().OfficeBrowserFeedback.floodgate.showSurvey(new Lu(this.survey)).catch(t=>{ee().logEvent(O.SURVEY_LAUNCHER_SHOWSURVEY_FAILURE,2,{CampaignId:this.survey.getCampaignId(),SurveyId:this.survey.getSurveyInfo().getId(),SurveyType:this.survey.getType(),ErrorMessage:t&&t.toString()})})}catch(t){ee().logEvent(O.SURVEY_LAUNCHER_FAILURE,2,{CampaignId:this.survey.getCampaignId(),SurveyId:this.survey.getSurveyInfo().getId(),SurveyType:this.survey.getType(),ErrorMessage:t&&t.toString()})}}};var{isNOU:Gc}=iG.Utils,_g=class e{constructor(t,r){this.rudeSurveyLauncherFactory=t,this.genericMessagingLauncherFactory=r}static make(){return new e(new Uu,new $r)}makeSurveyLauncher(t){if(Gc(t))return null;switch(t.getLauncherType().toLocaleLowerCase()){case $r.COACHINGUX_LAUNCHER_TYPE:case $r.DIALOG_LAUNCHER_TYPE:return this.makeGenericMessagingSurfaceLauncher(t);case Uu.LAUNCHER_TYPE:default:return this.makeRudeSurveyLauncher(t)}}AcceptsSurvey(t){if(Gc(t))return!1;switch(t.getType()){case $A.Api.SurveyType.Dialog:case $A.Api.SurveyType.GenericMessagingSurface:return C().checkIfMessagingEnabled()&&!Gc(this.genericMessagingLauncherFactory)&&this.genericMessagingLauncherFactory.AcceptsSurvey(t);default:return C().checkIfSurveysEnabled()&&!Gc(this.rudeSurveyLauncherFactory)&&this.rudeSurveyLauncherFactory.AcceptsSurvey(t)}}makeGenericMessagingSurfaceLauncher(t){return Gc(this.genericMessagingLauncherFactory)?null:this.genericMessagingLauncherFactory.makeSurveyLauncher(t)}makeRudeSurveyLauncher(t){return Gc(this.rudeSurveyLauncherFactory)?null:this.rudeSurveyLauncherFactory.makeSurveyLauncher(t)}};var Cg=class{getLanguage(){return C().getCommonInitOptions().originalLocale}};var oG;function aG(e){oG=e}function Ct(){return oG}var Eg=class{loadStringResource(t){let r=Ct();switch(t){case 5:return r.Floodgate.Nps.Rating.Points11Value0;case 6:return r.Floodgate.Nps.Rating.Points11Value1;case 7:return r.Floodgate.Nps.Rating.Points11Value2;case 8:return r.Floodgate.Nps.Rating.Points11Value3;case 9:return r.Floodgate.Nps.Rating.Points11Value4;case 10:return r.Floodgate.Nps.Rating.Points11Value5;case 11:return r.Floodgate.Nps.Rating.Points11Value6;case 12:return r.Floodgate.Nps.Rating.Points11Value7;case 13:return r.Floodgate.Nps.Rating.Points11Value8;case 14:return r.Floodgate.Nps.Rating.Points11Value9;case 15:return r.Floodgate.Nps.Rating.Points11Value10;case 16:return r.Floodgate.Nps.Rating.Points5Value1;case 17:return r.Floodgate.Nps.Rating.Points5Value2;case 18:return r.Floodgate.Nps.Rating.Points5Value3;case 19:return r.Floodgate.Nps.Rating.Points5Value4;case 20:return r.Floodgate.Nps.Rating.Points5Value5;case 4:return r.Floodgate.Nps.Rating.Question;case 21:return r.Floodgate.Nps.Comment.Question;case 3:return r.Floodgate.Nps.Prompt.No;case 1:return r.Floodgate.Nps.Prompt.Question;case 0:return r.Floodgate.Nps.Prompt.Title;case 2:return r.Floodgate.Nps.Prompt.Yes;default:return""}}getCustomString(t){return C().getFloodgateInitOptions().uIStringGetter(t)}};var E7=8e3;function T7(e,t,r,n,i){let o=(s,u)=>new Promise((l,c)=>{let f=new XMLHttpRequest;f.open(e,t,!0),f.timeout=u,f.onload=()=>{i(f,l,c)},f.ontimeout=()=>{s>0?o(s-1,u*2).then(l,c):c(new Error("Request to '".concat(t,"' timed out. timeout: ").concat(f.timeout)))},f.onerror=()=>{s>0?o(s-1,u).then(l,c):c(new Error("Request to '".concat(t,"' errored. ").concat(f.status," - ").concat(f.statusText," : ").concat(f.responseText)))},f.send(r)}),a=C().getCommonInitOptions().petrolTimeout?C().getCommonInitOptions().petrolTimeout:E7;return o(n,a)}var b7="https://petrol-int.office.microsoft.com/v1/feedback",I7="https://petrol.office.microsoft.com/v1/feedback";function sG(e,t,r,n){if(t===void 0)return Promise.reject(new Error("Manifest cannot be undefined"));let i=new FormData;return i.append("Manifest",t),r&&i.append("Screenshot",r),n&&i.append("Diagnostics",n),T7("POST",e?I7:b7,i,2,function(o,a,s){o.status!==200&&s(new Error("Non-200 response with status code: "+o.status+", response: "+o.responseText)),a()})}var c_=class{constructor(t){this.screenshot=t}getContent(){let t;try{t=this.screenshot.toDataURL("image/jpeg").split(",")[1]}catch(o){ee().logEvent(O.Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE,2,{ErrorMessage:o.toString()}),t="iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII="}let r=atob(t),n=[];for(let o=0;o<r.length;o++)n.push(r.charCodeAt(o));return new Blob([new Uint8Array(n)],{type:"image/jpeg"})}};var f_=class{constructor(t,r,n,i,o,a,s,u,l){this.manifestData={appId:r,application:a,clientFeedbackId:o,manifestType:t,source:"Client",submitTime:n,telemetry:s,type:A7(i),web:u,sdkVersion:hS+(sr().OfficeBrowserFeedback.sdkVersion!==void 0?sr().OfficeBrowserFeedback.sdkVersion:ps),retentionDurationDays:l}}getExtendedManifestData(){return this.manifestData.application.extendedManifestData}setComment(t){this.manifestData.comment=t}setEmail(t){this.manifestData.email=t}setCategory(t){this.manifestData.telemetry=this.manifestData.telemetry||{},this.manifestData.telemetry.featureArea=t}setAppData(t){this.manifestData.application=this.manifestData.application||{},this.manifestData.application.appData=t}setExtendedManifestData(t){this.manifestData.application=this.manifestData.application||{},this.manifestData.application.extendedManifestData=t}setClientFeedbackId(t){this.manifestData.clientFeedbackId=t}getClientFeedbackId(){return this.manifestData.clientFeedbackId}setComplianceInformation(t,r,n,i,o,a){this.manifestData.complianceChecks={authenticationType:t,ageGroup:r,policyAllowFeedback:n,policyAllowSurvey:i,policyAllowScreenshot:o,policyAllowContact:a}}setValues(t){if(t)for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(this.manifestData,r)?this.manifestData[r]=Nu(t[r],this.manifestData[r]):this.manifestData[r]=t[r])}getContent(){return new Blob([JSON.stringify(this.manifestData)],{type:"application/json"})}appendUxId(t){!lt(t)&&wc(t)&&t!==""&&(this.manifestData.sdkVersion=this.manifestData.sdkVersion+","+t)}};function A7(e){return e==="Survey"?e:Wp[e]}var gs=class{constructor(t,r,n,i,o,a,s){var u,l,c,f,d,p,v,h;this.clientFeedbackId=Qp(),this.manifest=new f_(r,n,new Date().toISOString(),i,this.clientFeedbackId,Object.assign({},o),Object.assign({},a),Object.assign({},s),C().getCommonInitOptions().retentionDurationDays),this.environment=t,this.manifest.setComplianceInformation(Kr[(l=(u=C().getCommonInitOptions())===null||u===void 0?void 0:u.authenticationType)!==null&&l!==void 0?l:Kr.Unauthenticated],rr[(f=(c=C().getCommonInitOptions())===null||c===void 0?void 0:c.ageGroup)!==null&&f!==void 0?f:rr.Undefined],oa((d=C().getInAppFeedbackInitOptions())===null||d===void 0?void 0:d.sendFeedbackPolicyValue),Zp((p=C().getFloodgateInitOptions())===null||p===void 0?void 0:p.surveyEnabled),oa((v=C().getCommonInitOptions())===null||v===void 0?void 0:v.screenshotPolicyValue),oa((h=C().getCommonInitOptions())===null||h===void 0?void 0:h.emailPolicyValue))}getClientFeedbackId(){return this.clientFeedbackId}getExtendedManifestData(){return this.manifest.getExtendedManifestData()}setComment(t){this.manifest.setComment(t)}setEmail(t){this.manifest.setEmail(t)}setCategory(t){this.manifest.setCategory(t)}setAppData(t){this.manifest.setAppData(t)}setExtendedManifestData(t){this.manifest.setExtendedManifestData(t)}setScreenshot(t){this.screenshot=new c_(t)}setClientFeedbackId(t){this.manifest.setClientFeedbackId(t)}appendUxId(t){this.manifest.appendUxId(t)}getManifest(){return this.manifest}setManifestValues(t){this.manifest.setValues(t)}submit(){if(!C().isFeedbackSurveyEnabledByAADC())return ee().logEvent(O.Shared.Upload.Prevented.VALUE,2,{Data:JSON.stringify({ageGroup:C().getCommonInitOptions().ageGroup,authenticationType:C().getCommonInitOptions().authenticationType})}),Promise.resolve();let t=this.manifest.getContent(),r,n=this.clientFeedbackId;return this.screenshot&&(r=this.screenshot.getContent()),sG(this.environment===0,t,r).catch(function(o){C().setFeedbackSubmitted(!1),C().getCommonInitOptions().onError("Payload submission failed: "+o.message+". ClientFeedbackId: "+n),ee().logEvent(O.Shared.Upload.Failed.VALUE,2,{ErrorMessage:o.message,ClientFeedbackId:n})})}};var Tg=class{makeTransporter(t){return new gs(C().getCommonInitOptions().environment,t,C().getCommonInitOptions().appId,"Survey",C().getCommonInitOptions().applicationGroup,C().getCommonInitOptions().telemetryGroup,C().getCommonInitOptions().webGroup)}};var uG=X(du());var d_=class{constructor(){this.loadAsyncTriggered=!1,this.campaignDefinitions=[]}load(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.campaignDefinitions||[]}loadAsync(){let t=Date.now(),r=Fu().getCampaignDefinitions();r.then(o=>{this.loadCampaignDefinitions(o),this.loadAsyncTriggered=!0});let n=_t("TmsLoadTimeout",n3),i=Ou(n,r);return new Promise((o,a)=>{i.then(s=>{this.loadCampaignDefinitions(s),this.loadAsyncTriggered=!0,o(this.campaignDefinitions)}).catch(s=>{let u=Date.now()-t;this.campaignDefinitions.length<=0&&this.loadCampaignDefinitions(Fu().getCachedCampaignDefinitions()),ee().logEvent(O.FetchCampaignDefinition.Service.Error.VALUE,2,{ErrorMessage:s==null?void 0:s.toString(),TimeMilliseconds:u,Count:this.campaignDefinitions.length}),o(this.campaignDefinitions)}).catch(s=>{o(this.campaignDefinitions)})})}hasDataChanged(){return!1}loadCampaignDefinitions(t){let r=t&&t.campaigns;r&&(this.campaignDefinitions=(0,uG.FilterValidCampaignDefinitions)(r).result)}};function w7(){try{var e=document&&(document.documentElement||document.getElementsByTagName("body")[0]),t={pageWidth:(window==null?void 0:window.innerWidth)||(e==null?void 0:e.clientWidth),pageHeight:(window==null?void 0:window.innerHeight)||(e==null?void 0:e.clientHeight),pageTop:(window==null?void 0:window.pageYOffset)||(e==null?void 0:e.scrollTop),pageLeft:(window==null?void 0:window.pageXOffset)||(e==null?void 0:e.scrollLeft),screenWidth:screen?screen.width:0,screenHeight:screen?screen.height:0,colorDepth:screen?screen.colorDepth:0,userAgent:navigator==null?void 0:navigator.userAgent};return t}catch(r){return null}}function N7(e,t){var r={userConsentGroup:e,feedbackEnabledByAADC:t};return r}function O7(e){var t=e&&e.split("__");if(!t||t.length<=1)return null;var r=null,n=t[0],i=t.pop();if(i&&t.length===1&&(r=tw(window[n]||window,i)),!r&&i&&t.length>1){n==="window"&&t.shift();var o=t.reduce(function(a,s){return a&&a[s]},window);o&&(r=tw(o,i))}return r&&(r.userFactName=e),r}function tw(e,t){if(!e)return null;var r=e[t];if(!r){var n=t.toLowerCase(),i=Object.keys(e).find(function(a){return a.toLowerCase()===n});r=e[i]}if(xu(r)||!rB(r)&&(iB(r)||nB(r)))return null;var o=new Date().toISOString();return{userFactType:"Local",userFactName:t,userFactValue:r.toString(),sourceDateTime:o,storageDateTime:o,clientIngestionDateTime:o}}var ew;function lG(e,t,r){try{ew||(ew=[t,t==null?void 0:t.applicationSettings,t==null?void 0:t.telemetryGroup,t==null?void 0:t.applicationGroup,t==null?void 0:t.webGroup,r.getFloodgateInitOptions(),r,w7(),N7(r.getUserConsentGroup(),r.isFeedbackSurveyEnabledByAADC())]);var n=ew.reduce(function(i,o){return i||tw(o,e)},null);return n||(n=O7(e)),n}catch(i){return De().event("UserFacts_LocalFact_Error",{ErrorMessage:"Error getting local fact - "+e+" "+Yr(i)+" "}),null}}var p_=class{constructor(){this.loadAsyncTriggered=!1,this.userFacts=[],this.nameAndUserFactMap={}}load(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.userFacts||[]}loadAsync(){let t=Fu().getUserFacts().then(i=>{this.loadUserFacts(i)}),r=_t("TulipsLoadTimeout",BS);return Ou(r,t).then(()=>this.userFacts).catch(()=>((!this.userFacts||this.userFacts.length<=0)&&this.loadUserFacts(Yp()),this.userFacts)).catch(()=>this.userFacts)}getUserFact(t){let r=this.nameAndUserFactMap[t];return r||Object.prototype.hasOwnProperty.call(this.nameAndUserFactMap,t)||(r=this.nameAndUserFactMap[t]=lG(t,C().getCommonInitOptions,C())),r}loadUserFacts(t){t&&(this.userFacts=t||[],this.userFacts.map(r=>{this.nameAndUserFactMap[r.userFactName]=r}),this.loadAsyncTriggered=!0,this.logUserFactInfo(this.userFacts))}logUserFactInfo(t){if(!t||t.length<=0)return;let r=_t("TulipsIngestionTimeInterval",u3);if(r<=0)return;let n;try{let i=Date.now(),o=s=>{let u=Date.parse(s);return isNaN(u)?!0:i-u>r},a={Count:t.length,RefreshTime:r,IngestionTime:t[0].clientIngestionDateTime,SourcesExpired:t.filter(s=>s&&o(s.sourceDateTime)).length||void 0,StoragesExpired:t.filter(s=>s&&o(s.storageDateTime)).length||void 0,IngestionsExpired:t.filter(s=>s&&o(s.clientIngestionDateTime)).length||void 0};n={Message:"UserFacts",Data:JSON.stringify(a)}}catch(i){n={ErrorMessage:"Error getting UserFact info"}}ee().logEvent(O.UserFacts.Provider.Info.VALUE,3,n)}};var bg=!1,ms=0,rw,la,ow=null,g_=null,cG=null,fG,nw;function mG(){if(!ii.isStorageAvailable())throw new Error("window.localStorage is not available.");sr().OfficeBrowserFeedback.floodgate=sr().OfficeBrowserFeedback.floodgate||{};let e=sr().OfficeBrowserFeedback.floodgate.initOptions;if(e=e||{},e.campaignDefinitions!==void 0){let r=(0,m_.FilterValidCampaignDefinitions)(e.campaignDefinitions);if(r.error)throw new Error("floodgate.initOptions.campaignDefinitions error: "+r.error);new ii().write(Ig.Api.FloodgateStorageProviderFileType.CampaignDefinitions,JSON.stringify(e.campaignDefinitions))}let t=C();if(t.setFloodgateInitOptions(e),gG.default.resetSessionActivity(),Rn().setup(t),_A().setup(t),(0,pG.setFeatureGateProvider)(C().getFeatureGateProvider()),D7(!0),!t.getFloodgateInitOptions().surveyEnabled){let r=xg.TelemetryLogger.getTelemetryLogger();r&&r.log_Event(ku.TelemetryEvent.Floodgate.Start.SurveysDisabled,{Count:ms,Message:"Floodgate initialized with surveys disabled (surveyEnabled is false)"})}if(!t.getFloodgateInitOptions().messagingEnabled){let r=xg.TelemetryLogger.getTelemetryLogger();r&&r.log_Event(ku.TelemetryEvent.Floodgate.Start.MessagingDisabled,{Count:ms,Message:"Floodgate initialized with messaging disabled (messagingEnabled is false)"})}}function D7(e){bg=e}function aw(){return bg}function vs(e){ow=e}function vG(e,t=null){ms++;let r=(i,o,a,s)=>{let u=xg.TelemetryLogger.getTelemetryLogger();u&&u.log_Event(ku.TelemetryEvent.Floodgate.Start.Failed,{Count:ms,ErrorMessage:o,ErrorDetails:a&&a.stack},s),i(o)};if(!bg)return new Promise((i,o)=>{r(o,"CommonFloodgate is not initialized.",void 0,.01)});if(ow)return ow;let n=new Promise((i,o)=>{var a,s,u,l,c,f;try{let d=C().getCommonInitOptions(),p=[];if(!d){r(o,"Invalid floodgate common init options, state: "+bg);return}let v=C().getFloodgateInitOptions(),h=xg.TelemetryLogger.getTelemetryLogger(),g=(D,P,x)=>{h&&h.log_Event(D,P,x)};v||(g(ku.TelemetryEvent.Floodgate.Start.Warning,{Count:ms,ErrorMessage:"Invalid floodgate init options, state: "+bg}),C().setFloodgateInitOptions({}),v=C().getFloodgateInitOptions()),!t&&!g_&&v&&v.authTokenCallback&&(g_=new d_,cG=new p_),g_&&p.push(g_),!((a=v==null?void 0:v.dynamicCampaignConfig)===null||a===void 0)&&a.enabled&&(!((s=v==null?void 0:v.dynamicCampaignConfig)===null||s===void 0)&&s.ecsClient?(g(ku.TelemetryEvent.Floodgate.Start.DynamicCampaignEnabled,{Count:ms},.01),rw||(rw=new m_.DynamicCampaignDefinitionProvider(v.dynamicCampaignConfig.ecsClient)),p.push(rw)):g(ku.TelemetryEvent.Floodgate.Start.DynamicCampaignClientUndefined,{Count:ms},.1));let m=iw.Governor.GetChannelCoolDown(Ig.GovernedChannelType.TeachingMessage),y=_t("TeachingMessageCooldown",m);iw.Governor.SetDefaultChannelCoolDown(Ig.GovernedChannelType.TeachingMessage,y);let S={shouldFetchSurveyCdnConcurrently:(u=v==null?void 0:v.dynamicUxConfig)===null||u===void 0?void 0:u.cdnStringConfig.fetchCdnConcurrently,uiStringsCdnEnabled:(l=v==null?void 0:v.dynamicUxConfig)===null||l===void 0?void 0:l.cdnStringConfig.uiStringsCdnEnabled,uiStringsLoadingTimeout:(c=v==null?void 0:v.dynamicUxConfig)===null||c===void 0?void 0:c.cdnStringConfig.uiStringsLoadingTimeout,uiStringCdnRetryLimit:(f=v==null?void 0:v.dynamicUxConfig)===null||f===void 0?void 0:f.cdnStringConfig.uiStringCdnRetryLimit,locale:d.originalLocale};if(la=t||dG.FloodgateEngine.make(d.build||"",_g.make(),v.onSurveyActivatedCallback,sw(),v.settingStorageCallback,fG||new Eg,new Cg,new Tg,p,cG,_A(),v.isPriorityEnabled,S,v.appGovernanceProvider,v.logExperimentTrigger,v.campaignTelemetrySamplingConfig,Rn(),v.messagingEnabled,v.surveyEnabled,la&&la.getSurveyClient()),!la){vs(null),r(o,"Failed to create floodgate engine");return}if(e||ms>1)la.start(),i(null);else{let D=la.startAsync();if(!D){vs(null),r(o,"Failed to get floodgate engine");return}D.then(function(){i(null)}).catch(function(x){vs(null),r(o,"Failed to start floodgate engine",x)})}}catch(d){vs(null),r(o,"Failed to load floodgate engine: "+(d&&d.toString()),d)}});return vs(n),n.catch(i=>{vs(null)}),n}function hG(e=!1){return vG(e)}function yG(){la&&la.stop(),vs(null)}function P7(){return la}function sw(){return nw||(nw=new ii),nw}function F7(e){try{return C().updateTheme(e,Bc.get()),Promise.resolve()}catch(t){return Promise.reject(t)}}dR(P7);cR(hG);fR(yG);vR(sw);pR(F7);function SG(e){vB(e)}function _G(e){Sx(e,new Date)}var L7="#0167B0",U7="#194789";function CG(e=void 0,t=void 0){e||(e=L7),t||(t=U7);let r=document.createElement("style");r.textContent=".".concat(A.OverallAnchor,":focus { background-color: ").concat(e," } ")+".".concat(A.OverallAnchor,":hover { background-color: ").concat(t," } ")+".".concat(A.OverallAnchorActive," { background-color: ").concat(e," } ")+".".concat(A.SpinnerCircle," { background-color: ").concat(e," } ")+".".concat(A.ChoiceGroup," input[type=radio]:checked+label>.").concat(A.ChoiceGroupIcon," { border-color: ").concat(e," } ")+".".concat(A.ChoiceGroup," input[type=radio]:hover+label>.").concat(A.ChoiceGroupIcon," { border-color: ").concat(t," } ")+".".concat(A.ChoiceGroup," input[type=radio]:checked+label>.").concat(A.ChoiceGroupIcon,">span { background-color: ").concat(e," } ")+".".concat(A.SubmitButton," { background-color: ").concat(e," } ")+".".concat(A.SubmitButton,":hover { background-color: ").concat(t," } ")+".".concat(A.CancelButton," { background-color: ").concat(e," } ")+".".concat(A.CancelButton,":hover { background-color: ").concat(t," } ")+".".concat(A.Link," { color: ").concat(e," } ")+".".concat(A.Link,":hover { color: ").concat(t," } ")+".".concat(A.ThanksPanelTitle," { color: ").concat(e," } ")+"#".concat(N.TPromptTitle," { color: ").concat(e," } ")+"#".concat(N.TFormTitle," { color: ").concat(e," } "),document.body.appendChild(r)}var uw=!1;function M7(e){aG(e)}function EG(){return new Promise((e,t)=>{if(uw)e(null);else{let r=C().getCommonInitOptions();if(r||t("initOptionsCommon is null"),((r.customResourcesSetExternally&Wr.Css)===Wr.Css||r.stylesUrl)&&ee().logEvent(O.Common.Info.VALUE,3,{Data:"App ".concat(r.appId," tried to initialize with stylesURL under soft depreciation version")},.01),CG(r.primaryColour,r.secondaryColour),(r.customResourcesSetExternally&Wr.Strings)===Wr.Strings)Ct()||t("Expected custom strings to be set by host but UIStrings.getUIStrings() is null or undefined"),uw=!0,e(null);else{let n=r.intlUrl+r.locale.toLowerCase()+"/"+r.intlFilename;qS(n).then(()=>{if(!Ct()){t("UiStrings were not loaded from "+n);return}uw=!0,e(null)}).catch(i=>{t("Script load failed for "+n+". "+i)})}}})}rR(SG);tR(_G);nR(M7);function TG(e){var t,r,n,i;let o=(n=(r=(t=C().getFloodgateInitOptions())===null||t===void 0?void 0:t.dynamicUxConfig)===null||r===void 0?void 0:r.enabled)!==null&&n!==void 0?n:!1,a=(i=Ru==null?void 0:hn())===null||i===void 0?void 0:i.getStatus();return o?a!==2?!1:e:!1}var Ag=class{log_TriggerMet(t,r,n,i,o,a,s){ee().logEvent(O.SURVEY_FLOODGATE_TRIGGERMET,1,{CampaignId:t,SurveyId:r,SurveyType:n,SurveyActivityInfo:i,AdditionalSurveyInfo:o,TreatmentType:a,IsFloodgate2:TG(s)})}log_UserSelected(t,r,n,i,o){ee().logEvent(O.SURVEY_FLOODGATE_USERSELECTED,1,{CampaignId:t,SurveyId:r,SurveyType:n,AdditionalSurveyInfo:i,TreatmentType:o})}log_CampaignLoad_Failed(t){ee().logEvent(O.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED,2,{ErrorMessage:t})}log_Error(t,r){let n={name:t};ee().logEvent(n,2,{ErrorMessage:r})}log_Event(t,r,n){let i={name:t};ee().logEvent(i,1,r,n)}log_LocalError(t,...r){this.log_Local(2,t,r)}log_Local(t,r,...n){ee().logLocal(t,n)}};var wg=class{constructor(t){this.comment="",this.ratingIndex=-1,this.showPrompt=t.showPrompt,this.showEmailRequest=Jp(t.showEmailRequest)?t.showEmailRequest:!1,this.survey=t}getLauncherType(){return this.survey.launcherType}getCVSurveyFormId(){return this.survey.customerVoiceFormId}getPreGeneratedClientFeedbackId(){}getPromptQuestion(){return this.survey.promptQuestion}getTitle(){return this.survey.title}getPromptYesButtonText(){return this.survey.promptYesButtonText}getPromptNoButtonText(){return this.survey.promptNoButtonText}getRatingValuesAscending(){return this.survey.ratingValuesAscending}getRatingQuestion(){return this.survey.ratingQuestion}getCommentQuestion(){return this.survey.commentQuestion}getInterceptTitle(){}getInterceptQuestion(){}getInterceptUrl(){}setValues(t,r){this.comment=r,this.isRatingIndexValid(t)?this.ratingIndex=t:this.ratingIndex=-1}getJsonElements(){let t={};return t.comment=this.comment,t.rating=this.getNormalizedRatingScore(),t.survey={surveyId:this.getCampaignId()},t}getSurveyType(){return this.survey.surveyType}getCampaignId(){return this.survey.campaignId}getId(){return this.getCampaignId()}getGoverenedChannelType(){}getUxSchema(){return this.survey.uxSchema}isContentValid(){return(!lt(this.survey.promptQuestion)&&!lt(this.survey.title)||!this.survey.showPrompt)&&!lt(this.survey.ratingValuesAscending)&&!lt(this.survey.ratingQuestion)&&!lt(this.survey.commentQuestion)}isUserInitiatedSurvey(){return!0}isRatingIndexValid(t){return t>=0&&t<this.survey.ratingValuesAscending.length}getNormalizedRatingScore(){return this.isRatingIndexValid(this.ratingIndex)?this.survey.isZeroBased?this.ratingIndex/(this.survey.ratingValuesAscending.length-1):(this.ratingIndex+1)/this.survey.ratingValuesAscending.length:-1}};var v_=X(Ee());var Ng=class{constructor(){this.showPrompt=!0,this.showEmailRequest=!0,this.comment=""}getCVSurveyFormId(){return"Form ID"}getLauncherType(){return"Launcher Type"}getPromptQuestion(){return"Prompt question?"}getTitle(){return"Title"}getPromptYesButtonText(){return"Yes"}getPromptNoButtonText(){return"No"}getRatingValuesAscending(){return["worst","worse","ok","better","best"]}getRatingQuestion(){return"Rating question?"}getCommentQuestion(){return"Comment question?"}getInterceptTitle(){return"Intercept Title"}getInterceptQuestion(){return"Intercept question?"}getInterceptUrl(){return"https://example.com"}setValues(t,r){r&&(this.comment=r),Cx(t)&&t>=0&&t<=4&&(this.rating=t/4)}getJsonElements(){let t={};return this.comment&&(t.comment=this.comment),this.rating&&(t.rating=this.rating),t}getSurveyType(){return v_.Api.SurveyType.Nps}getCampaignId(){return"10000000-0000-0000-0000-000000000000"}getId(){return"00000000-0000-0000-0000-000000000000"}getGoverenedChannelType(){return v_.GovernedChannelType.Standard}getPreGeneratedClientFeedbackId(){return"00000000-0000-0000-0000-000000000000"}getUxSchema(){}isContentValid(){return!0}isUserInitiatedSurvey(){return!1}};var ui=X(je()),wG=X(Ee());var NG=X(ox());var OG,DG=!1,PG=!1,FG=!1,bG=!1,G7="Survey_UI_Form_Secondary_Submit_Page_Number_",IG="Survey_UI_Form_UserClosed_Page_Number_",Dg=null,xG="";function lw(e,t,r,n){if(OG=function(i){C().getFloodgateInitOptions().onDismiss(C().getFloodgateSurvey().getCampaignId(),i),t()},n){let i={CampaignId:C().getFloodgateSurvey().getCampaignId(),SurveyId:C().getFloodgateSurvey().getId(),SurveyType:C().getFloodgateSurvey().getSurveyType()};return n(e).then(()=>{Vc.logTelemetryEvent(O.SURVEY_RENDER_OVERRIDE_SUCCESS,i)}).catch(o=>{i.ErrorMessage=o,Vc.logTelemetryEvent(O.SURVEY_RENDER_OVERRIDE_ERROR,i)}),{updateStyling:()=>{}}}else{let i=(0,NG.renderCVSurvey)(N.ToastContainer,cw,e,r);return Vc.logTelemetryEvent(O.SURVEY_UI_RENDER_CV_SURVEY_COMPLETED),i}}var cw=(e,t)=>{let r,n,i=!1,o=e.split("_");switch(o.length>1?(r=o[0],n=o[1]):(r="Other",n=o[0]),r){case"CV":switch(n){case"OnSubmit":return K7(t);case"OnCancel":return J7(t);case"OnLoaded":return X7(t);case"OnLog":return RG(t);default:i=!0}break;default:i=!0}if(i){let a={CampaignId:C().getFloodgateSurvey().getCampaignId(),SurveyId:C().getFloodgateSurvey().getId(),SurveyType:C().getFloodgateSurvey().getSurveyType()};Vc.logTelemetryEvent(O.SURVEY_EVENT_KEY_ERROR,a)}};function V7(e){return parseInt(e==null?void 0:e.answerValue[0],10)-1}function Og(e){return e==null?void 0:e.questionValue}function h_(e){return(0,ui.isNOU)(e==null?void 0:e.answerValue[0])?e==null?void 0:e.answerValue[0]:"".concat(e==null?void 0:e.answerValue[0])}function H7(e){return e==null?void 0:e.insightfulQuestionOptions}function z7(e){return e==null?void 0:e.insightfulQuestionAnswers}function j7(e){var t;let r,n=[],i,o,a,s,u,l=[],c,f,d=[],p=[],v=!1,h=!1;return(t=e.pageInfo)===null||t===void 0||t.forEach(m=>{m.questionAnswers.forEach(y=>{switch(y==null?void 0:y.questionType){case"rating":r=V7(y),o=Og(y),a=y.ratingsListLength;break;case"prompt":s=Og(y),u=h_(y);break;case"verbatim":{let S=h_(y),E=Og(y),D=!(0,ui.isNOU)(u),P=!1;v?(!D&&e.pageNumber!=="1"&&(0,ui.isNOU)(Dg)&&!h&&(l.push({question:xG}),n.push(" "),h=!0),P=D||e.pageNumber!=="1"):(Dg=S,xG=E,v=!0,P=D||!(0,ui.isNOU)(Dg)),P&&(l.push({question:E}),n.push((0,ui.isNOU)(S)?" ":S));break}case"email":i=h_(y);break;case"additional":c=Og(y),f=h_(y);break;case"contactme":default:d.push({question:(y==null?void 0:y.questionType)==="contactme"?"contactme":Og(y),options:H7(y)}),p.push(z7(y))}})}),{rating:r,ratingQuestion:o,ratingsListLength:a,email:i,commentsCollection:n,commentTitlesCollection:l,promptQuestion:s,promptResponse:u,additionalPromptQuestion:c,additionalPromptResponse:f,insightfulQuestionOptionsCollection:d,insightfulQuestionAnswersCollection:p}}function q7(e,t){let r,n=[];t.commentsCollection.length>0&&(r=t.commentsCollection,n=t.commentTitlesCollection);let i=JSON.parse(e.getExtendedManifestData());return i.surveyStrings=JSON.stringify({prompt:{title:"",question:t==null?void 0:t.promptQuestion,yesButtonText:"YES",noButtonText:"NO"},rating:[{question:t==null?void 0:t.ratingQuestion,options:[]}],comment:n,multipleChoice:t.insightfulQuestionOptionsCollection}),i.surveySpecificData=JSON.stringify({rating:[{numberOfOptions:t.ratingsListLength,selectedRating:t.rating}],comment:r,multipleChoice:t.insightfulQuestionAnswersCollection}),e.setExtendedManifestData(JSON.stringify(i)),i}function Y7(){let e=C().getCommonInitOptions().applicationGroup.appData,t=[],r={additionalInfo:{SurveyDescription:CB,Flight:C().getCVSurveyFlights(),IsCopilotLicenseEnabled:C().isCopilotLicenseEnabled().toString()}};if((0,ui.isNOU)(e))t.push({});else try{t.push(JSON.parse(e))}catch(n){dr(O.APPDATA_JSON_PARSE_ERROR),t.push({})}return t.push(r),JSON.stringify(t)}function W7(e,t){e.setManifestValues(C().getFloodgateSurvey().getJsonElements()),q7(e,t),t.email&&e.setEmail(t.email);let r=Y7();e.setAppData(r);let n=C().getFloodgateSurvey().getPreGeneratedClientFeedbackId();return n&&e.setClientFeedbackId(n),e}function K7(e){try{let t=j7(e),{rating:r,promptResponse:n,additionalPromptResponse:i}=t;if(Q7(n,i))return;let a=new gs(C().getCommonInitOptions().environment,wG.Api.SurveyType[C().getFloodgateSurvey().getSurveyType()],C().getCommonInitOptions().appId,"Survey",C().getCommonInitOptions().applicationGroup,C().getCommonInitOptions().telemetryGroup,C().getCommonInitOptions().webGroup),s=(0,ui.isNOU)(Dg)?null:Dg;C().getFloodgateSurvey().setValues(Number(r),s||null),W7(a,t),a.submit(),(e.eventType==="FormPartialResponseSubmitted"||e.eventType==="FormResponseSubmitted")&&(DG=!0,bG?(O.SURVEY_UI_FORM_SECONDARY_SUBMIT.name=G7+e.pageNumber,dr(O.SURVEY_UI_FORM_SECONDARY_SUBMIT)):(dr(O.SURVEY_UI_FORM_SUBMIT),bG=!0))}catch(t){dr(O.SURVEY_UI_FORM_SUBMIT_ERROR)}}function Q7(e,t){let r=!1,n=!1;return(0,ui.isNOU)(e)||(r=AG(e,"prompt",PG),n=e===aa.No),(0,ui.isNOU)(t)||(r=AG(t,"additional",FG),n=t===aa.No),r||n}function AG(e,t,r){if(!r){let n,i;return t==="prompt"?(PG=!0,n=O.SURVEY_UI_PROMPT_CLICKED,i=O.SURVEY_UI_PROMPT_USERCLOSED,e===aa.Yes&&dr(O.SURVEY_UI_FORM_SHOWN)):(FG=!0,n=O.SURVEY_UI_ADDITIONALPROMPT_CLICKED,i=O.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED),dr(e===aa.No?i:n),!0}return!1}function J7(e){var t;switch(e.eventType){case"FormClosed":(0,ui.isNOU)(e.pageNumber)?dr(O.SURVEY_UI_FORM_USERCLOSED):(O.SURVEY_UI_FORM_USERCLOSED.name=IG+e.pageNumber.charAt(e.pageNumber.length-1),dr(O.SURVEY_UI_FORM_USERCLOSED));break;case"ThankYouPageClosed":dr(O.SURVEY_UI_THANKYOUPAGE_USERCLOSED);break;case"PromptClosed":dr(O.SURVEY_UI_PROMPT_USERCLOSED);break;case"AdditionalPromptClosed":dr(O.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED);break;case"FormAutoDismissed":dr(O.SURVEY_UI_PROMPT_AUTODISMISSED);break;case"ThankYouPageAutoDismissed":dr(O.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED);break;case"FormResponseCanceled":(0,ui.isNOU)(e.pageNumber)?dr(O.SURVEY_UI_FORM_USERCLOSED):(O.SURVEY_UI_FORM_USERCLOSED.name=IG+((t=e.pageNumber)===null||t===void 0?void 0:t.charAt(e.pageNumber.length-1)),dr(O.SURVEY_UI_FORM_USERCLOSED));break;default:dr(O.SURVEY_UI_FORM_NO_RETURN_TYPE);break}OG(DG)}function X7(e){e.eventId=O.SURVEY_UI_FORM_SHOWN,e.hasSurveyDispatcher?e.eventId=O.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED:e.hasSurveyPromptShown&&(e.eventId=O.SURVEY_UI_PROMPT_SHOWN),RG(e)}function RG(e){var t,r,n,i;let o=C(),a={TimeMilliseconds:e.TimeMilliseconds,CampaignId:o.getFloodgateSurvey().getCampaignId(),SurveyId:o.getFloodgateSurvey().getId(),SurveyType:o.getFloodgateSurvey().getSurveyType(),ErrorMessage:!((t=e.customProperties)===null||t===void 0)&&t.ErrorMessage?(r=e.customProperties)===null||r===void 0?void 0:r.ErrorMessage:null,Message:!((n=e.customProperties)===null||n===void 0)&&n.Message?(i=e.customProperties)===null||i===void 0?void 0:i.Message:null};dr(e.eventId,a)}function dr(e,t){let r=C(),n;t?n=t:n={CampaignId:r.getFloodgateSurvey().getCampaignId(),SurveyId:r.getFloodgateSurvey().getId(),SurveyType:r.getFloodgateSurvey().getSurveyType(),ClientFeedbackId:C().getFloodgateSurvey().getPreGeneratedClientFeedbackId(),CVFormId:r.getFloodgateSurvey().getCVSurveyFormId()},ee().logEvent(e,1,n)}function LG(e,t){let r=C().getCVRenderContext();if(r)r.updateStyling(e,t);else{let n={CampaignId:C().getFloodgateSurvey().getCampaignId(),SurveyId:C().getFloodgateSurvey().getId(),SurveyType:C().getFloodgateSurvey().getSurveyType()};Vc.logTelemetryEvent(O.SURVEY_RENDER_CONTEXT_ERROR,n)}}var Vc={logTelemetryEvent:dr},{internal:rge}={internal:Vc};var C_=X(Ee());var $7=90,y_=8,UG=.2,Pg=34,kG=1/y_,S_=class{constructor(t){this.circleObjects=[],this.spinnerId=t,this.spinner=document.getElementById(this.spinnerId),this.createCirclesAndArrange(),this.initializeOpacities(),this.start(),So(t,!0)}destroy(){So(this.spinnerId,!1),this.stop()}start(){this.stop(),this.interval=setInterval(()=>{let t=this.circleObjects.length;for(;t--;)Z7(this.circleObjects[t])},$7)}stop(){clearInterval(this.interval)}createCirclesAndArrange(){let t=0,r=Pg*UG,n=2*Math.PI/y_,i=y_,o,a=(Pg-r)*.5;for(;i--;){let s=tK(),u=Math.round(Pg*.5+a*Math.cos(t)-s.clientWidth*.5)-r*.5,l=Math.round(Pg*.5+a*Math.sin(t)-s.clientHeight*.5)-r*.5;this.spinner.appendChild(s),s.style.left=u+"px",s.style.top=l+"px",t+=n,o={element:s,j:i},this.circleObjects.push(o)}}initializeOpacities(){let t=0,r=1,n;for(t;t<y_;t++){let i=this.circleObjects[t];n=kG*r++,MG(i.element,n)}}};function Z7(e){let t=eK(e.element)-kG;t<=0&&(t=1),MG(e.element,t)}function eK(e){return parseFloat(window.getComputedStyle(e).getPropertyValue("opacity"))}function MG(e,t){e.style.opacity=t.toString()}function tK(){let e=document.createElement("div");return e.classList.add(A.SpinnerCircle),e.style.width=e.style.height=Pg*UG+"px",e}var{isNOU:VG}=ni,HG,Fg,__,zc;function Rg(e){rK(),HG(e)}function rK(){nK()}var fw=[];function Hc(e,t,r){D3(e,t,r),fw.push({event:t,id:e,listener:r})}function nK(){for(let e of fw)F3(e.id,e.event,e.listener);fw=[]}function _o(e,t,r,n,i,o){let a=C();ee().logEvent(e,1,{CampaignId:a.getFloodgateSurvey().getCampaignId(),SurveyId:a.getFloodgateSurvey().getId(),SurveyType:a.getFloodgateSurvey().getSurveyType(),PromptAutoDismiss:a.getFloodgateInitOptions().autoDismiss.toString(),ClientFeedbackId:t,IsEmailPolicyEnabled:r,PersonalizerUserAction:n,PersonalizerEventId:i,ActualSetAutoDismissValue:o})}function zG(e=function(t){}){HG=e,Fg=!0,Hc(N.ToastContainer,"keyup",iK),Hc(N.ToastCancel,"click",GG),Hc(N.TFormCancelButton,"click",GG),Hc(N.TPromptContainer,"click",oK),Hc(N.TFormSubmitButton,"click",lK),Hc(N.TFormEmailCheckBox,"click",BG),BG(null);let t=document.querySelectorAll('input[name="'+N.TFormRating+'"]');for(let o=0;o<t.length;++o)P3(t[o],"click",uK);let r=C().getFloodgateSurvey().getSurveyType()===C_.Api.SurveyType.Intercept,n=C().getFloodgateInitOptions().autoDismiss,i=dw();switch(!0){case r:n=0;break;case i:{let o=Rn().getOverrideValueForSurveyId(0,C().getFloodgateSurvey().getId());VG(o)||(n=o);break}default:n=C().getFloodgateInitOptions().autoDismiss;break}if(zc=n,!C().getFloodgateSurvey().showPrompt&&!r?YG():_o(O.SURVEY_UI_PROMPT_SHOWN,void 0,void 0,void 0,Rn().getEventIdForSurveyId(C().getFloodgateSurvey().getId()),n),n!==0){let o=eg(n);o!==0&&(__=window.setTimeout(function(){Fg&&(Rg(!1),i?(Rn().logUserActionForSurveyAsync(1,C().getFloodgateSurvey().getId(),C().getFloodgateSurvey().getCampaignId()),_o(O.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,1,Rn().getEventIdForSurveyId(C().getFloodgateSurvey().getId()),n)):_o(O.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,void 0,void 0,zc))},o))}}function BG(e){let t=document.getElementById(N.TFormEmailCheckBox);if(t){let r=document.getElementById(N.TFormEmailTextBox);r.value=t.checked?C().getCommonInitOptions().userEmail:null,r.disabled=!t.checked}}function iK(e){e.keyCode===Fc.Esc&&(e.preventDefault(),e.stopPropagation(),Rg(!1),jG(),qG())}function GG(e){e.preventDefault(),e.stopPropagation(),Rg(!1),jG(),qG()}function jG(){if(Fg&&dw()){Rn().logUserActionForSurveyAsync(0,C().getFloodgateSurvey().getId(),C().getFloodgateSurvey().getCampaignId()),_o(O.SURVEY_UI_PROMPT_USERCLOSED,void 0,void 0,0,Rn().getEventIdForSurveyId(C().getFloodgateSurvey().getId()),zc);return}_o(Fg?O.SURVEY_UI_PROMPT_USERCLOSED:O.SURVEY_UI_FORM_USERCLOSED,void 0,void 0,void 0,void 0,zc)}function qG(){__&&(clearTimeout(__),__=0)}function oK(e){e.preventDefault(),e.stopPropagation(),C().getFloodgateSurvey().getSurveyType()===C_.Api.SurveyType.Intercept?aK():YG()}function aK(){let e=sK(C().getFloodgateSurvey().getInterceptUrl());Rg(!1),_o(e?O.SURVEY_UI_PROMPT_CLICKED:O.SURVEY_UI_REDIRECTIONFAILURE)}function sK(e){let t=window.open(e,"_blank");return VG(t)?!1:(t.focus(),!0)}function YG(){Fg=!1,So(N.TPromptContainer,!1),So(N.TFormContainer,!0),BA(N.ToastContainer,A.ToastZoom),(" "+document.getElementById(N.TFormContainer).className+" ").indexOf(" "+A.Visible+" ")>-1&&(document.getElementById(N.ToastContainer).setAttribute("role","dialog"),document.getElementById(N.ToastContainer).setAttribute("aria-labelledby",N.TFormTitle));let e=document.getElementsByName(N.TFormRating);e&&e.length>0&&e[0].focus(),dw()?(Rn().logUserActionForSurveyAsync(2,C().getFloodgateSurvey().getId(),C().getFloodgateSurvey().getCampaignId()),_o(O.SURVEY_UI_FORM_SHOWN,void 0,void 0,2,Rn().getEventIdForSurveyId(C().getFloodgateSurvey().getId()),zc)):_o(O.SURVEY_UI_FORM_SHOWN,void 0,void 0,void 0,void 0,zc)}function uK(e){document.getElementById(N.TFormSubmitButton).disabled=!1}function lK(e){e.preventDefault(),e.stopPropagation(),So(N.TFormSubmitButton,!1);let t=new S_(N.TFormSubmitButtonSpinner),r=new gs(C().getCommonInitOptions().environment,C_.Api.SurveyType[C().getFloodgateSurvey().getSurveyType()],C().getCommonInitOptions().appId,"Survey",C().getCommonInitOptions().applicationGroup,C().getCommonInitOptions().telemetryGroup,C().getCommonInitOptions().webGroup),n=document.getElementById(N.TFormComment),i=n&&!!n.value,o=document.querySelector('input[name="'+N.TFormRating+'"]:checked');C().getFloodgateSurvey().setValues(Number(o.value),i?UA(n.value):""),r.setManifestValues(C().getFloodgateSurvey().getJsonElements());let a=document.getElementById(N.TFormEmailCheckBox),s=document.getElementById(N.TFormEmailTextBox);a&&a.checked&&s.value!==""&&r.setEmail(UA(s.value)),C().getFloodgateInitOptions().isEudbUxEnabled&&r.appendUxId(EB),r.submit(),t.destroy(),Rg(!0),_o(O.SURVEY_UI_FORM_SUBMIT,r.getClientFeedbackId(),C().getFloodgateInitOptions().showEmailAddress)}function dw(){return Rn().isEnabled(C().getFloodgateSurvey().getSurveyType(),C().getFloodgateSurvey().getLauncherType(),C().getFloodgateSurvey().getGoverenedChannelType())}var pw=X(Ee());var{isNOU:fK}=ni;function WG(e,t,r){let n={children:[],tag:he.FieldSet,attributes:[{name:"required",value:"true"}]};fK(t)||Array.prototype.push.apply(n.children,[{classes:[A.FontSubText],id:N.TFormRatingQuestion,innerText:t,tag:he.Legend,attributes:[{name:H.AriaLabel,value:t}],children:[{classes:[A.RequiredAsterisk],id:N.RequiredAsterisk,innerText:"*",tag:he.Span}]}]);for(let i of r)Array.prototype.push.apply(n.children,dK(i[0].toString(),i[1],e));return{children:[n],classes:[A.ChoiceGroup],id:e}}function dK(e,t,r){return[{attributes:[{name:H.Type,value:Ie.Radio},{name:H.Value,value:e},{name:H.Name,value:r}],id:e,tag:he.Input},{attributes:[{name:H.For,value:e}],children:[{children:[{tag:he.Span}],classes:[A.ChoiceGroupIcon],tag:he.Span},{classes:["obf-ChoiceGroupLabel"],innerHTML:t,tag:he.Span}],classes:[A.FontSubText],tag:he.Label}]}function KG(){return{attributes:[{name:H.DataHtml2CanvasIgnore,value:Ie.True},{name:H.Role,value:"alert"},{name:H.Style,value:C().getCSSVarString()}],children:[gK(),{attributes:[{name:H.Type,value:Ie.Button},{name:H.AriaLabel,value:Ct().CloseLabel}],id:N.ToastCancel,innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>',tag:he.Button},C().getFloodgateSurvey().getSurveyType()!==pw.Api.SurveyType.Intercept?mK(C().getFloodgateInitOptions().isEudbUxEnabled):{}],classes:[A.Toast,GA()?A.Rtl:""],id:N.ToastContainer}}function gK(){let e=C().getFloodgateSurvey().getSurveyType()===pw.Api.SurveyType.Intercept;return{children:[{classes:[A.FontText,A.TextAlignLeft],id:N.TPromptTitle,innerText:e?C().getFloodgateSurvey().getInterceptTitle():C().getFloodgateSurvey().getTitle()},{classes:[A.FontSubText,A.TextAlignLeft],id:N.TPromptText,innerText:e?C().getFloodgateSurvey().getInterceptQuestion():C().getFloodgateSurvey().getPromptQuestion()}],id:N.TPromptContainer,tag:he.Button}}function mK(e){return e?vK():hK()}function vK(){return{children:[JG(Ct().Floodgate.Form.Title),{classes:[A.FontText,A.TextAlignLeft],id:N.TFormTitle,innerText:Ct().Floodgate.Form.Title,attributes:[{name:H.Role,value:"heading"},{name:H.AriaLevel,value:"1"}]},QG(),{attributes:[{name:H.For,value:N.TFormComment},{name:H.AriaLabel,value:C().getFloodgateSurvey().getCommentQuestion()},{name:H.MaxLength,value:Ie.TextAreaMaxLength}],innerText:C().getFloodgateSurvey().getCommentQuestion(),classes:[A.FontSubText],id:N.TFormCommentQuestion,tag:he.Label},{attributes:[{name:H.Placeholder,value:Ct().Form.CommentPlaceholder},{name:H.MaxLength,value:Ie.TextAreaMaxLength}],classes:[A.FontSubText,A.TextInput],id:N.TFormComment,tag:he.TextArea},{brs:C().getFloodgateInitOptions().showEmailAddress&&C().getFloodgateSurvey().showEmailRequest,children:[{attributes:[{name:H.Type,value:Ie.Checkbox}],classes:[A.TFormEmailCheckbox,A.CheckBox],id:N.TFormEmailCheckBox,tag:he.Input},{attributes:[{name:H.For,value:N.TFormEmailCheckBox}],classes:[A.FontSubText,A.TextAlignLeft,A.TFormEmailLabel],innerText:Ct().Form.EmailCheckBoxLabel,tag:he.Label},{attributes:[{name:H.Type,value:Ie.Text},{name:H.Placeholder,value:Ct().Form.EmailPlaceholder},{name:H.AriaLabel,value:Ct().Form.EmailPlaceholder},{name:H.Name,value:N.BasicFormEmailInput},{name:H.MaxLength,value:Ie.TextAreaMaxLength},{name:H.Value,value:""}],classes:[A.FontSubText,A.FormEmailInput,A.TextInput],id:N.TFormEmailTextBox,tag:he.Input}]},{children:[{classes:[A.FontSubSubText,A.TextAlignLeft,A.FormPrivacyConsentText],innerText:yK(),tag:he.Label,id:N.PrivacyConsentText},{attributes:[{name:H.HRef,value:C().getCommonInitOptions().privacyUrl},{name:H.Target,value:Ie.BlankWindow},{name:H.Rel,value:Ie.NoReferrer}],classes:[A.Link],innerText:Ct().PrivacyStatement,tag:he.Anchor}],classes:[A.FontSubSubText,A.TextAlignLeft,A.PrivacyStatementLinkDivEudbUx]},{children:[{attributes:[{name:H.Disabled,value:Ie.True},{name:H.AriaDescribedBy,value:N.PrivacyConsentText}],classes:[A.FontSubText,A.SubmitButton],id:N.TFormSubmitButton,innerText:Ct().Form.Submit,tag:he.Button},{classes:[A.Spinner,A.Hidden],id:N.TFormSubmitButtonSpinner,tag:he.Div},{classes:[A.FontSubText,A.CancelButton,GA()?A.Rtl:""],id:N.TFormCancelButton,innerText:Ct().Form.Cancel,tag:he.Button}],id:N.TFormSubmitButtonContainer}],classes:[A.Hidden],id:N.TFormContainer,attributes:[{name:H.AriaLabelledBy,value:N.TFormContainerLabel}]}}function hK(){return{children:[JG(C().getFloodgateSurvey().getTitle()),{classes:[A.FontText,A.TextAlignLeft],id:N.TFormTitle,innerText:C().getFloodgateSurvey().getTitle()},QG(),{attributes:[{name:H.Placeholder,value:C().getFloodgateSurvey().getCommentQuestion()},{name:H.AriaLabel,value:C().getFloodgateSurvey().getCommentQuestion()},{name:H.MaxLength,value:Ie.TextAreaMaxLength}],classes:[A.FontSubText,A.TextInput],id:N.TFormComment,tag:he.TextArea},{brs:C().getFloodgateInitOptions().showEmailAddress&&C().getFloodgateSurvey().showEmailRequest,children:[{attributes:[{name:H.Type,value:Ie.Checkbox}],classes:[A.TFormEmailCheckbox,A.CheckBox],id:N.TFormEmailCheckBox,tag:he.Input},{attributes:[{name:H.For,value:N.TFormEmailCheckBox}],classes:[A.FontSubText,A.TextAlignLeft,A.TFormEmailLabel],innerText:Ct().Form.EmailCheckBoxLabel,tag:he.Label},{attributes:[{name:H.Type,value:Ie.Text},{name:H.Placeholder,value:Ct().Form.EmailPlaceholder},{name:H.AriaLabel,value:Ct().Form.EmailPlaceholder},{name:H.Name,value:N.BasicFormEmailInput},{name:H.MaxLength,value:Ie.TextAreaMaxLength},{name:H.Value,value:""}],classes:[A.FontSubText,A.FormEmailInput,A.TextInput],id:N.TFormEmailTextBox,tag:he.Input}]},{children:[{attributes:[{name:H.HRef,value:C().getCommonInitOptions().privacyUrl},{name:H.Target,value:Ie.BlankWindow},{name:H.Rel,value:Ie.NoReferrer}],classes:[A.Link],innerText:Ct().PrivacyStatement,tag:he.Anchor}],classes:[A.FontSubSubText,A.TextAlignLeft,A.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:H.Disabled,value:Ie.True}],classes:[A.FontSubText,A.SubmitButton],id:N.TFormSubmitButton,innerText:Ct().Form.Submit,tag:he.Button},{classes:[A.Spinner,A.Hidden],id:N.TFormSubmitButtonSpinner,tag:he.Div}],id:N.TFormSubmitButtonContainer}],classes:[A.Hidden],id:N.TFormContainer,attributes:[{name:H.AriaLabelledBy,value:N.TFormContainerLabel}]}}function QG(){var e;let t=[],r=C().getFloodgateSurvey().getRatingValuesAscending(),n=0;for(let i of r)t.push([n,i]),n++;return WG(N.TFormRating,(e=C().getFloodgateSurvey().getRatingQuestion())===null||e===void 0?void 0:e.trim(),t.reverse())}function yK(){return Tx(C().getCommonInitOptions().telemetryGroup.tenantId)?Ct().Form.PrivacyLabel+Ct().Form.PrivacyConsent+" ":Ct().Form.PrivacyLabel}function JG(e){return{classes:[A.Hidden],id:N.TFormContainerLabel,innerText:e}}function gw(e,t){var r,n;if(typeof e.brs>"u"&&(e.brs=!0),!e.brs)return null;e.tag||(e.tag=he.Div);let i;if(e.tag===he.Svg&&(t=!0),t?i=document.createElementNS("http://www.w3.org/2000/svg",e.tag):i=document.createElement(e.tag),e.attributes){let o;for(let a=0;a<e.attributes.length;a++)o=e.attributes[a],o.name===H.xlinkHref?i.setAttributeNS("http://www.w3.org/1999/xlink",H.HRef,o.value):i.setAttribute(o.name,o.value)}if(e.id&&(i.id=e.id),e.classes){let o=e.classes.join(" ");t?i.setAttribute(H.Class,o):i.className=o}if(e.innerText&&!t&&(i.textContent=e.innerText),e.innerHTML&&!t&&(i.innerHTML=(n=(r=jS())===null||r===void 0?void 0:r.createHTML(e.innerHTML))!==null&&n!==void 0?n:LA(e.innerHTML)),e.children)for(let o=0;o<e.children.length;o++){let a=e.children[o];if(a){let s=gw(a,t);s&&i.appendChild(s)}}return i}function mw(e){var t,r,n,i;let o=C().getDynamicUxConfig().enabled;ee().logEvent(O.SURVEY_UI_CREATE,1,{CampaignId:(t=C().getFloodgateSurvey())===null||t===void 0?void 0:t.getCampaignId(),SurveyId:(r=C().getFloodgateSurvey())===null||r===void 0?void 0:r.getId(),SurveyType:(n=C().getFloodgateSurvey())===null||n===void 0?void 0:n.getSurveyType(),Message:JSON.stringify({DynamicUxClientState:o&&((i=hn())===null||i===void 0?void 0:i.getStatus()),DynamicUxEnabled:o,SurveyEnabled:C().checkIfSurveysEnabled()})}),C().getFloodgateSurvey().getUxSchema()&&o&&hn().getStatus()===2?(kc.get().updateFloodgateSurvey(()=>{hn().unmountSurvey(),e()}),hn().boostStrapSurvey().catch(a=>{ee().logEvent(O.DYNAMICUX_BOOSTSTRAPPER_FAILURE,2,{ErrorMessage:a,Message:JSON.stringify({DynamicUxClientState:hn().getStatus()})}),C().getCommonInitOptions().onError("Failed to bootstrap Dynamic survey UX: ".concat(a))})):(CK(gw(KG())),zG(function(a){So(N.ToastContainer,!1),N3(N.ToastContainer),C().getFloodgateInitOptions().onDismiss(C().getFloodgateSurvey().getCampaignId(),a),e()}))}function CK(e){let t=C().getFloodgateInitOptions().surveyContainer;if(typeof t=="string"){let r=Uc(t);r.insertBefore(e,r.firstChild)}else t instanceof HTMLElement?t.insertBefore(e,t.firstChild):document.body.insertBefore(e,document.body.firstChild);So(N.ToastContainer,!0)}var Lg=!1;function TK(){return new Promise((e,t)=>{let r=n=>{let i=E_.TelemetryLogger.getTelemetryLogger();i&&i.log_Event(hw.TelemetryEvent.Floodgate.Initialize.Failed,{ErrorMessage:n}),t(n)};if(aw())e(null);else{try{YB()}catch(n){t("CommonApp initialization failed: {"+n+"}")}E_.TelemetryLogger.setTelemetryLogger(new Ag),EG().then(function(){try{mG(),bK()}catch(i){r("CommonFloodgate initialization failed: {"+i+"}")}e(null)}).catch(function(i){r("Initialization failed: {"+i+"}")})}})}function bK(){try{(0,$G.setDynamicUxSchemaVariables)(C().getDynamicUxConfig().dynamicVariables),C().getDynamicUxConfig().enabled&&C().checkIfSurveysEnabled()&&(JA(C().getDynamicUxConfig()),hn().delayLoadCentroUx())}catch(e){ee().logEvent(O.DYNAMICUX_INITIALIZATION_FAILURE,2,{ErrorMessage:"DynamicUx intialization failed: {"+e+"}"}),C().resetDynamicUxConfig()}}function yw(e,t){if(!C().checkIfSurveysEnabled())return Promise.reject("Survey is disabled.");if(e.getUxSchema()){if(C().getDynamicUxConfig().enabled&&C().checkIfSurveysEnabled()){let r=hn(),n=r.getStatus();return n===2||n===3?vw(e,t,n):n===1?(r.setOnSurveyActivatedCallback(i=>{vw(e,t,i).catch(o=>{ee().logEvent(O.SURVEY_TRIGGER_DYNAMICUX_FAILURE,1,{CampaignId:e.getCampaignId(),SurveyId:e.getId(),SurveyType:e.getSurveyType(),Message:JSON.stringify({DynamicUxClientState:i}),ErrorMessage:o&&o.toString()})})},e),Promise.resolve()):Promise.reject("DynamicUx is not started")}else if(!e.isContentValid())return Promise.reject("No content available with DynamicUx is disabled")}return vw(e,t)}function vw(e,t,r=2){return r===2||r===3&&e.isContentValid()?new Promise((n,i)=>{if(Lg){i("Control already open");return}if(!C().isFeedbackSurveyEnabledByAADC()){ee().logEvent(O.SURVEY_UI_DISABLED_AADC,2,{CampaignId:e.getCampaignId(),Data:JSON.stringify({ageGroup:C().getCommonInitOptions().ageGroup,authenticationType:C().getCommonInitOptions().authenticationType})}),i("Prompt is prohibited by AADC");return}if(C().setFloodgateSurvey(e||new Ng),C().isCVSurveyEnabled()&&e.getLauncherType()===Ac){let a=IK(e),s=xK(),u=lw(a,function(){Lg=!1},s,t);C().setCVRenderContext(u),Lg=!0,n();return}mw(function(){Lg=!1}),Lg=!0,n()}):Promise.reject("Survey Content is not valid or DynamicUx failed to load")}function IK(e){let t={};return C().getCommonInitOptions().primaryColour&&(t.appPrimaryColor=C().getCommonInitOptions().primaryColour.replace("#","")),C().getCommonInitOptions().secondaryColour&&(t.appSecondaryColor=C().getCommonInitOptions().secondaryColour.replace("#","")),{customerVoiceFormId:e.getCVSurveyFormId(),flights:C().getCVSurveyFlights(),isCommercialHost:C().getCommonInitOptions().isCommercialHost,locale:C().getCommonInitOptions().locale,platform:C().getCommonInitOptions().telemetryGroup.platform,showUserEmailAddress:C().getFloodgateInitOptions().showEmailAddress,productName:C().getProductName(),uiHost:C().getUIHost(),uiHostCVSurveyDispatcher:C().getUIHostCVSurveyDispatcher(),stylesUrl:C().getCommonInitOptions().stylesUrl,urlParams:t,isCopilotLicenseEnabled:C().isCopilotLicenseEnabled()}}function xK(){let e={closeButtonEnabled:!0,cancelButtonEnabled:!0,timeOutEnabled:!0};return C().getCSSPosition()&&(e.cssPosition=C().getCSSPosition()),C().getCSSZIndex()&&(e.cssZIndex=C().getCSSZIndex()),C().getCSSBottom()&&(e.cssBottom=C().getCSSBottom()),C().getCSSRight()&&(e.cssRight=C().getCSSRight()),C().getRuntimeCssVars()&&(e.runtimeCssVars=C().getRuntimeCssVars()),C().getRuntimeHtmlDataAttrs()&&(e.runtimeHtmlDataAttrs=C().getRuntimeHtmlDataAttrs()),e}function AK(e,t){let r=e,n=new Lu(r);return yw(n,t)}function wK(e){return aw()?yw(new wg(e),null):new Promise((t,r)=>{ee().logEvent(O.SURVEY_FLOODGATE_SHOWCUSTOMSURVEY_FAILED,2,{ErrorMessage:"App_Floodgate.showCustomSurvey called when CommonFloodgate has not initialized",CampaignId:e==null?void 0:e.campaignId},.01),r("Floodgate has not been initialized.")})}var NK=(e,t,r,n)=>{let i=!!C().getFloodgateSurvey();if(!!r.customerVoiceFormId)(0,ZG.renderCVSurvey)(e,t,r,n,i);else{let a=E_.TelemetryLogger.getTelemetryLogger();a&&a.log_Event(hw.TelemetryEvent.Floodgate.RenderSurvey.Unsupported,{ErrorMessage:"WARN: renderSurvey currently only supports Customer Voice surveys."})}};function OK(){return XG.RoamingSettingIdMap}oR({renderSurvey:NK,handleSurveyEvent:cw,updateSurveyStyling:LG});aR(yw);sR(AK);uR(wK);lR(TK);mR(OK);function eV(){return sr().OfficeBrowserFeedback}var ye={APP:{ID:2931,NAME:"Microsoft Fabric",VERSION:"18.0.1234.0",BUILD_VERSION:"18.0.1234.0",PLATFORM:"Web"},ENVIRONMENT:{TYPE:"Production",LOCALE:"en-us",LANGUAGE:"en",IS_PRODUCTION:!0},FLOODGATE:{APP_ID:2931,ENVIRONMENT:0,AUTO_DISMISS:2,RETENTION_DAYS:90,SURVEY_CONTAINER:"nps-display",THEME:"TeamsLightV2",FOOTER_ALIGNMENT:0},AUTH:{TYPE:{MSA:0,AAD:1,UNAUTHENTICATED:2},IS_COMMERCIAL_HOST:!0,SHOW_EMAIL_ADDRESS:!0,GOVERNANCE_ENABLED:!1},TELEMETRY:{AUDIENCE_GROUP:"TestAudienceGroup",DEVICE_ID:"TestDeviceId",CUSTOM_RESOURCES_EXTERNALLY:2},DYNAMIC_CAMPAIGN:{ENABLED:!0,HOST:"https://config.edge.skype.com",AGENT:"ChillMicrosoftFabric",AUDIENCE:"Internal",SURVEY_VALIDATION:"true",FILTERS:{agent:"ChillMicrosoftFabric",Environment:"External",Audience:"Internal",SurveyValidation:"true"}},UI:{CDN_STRINGS_ENABLED:!0,FETCH_CDN_CONCURRENTLY:!1,COMPLIANCE_CHECK:!0,SURVEY_ENABLED:!0},ERROR_MESSAGES:{SDK_ERROR:"SDK encountered an error",INIT_FAILED:"Floodgate initialization failed",TARGET_NOT_FOUND:"Target element not found",AUTH_REQUIRED:"SSO Authentication Required",RENDER_FAILED:"Failed to render app"},SUCCESS_MESSAGES:{APP_RENDERED:"App successfully rendered",SDK_INITIALIZED:"Floodgate SDK initialized successfully",USER_AUTHENTICATED:"User authenticated with SSO",DYNAMIC_CAMPAIGN_STARTED:"Dynamic Campaign client started"}},tV={PRODUCTION:{FLOODGATE_ENV:0,LOG_LEVEL:"error",DEBUG_ENABLED:!1},PRE_PRODUCTION:{FLOODGATE_ENV:1,LOG_LEVEL:"warn",DEBUG_ENABLED:!0},DEVELOPMENT:{FLOODGATE_ENV:1,LOG_LEVEL:"debug",DEBUG_ENABLED:!0}},rV=(e=ye.ENVIRONMENT.TYPE)=>tV[e.toUpperCase().replace("-","_")]||tV.DEVELOPMENT,Li=()=>ye.ENVIRONMENT.TYPE==="Production";var DK=["obf-GovernedChannelStates","obf-CampaignStates","obf-SurveyActivationStats","obf-SurveyEventActivityStats"],Sw={APP_USAGE_TIME:"AppUsageTime",READY_TO_PROMPT:"ReadytoPrompt"},Ug=()=>{DK.forEach(e=>{try{localStorage.removeItem(e),console.log("Cleared localStorage key: ".concat(e))}catch(t){console.warn("Failed to clear localStorage key: ".concat(e),t)}}),console.log("OCV state storage cleared for testing")},kg=()=>ye.ENVIRONMENT.TYPE!=="Production"&&(window.location.hostname==="localhost"||window.location.hostname.includes("dev")||!1),T_=5*60*1e3,nV=1e3;async function iV(e){var c;let t=eV(),r=new qh(e),n=rV(),i=(c=document.documentElement.getAttribute("lang"))!=null?c:ye.ENVIRONMENT.LANGUAGE,o=sessionStorage.getItem(ye.STORAGE_KEYS.SESSION_ID);o||(o=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,f=>(f^crypto.getRandomValues(new Uint8Array(1))[0]&15>>f/4).toString(16)),sessionStorage.setItem(ye.STORAGE_KEYS.SESSION_ID,o)),t.initOptions={appId:ye.FLOODGATE.APP_ID,complianceCheck:ye.UI.COMPLIANCE_CHECK,surveyEnabled:ye.UI.SURVEY_ENABLED,environment:ye.FLOODGATE.ENVIRONMENT,locale:i,onError:f=>{Li()||console.error(ye.ERROR_MESSAGES.SDK_ERROR+":",f)},applicationGroup:{appData:JSON.stringify({AppId:ye.APP.ID,AppName:ye.APP.NAME,AppVersion:ye.APP.VERSION,Environment:ye.ENVIRONMENT.TYPE,Language:ye.ENVIRONMENT.LOCALE,SsoId:e==null?void 0:e.ssoId})},telemetryGroup:{audienceGroup:ye.TELEMETRY.AUDIENCE_GROUP,deviceId:ye.TELEMETRY.DEVICE_ID,loggableUserId:e==null?void 0:e.ssoId},telemetrySink:r.getTelemetrySink(),customResourcesSetExternally:ye.TELEMETRY.CUSTOM_RESOURCES_EXTERNALLY,sessionId:o,build:ye.APP.BUILD_VERSION,authenticationType:e!=null&&e.ssoId?ye.AUTH.TYPE.AAD:ye.AUTH.TYPE.UNAUTHENTICATED,isCommercialHost:ye.AUTH.IS_COMMERCIAL_HOST,retentionDurationDays:ye.FLOODGATE.RETENTION_DAYS},t.setUiStrings({});let a,s={enabled:ye.DYNAMIC_CAMPAIGN.ENABLED,ecsClient:void 0},u=new Map;Object.entries(ye.DYNAMIC_CAMPAIGN.FILTERS).forEach(([f,d])=>{u.set(f,d)});try{a=new dy({appName:ye.APP.NAME,appVersion:ye.APP.VERSION,language:ye.ENVIRONMENT.LOCALE,host:ye.DYNAMIC_CAMPAIGN.HOST,filters:u,localStorageProvider:t.floodgate.getStorageProvider()}),await a.start(),s.ecsClient=a,Li()||console.log(ye.SUCCESS_MESSAGES.DYNAMIC_CAMPAIGN_STARTED)}catch(f){Li()||console.error("Dynamic Campaign Error:",f),s.enabled=!1}let l=(f,d)=>{f.launch()};t.floodgate.initOptions={autoDismiss:ye.FLOODGATE.AUTO_DISMISS,complianceCheck:ye.UI.COMPLIANCE_CHECK,userId:e==null?void 0:e.ssoId,userLogin:e==null?void 0:e.ssoId,ssoId:e==null?void 0:e.ssoId,onDismiss:(f,d)=>{},governanceServiceEnabled:ye.AUTH.GOVERNANCE_ENABLED,dynamicCampaignConfig:s,dynamicUxConfig:{enabled:!0,cdnStringConfig:{uiStringsCdnEnabled:ye.UI.CDN_STRINGS_ENABLED,fetchCdnConcurrently:ye.UI.FETCH_CDN_CONCURRENTLY},footerButtonsAlignment:ye.FLOODGATE.FOOTER_ALIGNMENT,theme:ye.FLOODGATE.THEME},onSurveyActivatedCallback:{onSurveyActivated:l},surveyEnabled:ye.UI.SURVEY_ENABLED,showEmailAddress:ye.AUTH.SHOW_EMAIL_ADDRESS,surveyContainer:ye.FLOODGATE.SURVEY_CONTAINER};try{await t.floodgate.initialize(),Li()||console.log(ye.SUCCESS_MESSAGES.SDK_INITIALIZED),kg()&&setTimeout(()=>{Ug()},1e3)}catch(f){throw console.error(ye.ERROR_MESSAGES.INIT_FAILED+":",f),new Error(ye.ERROR_MESSAGES.INIT_FAILED+": "+f)}return t}var Ui={sso_id:typeof nps_sso_id<"u"?nps_sso_id:"3fa85f64-5717-4562-b3fc-2c963f66afa6"};var oV=(0,yn.createContext)({logActivity:()=>console.log("Floodgate context not initialized yet"),logActivityStartTime:()=>console.log("Floodgate context not initialized yet"),logActivityStopTime:()=>console.log("Floodgate context not initialized yet"),logReadyToPrompt:()=>console.log("Floodgate context not initialized yet"),start:async()=>console.log("Floodgate context not initialized yet"),stop:()=>console.log("Floodgate context not initialized yet"),loading:!0,error:null,isInitialized:!1}),aV=({children:e})=>{let[t,r]=(0,yn.useState)(void 0),[n,i]=(0,yn.useState)(!0),[o,a]=(0,yn.useState)(null),[s,u]=(0,yn.useState)(!1),l=async()=>{if(s&&t)try{await t.floodgate.start(),console.log("Floodgate engine started")}catch(g){console.error("Failed to start Floodgate engine",g)}else console.log("Cannot start Floodgate engine: Floodgate not initialized")},c=()=>{if(s&&t)try{t.floodgate.stop(),console.log("Floodgate engine stopped")}catch(g){console.error("Failed to stop Floodgate engine",g)}else console.log("Cannot stop Floodgate engine: Floodgate not initialized")};(0,yn.useEffect)(()=>{(async()=>{if(kg()&&Ug(),!Ui||!Ui.sso_id){console.log("FloodgateProvider: User not authenticated. Skipping Floodgate initialization."),i(!1),a(new Error("User not authenticated - Floodgate initialization skipped"));return}try{let m={userId:Ui.user_id,ssoId:Ui.sso_id};console.log("FloodgateProvider: Initializing Floodgate with user details:",m);let y=await iV(m);await y.floodgate.start(),r(y),console.log("FloodgateProvider: Floodgate SDK initialized successfully"),u(!0),i(!1),window.OfficeBrowserFeedback=y,kg()&&setTimeout(()=>{Ug()},nV)}catch(m){let y=m instanceof Error?m.message:"Unknown error initializing Floodgate";console.error("FloodgateProvider: Failed to initialize Floodgate SDK",m),a(new Error("Floodgate initialization failed: ".concat(y))),i(!1)}})()},[]),(0,yn.useEffect)(()=>{if(s&&t){let g=()=>{l()},m=()=>{c()},y=setTimeout(()=>{c()},T_),S=()=>{document.visibilityState==="visible"?(l(),y=setTimeout(()=>c(),T_)):(clearTimeout(y),c())};return window.addEventListener("focus",g),window.addEventListener("blur",m),window.addEventListener("visibilitychange",S),window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?(l(),y=setTimeout(()=>{c()},T_)):(clearTimeout(y),c())}),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m),window.removeEventListener("visibilitychange",S)}}},[s,t]);let h={logActivity:g=>{s&&t?t.floodgate.getEngine().getActivityListener().logActivity(g):console.log("Floodgate Activity '".concat(g,"' tried to be logged but floodgate did not initialize successfully."))},logActivityStartTime:g=>{s&&t?t.floodgate.getEngine().getActivityListener().logActivityStartTime(g):console.log("Floodgate Activity StartTime '".concat(g,"' tried to be logged but floodgate did not initialize successfully."))},logActivityStopTime:g=>{s&&t?t.floodgate.getEngine().getActivityListener().logActivityStopTime(g):console.log("Floodgate Activity StopTime '".concat(g,"' tried to be logged but floodgate did not initialize successfully."))},logReadyToPrompt:()=>{s&&t?(t.floodgate.getEngine().getActivityListener().logActivity("ReadytoPrompt"),console.log("ReadytoPrompt activity logged - app is ready for surveys")):console.log("ReadytoPrompt activity tried to be logged but floodgate did not initialize successfully.")},start:l,stop:c,loading:n,error:o,isInitialized:s};return yn.default.createElement(oV.Provider,{value:h},e)},sV=()=>{let e=(0,yn.useContext)(oV);if(e===void 0)throw new Error("useFloodgate must be used within a FloodgateProvider");return e};var b_=X(Ve(),1);var uV=()=>{let{logActivity:e,isInitialized:t}=sV(),[r,n]=(0,b_.useState)(!1);return(0,b_.useEffect)(()=>{var o;Li()||(console.log("FloodgateTrigger: isInitialized =",t),console.log("FloodgateTrigger: hasSSO =",!!((o=Ui)!=null&&o.sso_id)),console.log("FloodgateTrigger: hasTriggered =",r)),(async()=>{var a,s;try{t&&((a=Ui)!=null&&a.sso_id)&&!r?(await e(Sw.APP_USAGE_TIME),await e(Sw.READY_TO_PROMPT),n(!0),Li()||console.log("Floodgate activities logged: AppUsageTime and ReadyToPrompt")):(s=Ui)!=null&&s.sso_id||Li()||console.log("User is not logged in with SSO, floodgate will not be triggered")}catch(u){console.error("Failed to log Floodgate activities:",u)}})()},[t,e,r]),null};var PK=()=>Mg.default.createElement(Bs,{theme:Ms},Mg.default.createElement(aV,null,Mg.default.createElement("div",{style:{margin:32}},Mg.default.createElement(uV,null)))),lV=PK;function cV(){var t;if(!((t=Ui)!=null&&t.sso_id)){let r=document.getElementById(ye.FLOODGATE.SURVEY_CONTAINER);r&&_w.default.render(Bg.default.createElement("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontFamily:"Arial, sans-serif"}},Bg.default.createElement("h3",null,ye.ERROR_MESSAGES.AUTH_REQUIRED),Bg.default.createElement("p",null,"Please log in with your SSO account to access this application.")),r);return}let e=document.getElementById(ye.FLOODGATE.SURVEY_CONTAINER);if(!e){console.error(ye.ERROR_MESSAGES.TARGET_NOT_FOUND+":",ye.FLOODGATE.SURVEY_CONTAINER);return}try{_w.default.render(Bg.default.createElement(lV,null),e),Li()||console.log(ye.SUCCESS_MESSAGES.APP_RENDERED)}catch(r){console.error(ye.ERROR_MESSAGES.RENDER_FAILED+":",r)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",cV):cV();})();
/*! Bundled license information:

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

react/cjs/react.production.min.js:
  (** @license React v17.0.2
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (** @license React v0.20.2
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (** @license React v17.0.2
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (** @license React v17.0.2
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

es6-promise/dist/es6-promise.js:
  (*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   v4.2.8+1e68dce6
   *)

keyborg/dist/esm/index.js:
  (*!
   * Copyright (c) Microsoft Corporation. All rights reserved.
   * Licensed under the MIT License.
   *)

@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.11
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
//# sourceMappingURL=OCVApp.js.map
